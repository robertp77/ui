{"remainingRequest":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\src\\components\\TheMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\src\\components\\TheMap.vue","mtime":1619654996654},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnOw0KaW1wb3J0IHsgR2VvU2VhcmNoQ29udHJvbCwgT3BlblN0cmVldE1hcFByb3ZpZGVyIH0gZnJvbSAnbGVhZmxldC1nZW9zZWFyY2gnOw0KaW1wb3J0ICcuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzJzsNCmltcG9ydCAnLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQtZ2Vvc2VhcmNoL2Rpc3QvZ2Vvc2VhcmNoLmNzcyc7DQppbXBvcnQgeyBsaW5rRGF0YVN0b3JlIH0gZnJvbSAnLi4vZGF0YS9MaW5rRGF0YVN0b3JlLmpzJw0KaW1wb3J0IGltYWdlIGZyb20gJy4vSW1hZ2VzL3Bpbi5wbmcnIA0KLy9pbXBvcnQgeyBnZXRKU09OIH0gZnJvbSAnLi9hcGlIZWxwZXInOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdUaGVNYXAnLA0KICAgIGRhdGEgKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgLy8gYmFja2luZyBkYXRhIGZvciBlZGl0cyB1c2luZyB2LW1vZGVsLCBubyBjb3B5IG5lZWRlZCBzaW5jZSBTdHJpbmdzIGFyZSBpbW11dGFibGUNCiAgICAgICAgICAgIGFsbExpbmtzOiBsaW5rRGF0YVN0b3JlLA0KICAgICAgICAgICAgbWFwOiAndGVzdCcsDQogICAgICAgICAgICBwaWNrdXBsb2M6J2luaXQnLA0KICAgICAgICAgICAgcmVxc3RhdHVzOiAncmVxdWVzdCByaWRlJywNCiAgICAgICAgICAgIHByb3ZpZGVyOiAndGVzdCcsDQogICAgICAgICAgICBzZWFyY2hDb250cm9sOiAndGVzdCcsDQogICAgICAgICAgICByZXFwaWNrdXBsb2M6J3Rlc3QnLA0KICAgICAgICAgICAgcmVxZHJvcG9mZmxvYzondGVzdCcsDQogICAgICAgICAgICB0aGVydDondGVzdCcsDQogICAgICAgICAgICBwaWNrdXBsYXQ6MCwNCiAgICAgICAgICAgIHBpY2t1cGxvbmc6MCwNCiAgICAgICAgICAgIGxhdDowLA0KICAgICAgICAgICAgbG9uZzowLA0KICAgICAgICAgICAgdXNlcmlkOiIiLA0KICAgICAgICAgICAgaXNwaWNrOiIiLA0KICAgICAgICAgICAgdGhlcG9wdXA6IiIsDQogICAgICAgICAgICB0aGVnaXZlcmlkZXBvcHVwczpbXSwNCiAgICAgICAgICAgIGNvc3Q6IiIsDQogICAgICAgICAgICByaWRlcmlkOiIiLA0KICAgICAgICAgICAgZW5yb3V0ZTpmYWxzZSwNCiAgICAgICAgICAgIHRoZWJ0bnM6W10sDQogICAgICAgICAgICBpbmRzOltdLA0KICAgICAgICAgICAgeWVzYnRuczpbXSwNCiAgICAgICAgICAgIG5vYnRuczpbXSwNCiAgICAgICAgICAgIGNvbnRhaW5lcnM6W10sDQogICAgICAgICAgICBnaXZpbmc6ZmFsc2UsDQogICAgICAgICAgICBva2J0bnM6W10sDQogICAgICAgICAgICBsb2dnZWRpbjpmYWxzZSwNCiAgICAgICAgICAgIGxvZ2dlZGluMjpmYWxzZSwNCiAgICAgICAgICAgIHJlcXVlc3RlZDpmYWxzZSwNCiAgICAgICAgICAgIHRoZXVzZXJpZDp7fSwNCiAgICAgICAgICAgIG90aGVycmVxc3RhdHVzOmZhbHNlLA0KICAgICAgICAgICAgc2NvcmU6MTUNCiAgICAgICAgICAgIC8vIG1heSBhbHNvIG5lZWQgYSBjb3B5IGdyb3VwIGluZm9ybWF0aW9uIGlmIHRoZXJlIGlzIGFueSBjaGFuY2UgaXQgbWlnaHQgYmUgY2hhbmdlZCBpbnRlcmFjdGl2ZWx5DQogICAgICAgIH07DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8vIGVtaXQgZXZlbnQgdGhhdCBzaWduYWxzIGEgbmV3IGxpbmsgaXMgcmVhZHkgdG8gYmUgYWRkZWQNCiAgICAgICAgLy8gTk9URSwgZXJyb3IgY2hlY2tpbmcgaXMgZG9uZSBpbiB0aGUgY2hpbGQgY29tcG9uZW50DQogICAgICAgIGFzeW5jIGdldHJpZGVzKCl7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZ2V0TGlua3MnKS8vP2xhdD0nK3RoaXMubGF0KycmbG9uZz0nK3RoaXMubG9uZyk7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBnZXRyaWRlcmxhdChpZCl7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZ2V0cmlkZXJsYXQ/aWQ9JytpZCk7DQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBnZXRyaWRlcmxvbmcoaWQpew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2dldHJpZGVybG9uZz9pZD0nK2lkKTsNCiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7DQogICAgICAgIH0sDQogICAgICAgIHdvcmsodmFsdWUpew0KICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUubG9jYXRpb24pDQogICAgICAgICAgICB0aGlzLnBpY2t1cGxvYy5zZXRMYXRMbmcoW3ZhbHVlLmxvY2F0aW9uLnksdmFsdWUubG9jYXRpb24ueF0pDQogICAgICAgIH0sDQogICAgICAgIHVwZGF0ZVBvbHkob2xkTGF0TG5nKXsNCiAgICAgICAgICAgIHRoaXMudGhlcnQucmVtb3ZlKCkNCiAgICAgICAgICAgIHRoaXMudGhlcnQ9TC5wb2x5Z29uKFsNCiAgICAgICAgICAgICAgICBbdGhpcy5waWNrdXBsYXQsIHRoaXMucGlja3VwbG9uZ10sDQogICAgICAgICAgICAgICAgW29sZExhdExuZy5sYXRsbmcubGF0LCBvbGRMYXRMbmcubGF0bG5nLmxuZ10NCiAgICAgICAgICAgIF0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgfSwNCiAgICAgICAgY29ucGljaygpew0KICAgICAgICAgICAgdGhpcy5waWNrdXBsb2Mub24oJ21vdmUnLHRoaXMuY29uZmlybTIpDQogICAgICAgICAgICB0aGlzLnBpY2t1cGxhdD10aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQNCiAgICAgICAgICAgIHRoaXMucGlja3VwbG9uZz10aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sbmcNCiAgICAgICAgICAgIHRoaXMudGhlcnQ9TC5wb2x5Z29uKFsNCiAgICAgICAgICAgICAgICBbdGhpcy5waWNrdXBsYXQsIHRoaXMucGlja3VwbG9uZ10sDQogICAgICAgICAgICAgICAgW3RoaXMucGlja3VwbGF0LCB0aGlzLnBpY2t1cGxvbmcrMC4wMDNdDQogICAgICAgICAgICBdKS5hZGRUbyh0aGlzLm1hcCk7DQogICAgICAgICAgICB0aGlzLnJlcXBpY2t1cGxvYz1MLmNpcmNsZShbdGhpcy5waWNrdXBsYXQsIHRoaXMucGlja3VwbG9uZ10sIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJywNCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdncmVlbicsDQogICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICByYWRpdXM6IDI1LA0KICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQpDQogICAgICAgICAgICB0aGlzLnBpY2t1cGxvYy5zZXRMYXRMbmcoW3RoaXMucGlja3VwbGF0LHRoaXMucGlja3VwbG9uZyswLjAwM10pDQogICAgICAgICAgICB0aGlzLnBpY2t1cGxvYy5vbignbW92ZScsdGhpcy51cGRhdGVQb2x5KQ0KICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5zZXRMYXRMbmcoW3RoaXMucGlja3VwbGF0KygwLjAwMy8odGhpcy5tYXAuZ2V0Wm9vbSgpKio5KSkqKDEzKio5KSx0aGlzLnBpY2t1cGxvbmcrMC4wMDNdKQ0KICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpDQogICAgICAgICAgICB2YXIgYnRuID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcik7DQogICAgICAgICAgICB2YXIgYnRuMiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOw0KICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsNCiAgICAgICAgICAgIGJ0bjIuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOw0KICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICdjb25maXJtIGRyb3BvZmYnOw0KICAgICAgICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsNCiAgICAgICAgICAgIEwuRG9tRXZlbnQub24oYnRuLCAnY2xpY2snLCBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25kcm9wKCkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgTC5Eb21FdmVudC5vbihidG4yLCAnY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5yZXFwaWNrdXBsb2MucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICB0aGlzLnRoZXJ0LnJlbW92ZSgpDQogICAgICAgICAgICAgICAgdGhpcy5waWNrdXBsb2MucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICB0aGlzLm90aGVycmVxc3RhdHVzPWZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5yZW1vdmUoKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB2YXIgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuKTsNCiAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4yKTsNCiAgICAgICAgICAgIHRoaXMudGhlcG9wdXAuc2V0Q29udGVudChuZXdEaXYpDQogICAgICAgICAgICB0aGlzLnRoZXBvcHVwLm9wZW5Pbih0aGlzLm1hcCkNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgY29uZHJvcCgpew0KICAgICAgICAgICAgaWYodGhpcy50aGV1c2VyaWQ9PXVuZGVmaW5lZCYmdGhpcy5sb2dnZWRpbjI9PWZhbHNlKXsNCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCJhcGkvYXV0aC9sb2dpbiIpDQogICAgICAgICAgICAgICAgdGhpcy5sb2dnZWRpbjI9dHJ1ZQ0KICAgICAgICAgICAgICAgIGNvbnN0IHRoZXVzZXJpZCA9IGF3YWl0IHRoaXMudXNlKCk7DQogICAgICAgICAgICAgICAgdGhpcy50aGV1c2VyaWQ9dGhldXNlcmlkLmlkDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25kcm9wKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYodGhpcy50aGV1c2VyaWQ9PXVuZGVmaW5lZCYmdGhpcy5sb2dnZWRpbjI9PXRydWUpew0KICAgICAgICAgICAgICAgIGNvbnN0IHRoZXVzZXJpZCA9IGF3YWl0IHRoaXMudXNlKCk7DQogICAgICAgICAgICAgICAgdGhpcy50aGV1c2VyaWQ9dGhldXNlcmlkLmlkDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50aGV1c2VyaWQpDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb25kcm9wKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5naXZpbmdhbnM9YXdhaXQgdGhpcy5nZXRnaXZlKCkNCiAgICAgICAgICAgICAgICBpZih0aGlzLmdpdmluZ2Fucy5yZXF1ZXN0ZWQ9PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdGVkPWZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5naXZpbmdhbnMucmVxdWVzdGVkPT0nRmFsc2UnKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQ9ZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQ9dHJ1ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZih0aGlzLnJlcXVlc3RlZD09ZmFsc2Upew0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZXJlcXVlc3RlZCcpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVxZHJvcG9mZmxvYz1MLmNpcmNsZShbdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0LCB0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sbmddLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsDQogICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZWQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjUsDQogICAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2t1cGxvYy5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXN0YXR1cz0nY2FuY2VsIHJlcXVlc3QgKDUgbWlsZSBwZW5hbHR5KScNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQ9dHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLm90aGVycmVxc3RhdHVzPWZhbHNlDQogICAgICAgICAgICAgICAgICAgIHRoaXMub2xkc2NvcmU9YXdhaXQgdGhpcy5nZXRzY29yZSgpDQogICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvc2VuZHJpZGU/cmVxdWVzdGVkcGlja3VwbGF0PScrdGhpcy5waWNrdXBsYXQrJyZyZXF1ZXN0ZWRwaWNrdXBsb25nPScrdGhpcy5waWNrdXBsb25nKycmcmVxdWVzdGVkZHJvcG9mZmxhdD0nK3RoaXMucGlja3VwbG9jLmdldExhdExuZygpLmxhdCsnJnJlcXVlc3RlZGRyb3BvZmZsb25nPScrdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubG5nKQ0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrcmlkZXJkZXN0KHRoaXMub2xkc2NvcmUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGF2ZSBhbHJlYWR5IHJlcXVlc3RlZCBhIHJpZGUnKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgd2FpdGZvcmRyaXZlcihvbGRzY29yZSl7DQogICAgICAgICAgICB0aGlzLnNjb3JlPWF3YWl0IHRoaXMuZ2V0c2NvcmUoKQ0KICAgICAgICAgICAgaWYodGhpcy5zY29yZT09b2xkc2NvcmUpew0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdGZvcmRyaXZlcihvbGRzY29yZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBnZXRzY29yZSgpew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2U9YXdhaXQgZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9ncmFic2NvcmUnKQ0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBjaGVja3JpZGVyZGVzdChvbGRzY29yZSl7DQogICAgICAgICAgICB0aGlzLmxhdD1hd2FpdCB0aGlzLmFsbExpbmtzLmdldG5ld2xhdCh0aGlzLnRoZXVzZXJpZCk7DQogICAgICAgICAgICB0aGlzLmxvbmc9YXdhaXQgdGhpcy5hbGxMaW5rcy5nZXRuZXdsbmcodGhpcy50aGV1c2VyaWQpOw0KICAgICAgICAgICAgdGhpcy51c2VycG9zaXRpb24uc2V0TGF0TG5nKFt0aGlzLmxhdCx0aGlzLmxuZ10pDQogICAgICAgICAgICB0aGlzLnNjb3JlPWF3YWl0IHRoaXMuZ2V0c2NvcmUoKQ0KICAgICAgICAgICAgLy90aGlzLmxldD1sYXQNCiAgICAgICAgICAgIC8vdGhpcy5sb25nPWxvbmcNCiAgICAgICAgICAgIGNvbnN0IGRpc3Q9KCh0aGlzLnJlcXVlc3RlZGRyb3BvZmZsYXQtdGhpcy5sYXQpKioyKyh0aGlzLnJlcXVlc3RlZGRyb3BvZmZsb25nLXRoaXMubG9uZykqKjIpKiowLjUNCiAgICAgICAgICAgIGlmKGRpc3Q8MC4wMDMpew0KICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdGVkPWZhbHNlDQogICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9jaGFuZ2VyZXF1ZXN0ZWRmYWxzZScpDQogICAgICAgICAgICAgICAgaWYodGhpcy5zY29yZT09b2xkc2NvcmUpew0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhaXRmb3Jkcml2ZXIob2xkc2NvcmUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrcmlkZXJkZXN0KCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgYWNnaXZlcmlkZShuLG5hbWUscnBsYXQscnBsb25nLHJkbGF0LHJkbG9uZyl7DQogICAgICAgICAgICB0aGlzLmxhdD1hd2FpdCB0aGlzLmFsbExpbmtzLmdldG5ld2xhdCh0aGlzLnRoZXVzZXJpZCk7DQogICAgICAgICAgICB0aGlzLmxvbmc9YXdhaXQgdGhpcy5hbGxMaW5rcy5nZXRuZXdsbmcodGhpcy50aGV1c2VyaWQpOw0KICAgICAgICAgICAgY29uc3QgZGlzdD0oKHJwbGF0LXRoaXMubGF0KSoqMisocnBsb25nLXRoaXMubG9uZykqKjIpKiowLjUNCiAgICAgICAgICAgIGNvbnN0IGRpc3RtaWxlczE9KCgocnBsYXQtdGhpcy5sYXQpKjY5LjE3MikqKjIrKChycGxvbmctdGhpcy5sb25nKSooTWF0aC5jb3MoKChycGxhdC10aGlzLmxhdCkvMikqKE1hdGguUEkvMTgwKSkpKjY5LjE3MikqKjIpKiowLjUNCiAgICAgICAgICAgIHRoaXMudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudCgnR28gdG8nK25hbWUrJygnK2Rpc3RtaWxlczErJ21pbGVzIGF3YXkpJykNCiAgICAgICAgICAgIGlmKGRpc3Q8MC4wMDMpew0KICAgICAgICAgICAgICAgIHRoaXMuZW5yb3V0ZT10cnVlDQogICAgICAgICAgICAgICAgY29uc3QgZGlzdG1pbGVzPSgoKHJwbGF0LXJkbGF0KSo2OS4xNzIpKioyKygocnBsb25nLXJkbG9uZykqKE1hdGguY29zKCgocnBsYXQtcmRsYXQpLzIpKihNYXRoLlBJLzE4MCkpKSo2OS4xNzIpKioyKSoqMC41DQogICAgICAgICAgICAgICAgdGhpcy5jb3N0PWRpc3RtaWxlcw0KICAgICAgICAgICAgICAgIHRoaXMudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudCgnRHJpdmUnK25hbWUrJ3RvIHRoZSBkZXN0aW5hdGlvbignK2Rpc3RtaWxlcysnbWlsZXMgYXdheSknKQ0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tkZXN0KG4sbmFtZSxyZGxhdCxyZGxvbmcpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWNnaXZlcmlkZShuLG5hbWUscnBsYXQscnBsb25nLHJkbGF0LHJkbG9uZykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgZ2V0Z2l2ZSgpew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2U9YXdhaXQgZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9nZXR1c2VyZ2l2ZScpDQogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpDQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGJlZm9yZWFjZ2l2ZXJpZGUobixuYW1lLHJwbGF0LHJwbG9uZyxyZGxhdCxyZGxvbmcpew0KICAgICAgICAgICAgY29uc3QgdGhldXNlcmlkID0gYXdhaXQgdGhpcy51c2UoKTsNCiAgICAgICAgICAgIHRoaXMudGhldXNlcmlkPXRoZXVzZXJpZC5pZA0KICAgICAgICAgICAgaWYodGhpcy50aGV1c2VyaWQ9PXVuZGVmaW5lZCYmdGhpcy5sb2dnZWRpbj09ZmFsc2Upew0KICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oImFwaS9hdXRoL2xvZ2luIikNCiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlZGluPXRydWUNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmJlZm9yZWFjZ2l2ZXJpZGUobixuYW1lLHJwbGF0LHJwbG9uZyxyZGxhdCxyZGxvbmcpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmKHRoaXMudGhldXNlcmlkPT11bmRlZmluZWQmJnRoaXMubG9nZ2VkaW49PXRydWUpew0KICAgICAgICAgICAgICAgIGNvbnN0IHRoZXVzZXJpZCA9IGF3YWl0IHRoaXMudXNlKCk7DQogICAgICAgICAgICAgICAgdGhpcy50aGV1c2VyaWQ9dGhldXNlcmlkLmlkDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5iZWZvcmVhY2dpdmVyaWRlKG4sbmFtZSxycGxhdCxycGxvbmcscmRsYXQscmRsb25nKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmdpdmluZ2Fucz1hd2FpdCB0aGlzLmdldGdpdmUoKQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2l2aW5nYW5zLmdpdmluZz09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5naXZpbmc9ZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLmdpdmluZ2Fucy5naXZpbmc9PSdGYWxzZScpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdpdmluZz1mYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdpdmluZz10cnVlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2l2aW5nKQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZD09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQ9ZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLmdpdmluZ2Fucy5yZXF1ZXN0ZWQ9PSdGYWxzZScpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RlZD1mYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RlZD10cnVlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2l2aW5nPT1mYWxzZSYmdGhpcy5yZXF1ZXN0ZWQ9PWZhbHNlKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5naXZpbmc9dHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZWdpdmUnKQ0KICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjZ2l2ZXJpZGUobixuYW1lLHJwbGF0LHJwbG9uZyxyZGxhdCxyZGxvbmcpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5naXZpbmc9PXRydWUmJnRoaXMucmVxdWVzdGVkPT1mYWxzZSl7DQogICAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5va2J0bnNbbl0sICdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ29iYWNrKG4pDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICAgICAgICAgIHZhciBuZXdDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkVycm9yOiB5b3UgbXVzdCBjb21wbGV0ZSB5b3VyIGN1cnJlbnQgcmlkZSBmaXJzdC4iKTsNCiAgICAgICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld0NvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQodGhpcy5va2J0bnNbbl0pOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldENvbnRlbnQobmV3RGl2KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMub2tidG5zW25dLCAnY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdvYmFjayhuKQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3dDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkVycm9yOiB5b3UgbXVzdCBjYW5jZWwgeW91ciBjdXJyZW50IHJpZGUgcmVxdWVzdCBvciBjb21wbGV0ZSBpdCBpbiBvcmRlciB0byBnaXZlIGEgcmlkZS4iKTsNCiAgICAgICAgICAgICAgICAgICAgbmV3d0Rpdi5hcHBlbmRDaGlsZChuZXd3Q29udGVudCk7DQogICAgICAgICAgICAgICAgICAgIG5ld3dEaXYuYXBwZW5kQ2hpbGQodGhpcy5va2J0bnNbbl0pOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldENvbnRlbnQobmV3d0RpdikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGdpdmVyaWRlKG4sdmFsLG5hbWUscnBsYXQscnBsb25nLHJkbGF0LHJkbG9uZyl7DQogICAgICAgICAgICB0aGlzLnJpZGVyaWQ9dmFsDQogICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMueWVzYnRuc1tuXSwgJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYmVmb3JlYWNnaXZlcmlkZShuLG5hbWUscnBsYXQscnBsb25nLHJkbGF0LHJkbG9uZykNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLm5vYnRuc1tuXSwgJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZ29iYWNrKG4pDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHZhciBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgIHZhciBuZXdDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkFyZSB5b3VyIHN1cmU/IE90aGVyIHVzZXJzIGNhbiB0ZWxsIGlmIHlvdSBmYWlsZWQgdG8gY29tcGxldGUgdGhpcyByaWRlLiIpOw0KICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld0NvbnRlbnQpOw0KICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKHRoaXMueWVzYnRuc1tuXSk7DQogICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQodGhpcy5ub2J0bnNbbl0pOw0KICAgICAgICAgICAgdGhpcy50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KG5ld0RpdikNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgY2hlY2tkZXN0KG4sdmFsLHJkbGF0LHJkbG9uZyl7DQogICAgICAgICAgICBjb25zdCByaWRlcmxhdD1hd2FpdCB0aGlzLmdldHJpZGVybGF0KHRoaXMucmlkZXJpZCk7DQogICAgICAgICAgICBjb25zdCByaWRlcmxvbmc9YXdhaXQgdGhpcy5nZXRyaWRlcmxvbmcodGhpcy5yaWRlcmlkKTsNCiAgICAgICAgICAgIHRoaXMubGF0PWF3YWl0IHRoaXMuYWxsTGlua3MuZ2V0bmV3bGF0KHRoaXMudGhldXNlcmlkKTsNCiAgICAgICAgICAgIHRoaXMubG9uZz1hd2FpdCB0aGlzLmFsbExpbmtzLmdldG5ld2xuZyh0aGlzLnRoZXVzZXJpZCk7DQogICAgICAgICAgICB0aGlzLnVzZXJwb3NpdGlvbi5zZXRMYXRMbmcoW3RoaXMubGF0LHRoaXMubG5nXSkNCiAgICAgICAgICAgIGNvbnN0IGRpc3Q9KChyaWRlcmxhdC1yZGxhdCkqKjIrKHJpZGVybG9uZy1yZGxvbmcpKioyKSoqMC41DQogICAgICAgICAgICBjb25zdCBkaXN0bWlsZXM9KCgocmlkZXJsYXQtcmRsYXQpKjY5LjE3MikqKjIrKChyaWRlcmxvbmctcmRsb25nKSooTWF0aC5jb3MoKChyaWRlcmxhdC1yZGxhdCkvMikqKE1hdGguUEkvMTgwKSkpKjY5LjE3MikqKjIpKiowLjUNCiAgICAgICAgICAgIGlmKGRpc3Q8MC4wMDMpew0KICAgICAgICAgICAgICAgIHRoaXMuZ2l2aW5nPWZhbHNlDQogICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9jaGFuZ2VnaXZlZmFsc2UnKQ0KICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZmluaXNoZWQ/Y29zdD0nK3RoaXMuY29zdCsnJmRyaXZlcj0nK3RoaXMudGhldXNlcmlkKycmcmlkZXI9Jyt0aGlzLnJpZGVyaWQpDQogICAgICAgICAgICAgICAgdGhpcy5zY29yZT1hd2FpdCB0aGlzLmdldHNjb3JlKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KCdEcml2ZScrdmFsKyd0byB0aGUgZGVzdGluYXRpb24oJytkaXN0bWlsZXMrJ21pbGVzIGF3YXkpJykNCiAgICAgICAgICAgICAgICB0aGlzLnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldExhdExuZyhbcmlkZXJsYXQscmlkZXJsb25nXSkNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrZGVzdChyZGxhdCxyZGxvbmcpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIHVzZSgpew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2U9YXdhaXQgZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS91c2VyJykNCiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkNCiAgICAgICAgfSwNCiAgICAgICAgZ29iYWNrKG4pew0KICAgICAgICAgICAgdGhpcy50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KHRoaXMudGhlYnRuc1tuXSkNCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlybSh2YWwpew0KICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5zZXRMYXRMbmcoW3ZhbC5sYXRsbmcubGF0KygwLjAwMy8odGhpcy5tYXAuZ2V0Wm9vbSgpKio5KSkqKDEzKio5KSx2YWwubGF0bG5nLmxuZ10pDQogICAgICAgICAgICAvL3RoaXMubWFwLm9wZW5Qb3B1cCgnPGItYnV0dG9uIGlkPSJ0ZXN0IiBAY2xpY2s9InRlc3QiPnRlc3Q8L2ItYnV0dG9uPicsW3ZhbC5sYXRsbmcubGF0KzAuMDAzLHZhbC5sYXRsbmcubG5nXSx7Y2xvc2VCdXR0b246IGZhbHNlLCBjbG9zZU9uQ2xpY2s6IGZhbHNlfSkNCiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKQ0KICAgICAgICAgICAgdmFyIGJ0biA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOw0KICAgICAgICAgICAgdmFyIGJ0bjIgPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsNCiAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7DQogICAgICAgICAgICBidG4yLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsNCiAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSAnY29uZmlybSBwaWNrdXAnOw0KICAgICAgICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsNCiAgICAgICAgICAgIEwuRG9tRXZlbnQub24oYnRuLCAnY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jb25waWNrKCkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgTC5Eb21FdmVudC5vbihidG4yLCAnY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgIHRoaXMucGlja3VwbG9jLnJlbW92ZSgpDQogICAgICAgICAgICAgICAgdGhpcy5vdGhlcnJlcXN0YXR1cz1mYWxzZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB2YXIgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuKTsNCiAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4yKTsNCiAgICAgICAgICAgIHRoaXMudGhlcG9wdXAuc2V0Q29udGVudChuZXdEaXYpDQogICAgICAgICAgICB0aGlzLnRoZXBvcHVwLm9wZW5Pbih0aGlzLm1hcCkNCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlybTIodmFsKXsNCiAgICAgICAgICAgIHRoaXMudGhlcG9wdXAuc2V0TGF0TG5nKFt2YWwubGF0bG5nLmxhdCsoMC4wMDMvKHRoaXMubWFwLmdldFpvb20oKSoqOSkpKigxMyoqOSksdmFsLmxhdGxuZy5sbmddKQ0KICAgICAgICAgICAgLy90aGlzLm1hcC5vcGVuUG9wdXAoJzxiLWJ1dHRvbiBpZD0idGVzdCIgQGNsaWNrPSJ0ZXN0Ij50ZXN0PC9iLWJ1dHRvbj4nLFt2YWwubGF0bG5nLmxhdCswLjAwMyx2YWwubGF0bG5nLmxuZ10se2Nsb3NlQnV0dG9uOiBmYWxzZSwgY2xvc2VPbkNsaWNrOiBmYWxzZX0pDQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JykNCiAgICAgICAgICAgIHZhciBidG4gPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsNCiAgICAgICAgICAgIHZhciBidG4yID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcik7DQogICAgICAgICAgICBidG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOw0KICAgICAgICAgICAgYnRuMi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7DQogICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJ2NvbmZpcm0gZHJvcG9mZic7DQogICAgICAgICAgICBidG4yLmlubmVySFRNTCA9ICdjYW5jZWwnOw0KICAgICAgICAgICAgTC5Eb21FdmVudC5vbihidG4sICdjbGljaycsIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbmRyb3AoKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKGJ0bjIsICdjbGljaycsICgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlcXBpY2t1cGxvYy5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgIHRoaXMudGhlcnQucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICB0aGlzLnRoZXBvcHVwLnJlbW92ZSgpDQogICAgICAgICAgICAgICAgdGhpcy5waWNrdXBsb2MucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICB0aGlzLm90aGVycmVxc3RhdHVzPWZhbHNlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHZhciBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4pOw0KICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKGJ0bjIpOw0KICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5zZXRDb250ZW50KG5ld0RpdikNCiAgICAgICAgICAgIHRoaXMudGhlcG9wdXAub3Blbk9uKHRoaXMubWFwKQ0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2Vwb3AoKXsNCiAgICAgICAgICAgIHRoaXMudGhlcG9wdXAuc2V0TGF0TG5nKFt0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQrKDAuMDAzLyh0aGlzLm1hcC5nZXRab29tKCkqKjkpKSooMTMqKjkpLCB0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sbmddKQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBzZXRwaWNrdXAoKXsNCiAgICAgICAgICAgIGlmKHRoaXMudGhldXNlcmlkPT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdGVkPWZhbHNlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgIHRoaXMuZ2l2aW5nYW5zPWF3YWl0IHRoaXMuZ2V0Z2l2ZSgpDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5naXZpbmdhbnMucmVxdWVzdGVkKQ0KICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZD09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQ9ZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLmdpdmluZ2Fucy5yZXF1ZXN0ZWQ9PSdGYWxzZScpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RlZD1mYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RlZD10cnVlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgIGlmKHRoaXMucmVxdWVzdGVkPT1mYWxzZSYmdGhpcy5vdGhlcnJlcXN0YXR1cz09ZmFsc2Upew0KICAgICAgICAgICAgICAgIHRoaXMub3RoZXJyZXFzdGF0dXM9dHJ1ZQ0KICAgICAgICAgICAgICAgIGxldCBwaW5JY29uID0gTC5pY29uKHsNCiAgICAgICAgICAgICAgICAgICAgaWNvblVybDogaW1hZ2UsDQogICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjAsMjBdLA0KICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbMTAuNSwyMF0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLnBpY2t1cGxvYyA9IEwubWFya2VyKFt0aGlzLmxhdCwgdGhpcy5sb25nXSwgew0KICAgICAgICAgICAgICAgICAgICBpY29uOiBwaW5JY29uLA0KICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6ICdUcnVlJw0KICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgICAgICB0aGlzLnByb3ZpZGVyID0gbmV3IE9wZW5TdHJlZXRNYXBQcm92aWRlcigpOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoQ29udHJvbCA9IG5ldyBHZW9TZWFyY2hDb250cm9sKHsNCiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsDQogICAgICAgICAgICAgICAgICAgIHNob3dNYXJrZXI6IGZhbHNlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLnNlYXJjaENvbnRyb2wpOw0KICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdnZW9zZWFyY2gvc2hvd2xvY2F0aW9uJywgdGhpcy53b3JrKTsNCiAgICAgICAgICAgICAgICAvL3RoaXMubWFwLm9wZW5Qb3B1cCgnPHA+dGVzdDwvcD4nLFt0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQrMC4wMDMsdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubG5nXSx7Y2xvc2VCdXR0b246IGZhbHNlLCBjbG9zZU9uQ2xpY2s6IGZhbHNlfSkNCiAgICAgICAgICAgICAgICB0aGlzLnRoZXBvcHVwPUwucG9wdXAoe2Nsb3NlQnV0dG9uOmZhbHNlLGNsb3NlT25DbGljazpmYWxzZX0pOw0KICAgICAgICAgICAgICAgIHRoaXMudGhlcG9wdXAuc2V0TGF0TG5nKFt0aGlzLmxhdCsoMC4wMDMvKHRoaXMubWFwLmdldFpvb20oKSoqOSkpKigxMyoqOSksIHRoaXMubG9uZ10pDQogICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ3pvb21lbmQnLHRoaXMuY2hhbmdlcG9wKQ0KICAgICAgICAgICAgICAgIC8vdGhpcy5tYXAub3BlblBvcHVwKCc8Yi1idXR0b24gaWQ9InRlc3QiIEBjbGljaz0idGVzdCI+dGVzdDwvYi1idXR0b24+JyxbdmFsLmxhdGxuZy5sYXQrMC4wMDMsdmFsLmxhdGxuZy5sbmddLHtjbG9zZUJ1dHRvbjogZmFsc2UsIGNsb3NlT25DbGljazogZmFsc2V9KQ0KICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKQ0KICAgICAgICAgICAgICAgIHZhciBidG4gPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsNCiAgICAgICAgICAgICAgICB2YXIgYnRuMiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOw0KICAgICAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7DQogICAgICAgICAgICAgICAgYnRuMi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7DQogICAgICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICdjb25maXJtIHBpY2t1cCc7DQogICAgICAgICAgICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsNCiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKGJ0biwgJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnBpY2soKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oYnRuMiwgJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2t1cGxvYy5yZW1vdmUoKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHZhciBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuKTsNCiAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuMik7DQogICAgICAgICAgICAgICAgdGhpcy50aGVwb3B1cC5zZXRDb250ZW50KG5ld0RpdikNCiAgICAgICAgICAgICAgICB0aGlzLnRoZXBvcHVwLm9wZW5Pbih0aGlzLm1hcCkNCiAgICAgICAgICAgICAgICB0aGlzLnBpY2t1cGxvYy5vbignbW92ZScsdGhpcy5jb25maXJtKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZih0aGlzLm90aGVycmVxc3RhdHVzPT10cnVlKXsNCiAgICAgICAgICAgICAgICBhbGVydCgnQWxyZWFkeSByZXF1ZXN0aW5nLCBkcmFnIHBpbiB0byBzZXQgcGlja3VwIGxvY2F0aW9uJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQ9ZmFsc2UNCiAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZXJlcXVlc3RlZGZhbHNlJykNCiAgICAgICAgICAgICAgICB0aGlzLnJlcXN0YXR1cz0ncmVxdWVzdCByaWRlJw0KICAgICAgICAgICAgICAgIHRoaXMub3RoZXJyZXFzdGF0dXM9ZmFsc2UNCiAgICAgICAgICAgICAgICBpZih0aGlzLnJlcXBpY2t1cGxvYyE9J3Rlc3QnKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXFwaWNrdXBsb2MucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXFkcm9wb2ZmbG9jLnJlbW92ZSgpDQogICAgICAgICAgICAgICAgICAgIHRoaXMudGhlcnQucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIHNldHVwbWFwKCl7DQogICAgICAgICAgICB0aGlzLm1hcCA9IEwubWFwKCdtYXBDb250YWluZXInKS5zZXRWaWV3KFt0aGlzLmxhdCwgdGhpcy5sb25nXSwgMTMpOw0KICAgICAgICAgICAgTC50aWxlTGF5ZXIoJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vc3R5bGVzL3YxL3tpZH0vdGlsZXMve3p9L3t4fS97eX0/YWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pYldGd1ltOTRJaXdpWVNJNkltTnBlalk0TlhWeWNUQTJlbVl5Y1hCbmRIUnFjbVozTjNnaWZRLnJKY0ZJRzIxNEFyaUlTTGJCNkI1YXcnLCB7DQogICAgICAgICAgICAgICAgbWF4Wm9vbTogMTgsDQogICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsICcgKw0KICAgICAgICAgICAgICAgICAgICAnSW1hZ2VyeSDCqSA8YSBocmVmPSJodHRwczovL3d3dy5tYXBib3guY29tLyI+TWFwYm94PC9hPicsDQogICAgICAgICAgICAgICAgaWQ6ICdtYXBib3gvc3RyZWV0cy12MTEnLA0KICAgICAgICAgICAgICAgIHRpbGVTaXplOiA1MTIsDQogICAgICAgICAgICAgICAgem9vbU9mZnNldDogLTENCiAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgIHRoaXMudXNlcnBvc2l0aW9uID0gTC5jaXJjbGUoW3RoaXMubGF0LCB0aGlzLmxvbmddLCB7DQogICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywNCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdibHVlJywNCiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LA0KICAgICAgICAgICAgICAgIHJhZGl1czogMjUsDQogICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7DQogICAgICAgICAgICBjb25zdCB0aGVkYXQ9YXdhaXQgdGhpcy5nZXRyaWRlcygpDQogICAgICAgICAgICB2YXIgaj0wDQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoZWRhdFswXS5Mb2NhdGlvbjM2bjc5WzBdKQ0KICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxPYmplY3QudmFsdWVzKHRoZWRhdFswXS5Mb2NhdGlvbjM2bjc5WzBdKS5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcz1PYmplY3QudmFsdWVzKHRoZWRhdFswXS5Mb2NhdGlvbjM2bjc5WzBdKQ0KICAgICAgICAgICAgICAgIHRoaXMuaW5kcy5wdXNoKGopDQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh2YWx1ZXNbaV0pDQogICAgICAgICAgICAgICAgaWYodGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbGF0IT0iIiYmdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbGF0IT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnZhbHVlc1tpXVswXS5uYW1lIT10aGlzLnRoZXVzZXJpZCl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9seWdvbiA9IEwucG9seWdvbihbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxhdCwgdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbG9uZ10sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMudmFsdWVzW2ldWzBdLnJlcXVlc3RlZGRyb3BvZmZsYXQsIHRoaXMudmFsdWVzW2ldWzBdLnJlcXVlc3RlZGRyb3BvZmZsb25nXQ0KICAgICAgICAgICAgICAgICAgICAgICAgXSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0eXBlb2YodmFsdWVzW2ldWzBdKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhlZ2l2ZXJpZGVwb3B1cHMucHVzaChMLnBvcHVwKHtjbG9zZUJ1dHRvbjpmYWxzZSxjbG9zZU9uQ2xpY2s6ZmFsc2V9KSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFsdWVzW2ldWzBdLmFwcGVuZCh7aW5kOmp9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lcj1MLkRvbVV0aWwuY3JlYXRlKCdkaXYnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aGVidG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aGVidG5zW2pdLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhlYnRuc1tqXS5pbm5lckhUTUwgPSAnZ2l2ZSByaWRlJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24odGhpcy50aGVidG5zW2pdLCAnY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5naXZlcmlkZSh0aGlzLmluZHNbaV0sdGhpcy52YWx1ZXNbaV1bMF0ubmFtZSx0aGlzLnZhbHVlc1tpXVswXS5hY25hbWUsdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbGF0LHRoaXMudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxvbmcsdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxhdCx0aGlzLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRkcm9wb2ZmbG9uZykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55ZXNidG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55ZXNidG5zW2pdLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueWVzYnRuc1tqXS5pbm5lckhUTUwgPSAnWWVzJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9idG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2J0bnNbal0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2J0bnNbal0uaW5uZXJIVE1MID0gJ05vJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2tidG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5va2J0bnNbal0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5va2J0bnNbal0uaW5uZXJIVE1MID0gJ09LJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhlZ2l2ZXJpZGVwb3B1cHNbal0uc2V0Q29udGVudCh0aGlzLnRoZWJ0bnNbal0pDQogICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uLmJpbmRQb3B1cCh0aGlzLnRoZWdpdmVyaWRlcG9wdXBzW2pdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaXJjbGUgPSBMLmNpcmNsZShbdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbGF0LCB0aGlzLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDI1LA0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLmJpbmRQb3B1cCh0aGlzLnRoZWdpdmVyaWRlcG9wdXBzW2pdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNpcmNsZTIgPSBMLmNpcmNsZShbdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgdGhpcy52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxvbmddLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdyZWQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JlZCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDI1LA0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlMi5iaW5kUG9wdXAodGhpcy50aGVnaXZlcmlkZXBvcHVwc1tqXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGorPTENCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYWRkTGluayAobmV3TGluaykgew0KICAgICAgICAgICAgY29uc29sZS5sb2coYEVWRU5UOiBhZGQgbmV3IGl0ZW0gJHtuZXdMaW5rLm5hbWV9IHRvICR7dGhpcy5saW5rR3JvdXAudGl0bGV9YCk7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCduZXctbGluaycsIHRoaXMuZ3JvdXBJZCwgbmV3TGluayk7DQogICAgICAgICAgICAvLyBtYXkgYWxzbyBkbyBhZGRpdGlvbmFsIHdvcmsgcmVsYXRlZCB0byBsb2dnaW5nLCBpbnRlcmFjdGl2aXR5LCBvciBvdGhlciB0cmFja2luZyBjaGFuZ2VzDQogICAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIG1vdW50ZWQgKCkgew0KICAgICAgICBjb25zdCB0aGV1c2VyaWQgPSBhd2FpdCB0aGlzLnVzZSgpOw0KICAgICAgICB0aGlzLnRoZXVzZXJpZD10aGV1c2VyaWQuaWQNCiAgICAgICAgY29uc29sZS5sb2codGhpcy50aGV1c2VyaWQpDQogICAgICAgIGNvbnN0IG5ld2xhdD1hd2FpdCB0aGlzLmFsbExpbmtzLmdldG5ld2xhdCh0aGlzLnRoZXVzZXJpZCk7DQogICAgICAgIGNvbnN0IG5ld2xuZz1hd2FpdCB0aGlzLmFsbExpbmtzLmdldG5ld2xuZyh0aGlzLnRoZXVzZXJpZCk7DQogICAgICAgIHRoaXMubGF0PW5ld2xhdA0KICAgICAgICB0aGlzLmxvbmc9bmV3bG5nDQogICAgICAgIHRoaXMuc2V0dXBtYXAoKTsNCiAgICAgICAgaWYodGhpcy50aGV1c2VyaWQhPXVuZGVmaW5lZCl7DQogICAgICAgICAgICB0aGlzLmdpdmluZ2Fucz1hd2FpdCB0aGlzLmdldGdpdmUoKQ0KICAgICAgICAgICAgdGhpcy5zY29yZT1hd2FpdCB0aGlzLmdldHNjb3JlKCkNCiAgICAgICAgICAgIGlmKHRoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZD09J1RydWUnKXsNCiAgICAgICAgICAgICAgICB0aGlzLnJlcXN0YXR1cz0nQ2FuY2VsIHJlcXVlc3QgKDUgbWlsZSBwZW5hbHR5KScNCiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RlZD10cnVlDQogICAgICAgICAgICAgICAgdGhpcy5yZXFwaWNrdXBsb2M9TC5jaXJjbGUoW3RoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZHBpY2t1cGxhdCwgdGhpcy5naXZpbmdhbnMucmVxdWVzdGVkcGlja3VwbG9uZ10sIHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsDQogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ2dyZWVuJywNCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAyNSwNCiAgICAgICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7DQogICAgICAgICAgICAgICAgdGhpcy50aGVydD1MLnBvbHlnb24oWw0KICAgICAgICAgICAgICAgICAgICBbdGhpcy5naXZpbmdhbnMucmVxdWVzdGVkcGlja3VwbGF0LCB0aGlzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwNCiAgICAgICAgICAgICAgICAgICAgW3RoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZGRyb3BvZmZsYXQsIHRoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZGRyb3BvZmZsb25nXQ0KICAgICAgICAgICAgICAgIF0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgICAgICB0aGlzLnJlcWRyb3BvZmZsb2M9TC5jaXJjbGUoW3RoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZGRyb3BvZmZsYXQsIHRoaXMuZ2l2aW5nYW5zLnJlcXVlc3RlZGRyb3BvZmZsb25nXSwgew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsDQogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JlZCcsDQogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsDQogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjUsDQogICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tyaWRlcmRlc3QoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RlZD1mYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYodGhpcy5naXZpbmdhbnMuZ2l2aW5nPT0nVHJ1ZScpew0KICAgICAgICAgICAgICAgIHRoaXMuZ2l2aW5nPT10cnVlDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGVja2Rlc3QoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmdpdmluZz1mYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vY29uc3QgbmV3bG5nPWF3YWl0IHRoaXMuYWxsTGlua3MuZ2V0bG9uZygpOw0KICAgICAgICAvKg0KICAgICAgICB2YXIgdGhlbGF0PTANCiAgICAgICAgdmFyIHRoZWxvbmc9MA0KICAgICAgICBjb25zb2xlLmxvZyg5OTkpDQogICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocG9zaXRpb24pIHsNCiAgICAgICAgICAgIHRoZWxhdD1wb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7DQogICAgICAgICAgICB0aGVsb25nPXBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIGVycm9yKCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byByZXRyaWV2ZSB5b3VyIGxvY2F0aW9uJyk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlcicpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzLCBlcnJvcik7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgbXltYXAgPSBMLm1hcCgnbWFwaWQnKS5zZXRWaWV3KFt0aGVsYXQsIHRoZWxvbmddLCAxMyk7DQogICAgICAgIEwudGlsZUxheWVyKCdodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS97aWR9L3RpbGVzL3t6fS97eH0ve3l9P2FjY2Vzc190b2tlbj1way5leUoxSWpvaWJXRndZbTk0SWl3aVlTSTZJbU5wZWpZNE5YVnljVEEyZW1ZeWNYQm5kSFJxY21aM04zZ2lmUS5ySmNGSUcyMTRBcmlJU0xiQjZCNWF3Jywgew0KICAgICAgICAgICAgbWF4Wm9vbTogMTgsDQogICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPSJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgJyArDQogICAgICAgICAgICAgICAgJ0ltYWdlcnkgwqkgPGEgaHJlZj0iaHR0cHM6Ly93d3cubWFwYm94LmNvbS8iPk1hcGJveDwvYT4nLA0KICAgICAgICAgICAgaWQ6ICdtYXBib3gvc3RyZWV0cy12MTEnLA0KICAgICAgICAgICAgdGlsZVNpemU6IDUxMiwNCiAgICAgICAgICAgIHpvb21PZmZzZXQ6IC0xDQogICAgICAgIH0pLmFkZFRvKG15bWFwKTsNCiAgICAgICAgZm9yKGxldCBpPTE7aTx0aGlzLmFsbExpbmtzLmRhdGEubGVuZ3RoO2krKyl7DQogICAgICAgICAgICB2YXIgcG9seWdvbiA9IEwucG9seWdvbihbDQogICAgICAgICAgICBbdGhpcy5hbGxMaW5rcy5kYXRhW2ldLnJlcXVlc3RlZHBpY2t1cGxhdCwgdGhpcy5hbGxMaW5rcy5kYXRhLnVzZXJzW2ldLnJlcXVlc3RlZHBpY2t1cGxvbmddLA0KICAgICAgICAgICAgW3RoaXMuYWxsTGlua3MuZGF0YVtpXS5yZXF1ZXN0ZWRkcm9wb2ZmbGF0LCB0aGlzLmFsbExpbmtzLmRhdGEudXNlcnNbaV0ucmVxdWVzdGVkZHJvcG9mZmxvbmddDQogICAgICAgICAgICBdKS5hZGRUbyhteW1hcCk7DQogICAgICAgICAgICBwb2x5Z29uLmJpbmRQb3B1cCgnPGg0PicrdGhpcy5hbGxMaW5rcy5kYXRhW2ldLm5hbWUrJzwvaDQ+Jykub3BlblBvcHVwKCk7DQogICAgICAgICAgICBsZXQgY2lyY2xlID0gTC5jaXJjbGUoW3RoaXMuYWxsTGlua3MuZGF0YVtpXS5yZXF1ZXN0ZWRwaWNrdXBsYXQsIHRoaXMuYWxsTGlua3MuZGF0YVtpXS5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICByYWRpdXM6IDI1LA0KICAgICAgICAgICAgfSkuYWRkVG8obXltYXApOw0KICAgICAgICAgICAgY2lyY2xlLmJpbmRQb3B1cCgnPGg0PicrdGhpcy5hbGxMaW5rcy5kYXRhW2ldLm5hbWUrJzwvaDQ+Jykub3BlblBvcHVwKCk7DQogICAgICAgICAgICBsZXQgY2lyY2xlMiA9IEwuY2lyY2xlKFt0aGlzLmFsbExpbmtzLmRhdGFbaV0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgdGhpcy5hbGxMaW5rcy5kYXRhW2ldLnJlcXVlc3RlZGRyb3BvZmZsb25nXSwgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAncmVkJywNCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZWQnLA0KICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsDQogICAgICAgICAgICAgICAgcmFkaXVzOiAyNSwNCiAgICAgICAgICAgIH0pLmFkZFRvKG15bWFwKTsNCiAgICAgICAgICAgIGNpcmNsZTIuYmluZFBvcHVwKCc8aDQ+Jyt0aGlzLmFsbExpbmtzLmRhdGFbaV0ubmFtZSsnPC9oND4nKS5vcGVuUG9wdXAoKTsNCiAgICAgICAgfQ0KICAgICAgICAqLw0KICAgIH0NCn0NCg=="},{"version":3,"sources":["TheMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TheMap.vue","sourceRoot":"src/components","sourcesContent":["/*\r\n * This represents displaying a group of links.\r\n *\r\n * This is an example of a convenience component that serves to organize the data hierarchy.\r\n * It re-emits the custom events of its child components, adding its own information to them\r\n * to provide for future data accessor methods.\r\n *\r\n * @author Dennis Quan\r\n * @author Robert Duvall\r\n */\r\n\r\n// display group as a column or cards that is organized by BootstrapVue\r\n<template>\r\n    <div id=\"mapwrap\">\r\n        <header>\r\n            <h1>{{score}} miles available for ride requests. Complete ride requests on the map to earn more miles!</h1>\r\n        </header>\r\n        <div id=\"mapContainer\"></div>\r\n        <b-button id=\"request\" @click=\"setpickup\">{{reqstatus}}</b-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as L from 'leaflet';\r\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\r\nimport '../../node_modules/leaflet/dist/leaflet.css';\r\nimport '../../node_modules/leaflet-geosearch/dist/geosearch.css';\r\nimport { linkDataStore } from '../data/LinkDataStore.js'\r\nimport image from './Images/pin.png' \r\n//import { getJSON } from './apiHelper';\r\nexport default {\r\n    name: 'TheMap',\r\n    data () {\r\n        return {\r\n            // backing data for edits using v-model, no copy needed since Strings are immutable\r\n            allLinks: linkDataStore,\r\n            map: 'test',\r\n            pickuploc:'init',\r\n            reqstatus: 'request ride',\r\n            provider: 'test',\r\n            searchControl: 'test',\r\n            reqpickuploc:'test',\r\n            reqdropoffloc:'test',\r\n            thert:'test',\r\n            pickuplat:0,\r\n            pickuplong:0,\r\n            lat:0,\r\n            long:0,\r\n            userid:\"\",\r\n            ispick:\"\",\r\n            thepopup:\"\",\r\n            thegiveridepopups:[],\r\n            cost:\"\",\r\n            riderid:\"\",\r\n            enroute:false,\r\n            thebtns:[],\r\n            inds:[],\r\n            yesbtns:[],\r\n            nobtns:[],\r\n            containers:[],\r\n            giving:false,\r\n            okbtns:[],\r\n            loggedin:false,\r\n            loggedin2:false,\r\n            requested:false,\r\n            theuserid:{},\r\n            otherreqstatus:false,\r\n            score:15\r\n            // may also need a copy group information if there is any chance it might be changed interactively\r\n        };\r\n    },\r\n    methods: {\r\n        // emit event that signals a new link is ready to be added\r\n        // NOTE, error checking is done in the child component\r\n        async getrides(){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getLinks')//?lat='+this.lat+'&long='+this.long);\r\n            return response.json();\r\n        },\r\n        async getriderlat(id){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getriderlat?id='+id);\r\n            return response.json();\r\n        },\r\n        async getriderlong(id){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getriderlong?id='+id);\r\n            return response.json();\r\n        },\r\n        work(value){\r\n            console.log(value.location)\r\n            this.pickuploc.setLatLng([value.location.y,value.location.x])\r\n        },\r\n        updatePoly(oldLatLng){\r\n            this.thert.remove()\r\n            this.thert=L.polygon([\r\n                [this.pickuplat, this.pickuplong],\r\n                [oldLatLng.latlng.lat, oldLatLng.latlng.lng]\r\n            ]).addTo(this.map);\r\n        },\r\n        conpick(){\r\n            this.pickuploc.on('move',this.confirm2)\r\n            this.pickuplat=this.pickuploc.getLatLng().lat\r\n            this.pickuplong=this.pickuploc.getLatLng().lng\r\n            this.thert=L.polygon([\r\n                [this.pickuplat, this.pickuplong],\r\n                [this.pickuplat, this.pickuplong+0.003]\r\n            ]).addTo(this.map);\r\n            this.reqpickuploc=L.circle([this.pickuplat, this.pickuplong], {\r\n                color: 'green',\r\n                fillColor: 'green',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            //console.log(this.pickuploc.getLatLng().lat)\r\n            this.pickuploc.setLatLng([this.pickuplat,this.pickuplong+0.003])\r\n            this.pickuploc.on('move',this.updatePoly)\r\n            this.thepopup.setLatLng([this.pickuplat+(0.003/(this.map.getZoom()**9))*(13**9),this.pickuplong+0.003])\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm dropoff';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', async () => {\r\n                await this.condrop()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.reqpickuploc.remove()\r\n                this.thert.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n                this.thepopup.remove()\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        async condrop(){\r\n            if(this.theuserid==undefined&&this.loggedin2==false){\r\n                window.location.assign(\"api/auth/login\")\r\n                this.loggedin2=true\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                await this.condrop()\r\n            }\r\n            else if(this.theuserid==undefined&&this.loggedin2==true){\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                console.log(this.theuserid)\r\n                await this.condrop()\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n                if(this.requested==false){\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/changerequested')\r\n                    this.reqdropoffloc=L.circle([this.pickuploc.getLatLng().lat, this.pickuploc.getLatLng().lng], {\r\n                        color: 'red',\r\n                        fillColor: 'red',\r\n                        fillOpacity: 0.5,\r\n                        radius: 25,\r\n                    }).addTo(this.map);\r\n                    this.thepopup.remove()\r\n                    this.pickuploc.remove()\r\n                    this.reqstatus='cancel request (5 mile penalty)'\r\n                    this.requested=true\r\n                    this.otherreqstatus=false\r\n                    this.oldscore=await this.getscore()\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/sendride?requestedpickuplat='+this.pickuplat+'&requestedpickuplong='+this.pickuplong+'&requesteddropofflat='+this.pickuploc.getLatLng().lat+'&requesteddropofflong='+this.pickuploc.getLatLng().lng)\r\n                    await this.checkriderdest(this.oldscore)\r\n                }\r\n                else{\r\n                    alert('You have already requested a ride')\r\n                }\r\n            }\r\n        },\r\n        async waitfordriver(oldscore){\r\n            this.score=await this.getscore()\r\n            if(this.score==oldscore){\r\n                await this.waitfordriver(oldscore)\r\n            }\r\n            else{\r\n                console.log('success')\r\n            }\r\n        },\r\n        async getscore(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/grabscore')\r\n            return response.json()\r\n        },\r\n        async checkriderdest(oldscore){\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            this.userposition.setLatLng([this.lat,this.lng])\r\n            this.score=await this.getscore()\r\n            //this.let=lat\r\n            //this.long=long\r\n            const dist=((this.requesteddropofflat-this.lat)**2+(this.requesteddropofflong-this.long)**2)**0.5\r\n            if(dist<0.003){\r\n                this.requested=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changerequestedfalse')\r\n                if(this.score==oldscore){\r\n                    await this.waitfordriver(oldscore)\r\n                }\r\n            }\r\n            else{\r\n                await this.checkriderdest()\r\n            }\r\n        },\r\n        async acgiveride(n,name,rplat,rplong,rdlat,rdlong){\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            const dist=((rplat-this.lat)**2+(rplong-this.long)**2)**0.5\r\n            const distmiles1=(((rplat-this.lat)*69.172)**2+((rplong-this.long)*(Math.cos(((rplat-this.lat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n            this.thegiveridepopups[n].setContent('Go to'+name+'('+distmiles1+'miles away)')\r\n            if(dist<0.003){\r\n                this.enroute=true\r\n                const distmiles=(((rplat-rdlat)*69.172)**2+((rplong-rdlong)*(Math.cos(((rplat-rdlat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n                this.cost=distmiles\r\n                this.thegiveridepopups[n].setContent('Drive'+name+'to the destination('+distmiles+'miles away)')\r\n                await this.checkdest(n,name,rdlat,rdlong)\r\n            }\r\n            else{\r\n                await this.acgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n        },\r\n        async getgive(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/getusergive')\r\n            return response.json()\r\n        },\r\n        async beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong){\r\n            const theuserid = await this.use();\r\n            this.theuserid=theuserid.id\r\n            if(this.theuserid==undefined&&this.loggedin==false){\r\n                window.location.assign(\"api/auth/login\")\r\n                this.loggedin=true\r\n                await this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n            else if(this.theuserid==undefined&&this.loggedin==true){\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                await this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                if(this.givingans.giving==undefined){\r\n                    this.giving=false\r\n                }\r\n                else if(this.givingans.giving=='False'){\r\n                    this.giving=false\r\n                }\r\n                else{\r\n                    this.giving=true\r\n                }\r\n                console.log(this.giving)\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n                if(this.giving==false&&this.requested==false){\r\n                    this.giving=true\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/changegive')\r\n                    await this.acgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n                }\r\n                else if(this.giving==true&&this.requested==false){\r\n                    L.DomEvent.on(this.okbtns[n], 'click', () => {\r\n                        this.goback(n)\r\n                    });\r\n                    var newDiv = document.createElement(\"div\");\r\n                    var newContent = document.createTextNode(\"Error: you must complete your current ride first.\");\r\n                    newDiv.appendChild(newContent);\r\n                    newDiv.appendChild(this.okbtns[n]);\r\n                    this.thegiveridepopups[n].setContent(newDiv)\r\n                }\r\n                else{\r\n                    L.DomEvent.on(this.okbtns[n], 'click', () => {\r\n                        this.goback(n)\r\n                    });\r\n                    var newwDiv = document.createElement(\"div\");\r\n                    var newwContent = document.createTextNode(\"Error: you must cancel your current ride request or complete it in order to give a ride.\");\r\n                    newwDiv.appendChild(newwContent);\r\n                    newwDiv.appendChild(this.okbtns[n]);\r\n                    this.thegiveridepopups[n].setContent(newwDiv)\r\n                }\r\n            }\r\n        },\r\n        async giveride(n,val,name,rplat,rplong,rdlat,rdlong){\r\n            this.riderid=val\r\n            L.DomEvent.on(this.yesbtns[n], 'click', () => {\r\n                this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            });\r\n            L.DomEvent.on(this.nobtns[n], 'click', () => {\r\n                this.goback(n)\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            var newContent = document.createTextNode(\"Are your sure? Other users can tell if you failed to complete this ride.\");\r\n            newDiv.appendChild(newContent);\r\n            newDiv.appendChild(this.yesbtns[n]);\r\n            newDiv.appendChild(this.nobtns[n]);\r\n            this.thegiveridepopups[n].setContent(newDiv)\r\n        },\r\n        async checkdest(n,val,rdlat,rdlong){\r\n            const riderlat=await this.getriderlat(this.riderid);\r\n            const riderlong=await this.getriderlong(this.riderid);\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            this.userposition.setLatLng([this.lat,this.lng])\r\n            const dist=((riderlat-rdlat)**2+(riderlong-rdlong)**2)**0.5\r\n            const distmiles=(((riderlat-rdlat)*69.172)**2+((riderlong-rdlong)*(Math.cos(((riderlat-rdlat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n            if(dist<0.003){\r\n                this.giving=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changegivefalse')\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/finished?cost='+this.cost+'&driver='+this.theuserid+'&rider='+this.riderid)\r\n                this.score=await this.getscore()\r\n            }\r\n            else{\r\n                this.thegiveridepopups[n].setContent('Drive'+val+'to the destination('+distmiles+'miles away)')\r\n                this.thegiveridepopups[n].setLatLng([riderlat,riderlong])\r\n                await this.checkdest(rdlat,rdlong)\r\n            }\r\n        },\r\n        async use(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/user')\r\n            return response.json()\r\n        },\r\n        goback(n){\r\n            this.thegiveridepopups[n].setContent(this.thebtns[n])\r\n        },\r\n        confirm(val){\r\n            this.thepopup.setLatLng([val.latlng.lat+(0.003/(this.map.getZoom()**9))*(13**9),val.latlng.lng])\r\n            //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm pickup';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', () => {\r\n                this.conpick()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.thepopup.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        confirm2(val){\r\n            this.thepopup.setLatLng([val.latlng.lat+(0.003/(this.map.getZoom()**9))*(13**9),val.latlng.lng])\r\n            //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm dropoff';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', async () => {\r\n                await this.condrop()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.reqpickuploc.remove()\r\n                this.thert.remove()\r\n                this.thepopup.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        changepop(){\r\n            this.thepopup.setLatLng([this.pickuploc.getLatLng().lat+(0.003/(this.map.getZoom()**9))*(13**9), this.pickuploc.getLatLng().lng])\r\n        },\r\n        async setpickup(){\r\n            if(this.theuserid==undefined){\r\n                this.requested=false\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                console.log(this.givingans.requested)\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n            } \r\n            if(this.requested==false&&this.otherreqstatus==false){\r\n                this.otherreqstatus=true\r\n                let pinIcon = L.icon({\r\n                    iconUrl: image,\r\n                    iconSize: [20,20],\r\n                    iconAnchor: [10.5,20]\r\n                });\r\n                this.pickuploc = L.marker([this.lat, this.long], {\r\n                    icon: pinIcon,\r\n                    draggable: 'True'\r\n                }).addTo(this.map);\r\n                this.provider = new OpenStreetMapProvider();\r\n                this.searchControl = new GeoSearchControl({\r\n                    provider: this.provider,\r\n                    showMarker: false\r\n                });\r\n                this.map.addControl(this.searchControl);\r\n                this.map.on('geosearch/showlocation', this.work);\r\n                //this.map.openPopup('<p>test</p>',[this.pickuploc.getLatLng().lat+0.003,this.pickuploc.getLatLng().lng],{closeButton: false, closeOnClick: false})\r\n                this.thepopup=L.popup({closeButton:false,closeOnClick:false});\r\n                this.thepopup.setLatLng([this.lat+(0.003/(this.map.getZoom()**9))*(13**9), this.long])\r\n                this.map.on('zoomend',this.changepop)\r\n                //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n                var container = L.DomUtil.create('div')\r\n                var btn = L.DomUtil.create('button', '', container);\r\n                var btn2 = L.DomUtil.create('button', '', container);\r\n                btn.setAttribute('type', 'button');\r\n                btn2.setAttribute('type', 'button');\r\n                btn.innerHTML = 'confirm pickup';\r\n                btn2.innerHTML = 'cancel';\r\n                L.DomEvent.on(btn, 'click', () => {\r\n                    this.conpick()\r\n                });\r\n                L.DomEvent.on(btn2, 'click', () => {\r\n                    this.pickuploc.remove()\r\n                });\r\n                var newDiv = document.createElement(\"div\");\r\n                newDiv.appendChild(btn);\r\n                newDiv.appendChild(btn2);\r\n                this.thepopup.setContent(newDiv)\r\n                this.thepopup.openOn(this.map)\r\n                this.pickuploc.on('move',this.confirm)\r\n            }\r\n            else if(this.otherreqstatus==true){\r\n                alert('Already requesting, drag pin to set pickup location')\r\n            }\r\n            else{\r\n                this.requested=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changerequestedfalse')\r\n                this.reqstatus='request ride'\r\n                this.otherreqstatus=false\r\n                if(this.reqpickuploc!='test'){\r\n                    this.reqpickuploc.remove()\r\n                    this.reqdropoffloc.remove()\r\n                    this.thert.remove()\r\n                }\r\n            }\r\n        },\r\n        async setupmap(){\r\n            this.map = L.map('mapContainer').setView([this.lat, this.long], 13);\r\n            L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n                maxZoom: 18,\r\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                    'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n                id: 'mapbox/streets-v11',\r\n                tileSize: 512,\r\n                zoomOffset: -1\r\n            }).addTo(this.map);\r\n            this.userposition = L.circle([this.lat, this.long], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            const thedat=await this.getrides()\r\n            var j=0\r\n            //console.log(thedat[0].Location36n79[0])\r\n            for(let i=0;i<Object.values(thedat[0].Location36n79[0]).length;i++){\r\n                this.values=Object.values(thedat[0].Location36n79[0])\r\n                this.inds.push(j)\r\n                //console.log(values[i])\r\n                if(this.values[i][0].requestedpickuplat!=\"\"&&this.values[i][0].requestedpickuplat!=undefined){\r\n                    if(this.values[i][0].name!=this.theuserid){\r\n                        var polygon = L.polygon([\r\n                            [this.values[i][0].requestedpickuplat, this.values[i][0].requestedpickuplong],\r\n                            [this.values[i][0].requesteddropofflat, this.values[i][0].requesteddropofflong]\r\n                        ]).addTo(this.map);\r\n                        //console.log(typeof(values[i][0]))\r\n                        this.thegiveridepopups.push(L.popup({closeButton:false,closeOnClick:false}))\r\n                        //values[i][0].append({ind:j})\r\n                        var container=L.DomUtil.create('div')\r\n                        this.thebtns.push(L.DomUtil.create('button', '', container));\r\n                        this.thebtns[j].setAttribute('type', 'button');\r\n                        this.thebtns[j].innerHTML = 'give ride';\r\n                        L.DomEvent.on(this.thebtns[j], 'click', () => {\r\n                            this.giveride(this.inds[i],this.values[i][0].name,this.values[i][0].acname,this.values[i][0].requestedpickuplat,this.values[i][0].requestedpickuplong,this.values[i][0].requesteddropofflat,this.values[i][0].requesteddropofflong)\r\n                        });\r\n                        this.yesbtns.push(L.DomUtil.create('button', '', container));\r\n                        this.yesbtns[j].setAttribute('type', 'button');\r\n                        this.yesbtns[j].innerHTML = 'Yes';\r\n                        this.nobtns.push(L.DomUtil.create('button', '', container));\r\n                        this.nobtns[j].setAttribute('type', 'button');\r\n                        this.nobtns[j].innerHTML = 'No';\r\n                        this.okbtns.push(L.DomUtil.create('button', '', container));\r\n                        this.okbtns[j].setAttribute('type', 'button');\r\n                        this.okbtns[j].innerHTML = 'OK';\r\n                        this.thegiveridepopups[j].setContent(this.thebtns[j])\r\n                        polygon.bindPopup(this.thegiveridepopups[j]);\r\n                        let circle = L.circle([this.values[i][0].requestedpickuplat, this.values[i][0].requestedpickuplong], {\r\n                            color: 'blue',\r\n                            fillColor: 'blue',\r\n                            fillOpacity: 0.5,\r\n                            radius: 25,\r\n                        }).addTo(this.map);\r\n                        circle.bindPopup(this.thegiveridepopups[j])\r\n                        let circle2 = L.circle([this.values[i][0].requesteddropofflat, this.values[i][0].requesteddropofflong], {\r\n                            color: 'red',\r\n                            fillColor: 'red',\r\n                            fillOpacity: 0.5,\r\n                            radius: 25,\r\n                        }).addTo(this.map);\r\n                        circle2.bindPopup(this.thegiveridepopups[j])\r\n                        j+=1\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        addLink (newLink) {\r\n            console.log(`EVENT: add new item ${newLink.name} to ${this.linkGroup.title}`);\r\n            this.$emit('new-link', this.groupId, newLink);\r\n            // may also do additional work related to logging, interactivity, or other tracking changes\r\n        }\r\n    },\r\n    async mounted () {\r\n        const theuserid = await this.use();\r\n        this.theuserid=theuserid.id\r\n        console.log(this.theuserid)\r\n        const newlat=await this.allLinks.getnewlat(this.theuserid);\r\n        const newlng=await this.allLinks.getnewlng(this.theuserid);\r\n        this.lat=newlat\r\n        this.long=newlng\r\n        this.setupmap();\r\n        if(this.theuserid!=undefined){\r\n            this.givingans=await this.getgive()\r\n            this.score=await this.getscore()\r\n            if(this.givingans.requested=='True'){\r\n                this.reqstatus='Cancel request (5 mile penalty)'\r\n                this.requested=true\r\n                this.reqpickuploc=L.circle([this.givingans.requestedpickuplat, this.givingans.requestedpickuplong], {\r\n                    color: 'green',\r\n                    fillColor: 'green',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                this.thert=L.polygon([\r\n                    [this.givingans.requestedpickuplat, this.givingans.requestedpickuplong],\r\n                    [this.givingans.requesteddropofflat, this.givingans.requesteddropofflong]\r\n                ]).addTo(this.map);\r\n                this.reqdropoffloc=L.circle([this.givingans.requesteddropofflat, this.givingans.requesteddropofflong], {\r\n                    color: 'red',\r\n                    fillColor: 'red',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                await this.checkriderdest()\r\n            }\r\n            else{\r\n                this.requested=false\r\n            }\r\n            if(this.givingans.giving=='True'){\r\n                this.giving==true\r\n                await this.checkdest()\r\n            }\r\n            else{\r\n                this.giving=false\r\n            }\r\n        }\r\n        //const newlng=await this.allLinks.getlong();\r\n        /*\r\n        var thelat=0\r\n        var thelong=0\r\n        console.log(999)\r\n        function success(position) {\r\n            thelat=position.coords.latitude;\r\n            thelong=position.coords.longitude;\r\n        }\r\n        \r\n        function error() {\r\n            console.log('Unable to retrieve your location');\r\n        }\r\n        \r\n        if(!navigator.geolocation) {\r\n            console.log('Geolocation is not supported by your browser');\r\n        } else {\r\n            navigator.geolocation.getCurrentPosition(success, error);\r\n        }\r\n        const mymap = L.map('mapid').setView([thelat, thelong], 13);\r\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n            maxZoom: 18,\r\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n            id: 'mapbox/streets-v11',\r\n            tileSize: 512,\r\n            zoomOffset: -1\r\n        }).addTo(mymap);\r\n        for(let i=1;i<this.allLinks.data.length;i++){\r\n            var polygon = L.polygon([\r\n            [this.allLinks.data[i].requestedpickuplat, this.allLinks.data.users[i].requestedpickuplong],\r\n            [this.allLinks.data[i].requesteddropofflat, this.allLinks.data.users[i].requesteddropofflong]\r\n            ]).addTo(mymap);\r\n            polygon.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle = L.circle([this.allLinks.data[i].requestedpickuplat, this.allLinks.data[i].requestedpickuplong], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle2 = L.circle([this.allLinks.data[i].requesteddropofflat, this.allLinks.data[i].requesteddropofflong], {\r\n                color: 'red',\r\n                fillColor: 'red',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle2.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n        }\r\n        */\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n#mapContainer {\r\n width: 80vw;\r\n height: 100vh;\r\n}\r\n#request {\r\n    position: absolute;\r\n    bottom: 370px;\r\n    width: 10%;\r\n    z-index: 9999;\r\n}\r\n</style>"]}]}