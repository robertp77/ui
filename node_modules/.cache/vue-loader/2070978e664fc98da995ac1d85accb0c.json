{"remainingRequest":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\src\\components\\TheMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\src\\components\\TheMap.vue","mtime":1619031877921},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnOw0KaW1wb3J0IHsgR2VvU2VhcmNoQ29udHJvbCwgT3BlblN0cmVldE1hcFByb3ZpZGVyIH0gZnJvbSAnbGVhZmxldC1nZW9zZWFyY2gnOw0KaW1wb3J0ICcuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzJzsNCmltcG9ydCAnLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQtZ2Vvc2VhcmNoL2Rpc3QvZ2Vvc2VhcmNoLmNzcyc7DQppbXBvcnQgaW1hZ2UgZnJvbSAnLi9JbWFnZXMvcGluLnBuZycgDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ1RoZU1hcCcsDQogICAgcHJvcHM6IHsNCiAgICAgICAgLy8gZ3JvdXAgdG8gYmUgZGlzcGxheWVkDQogICAgICAgIHRoZUxhdDogew0KICAgICAgICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHRoZUxvbmc6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhICgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIC8vIGJhY2tpbmcgZGF0YSBmb3IgZWRpdHMgdXNpbmcgdi1tb2RlbCwgbm8gY29weSBuZWVkZWQgc2luY2UgU3RyaW5ncyBhcmUgaW1tdXRhYmxlDQogICAgICAgICAgICBtYXA6ICd0ZXN0JywNCiAgICAgICAgICAgIHBpY2t1cGxvYzonaW5pdCcsDQogICAgICAgICAgICByZXFzdGF0dXM6ICdyZXF1ZXN0IHJpZGUnLA0KICAgICAgICAgICAgcHJvdmlkZXI6ICd0ZXN0JywNCiAgICAgICAgICAgIHNlYXJjaENvbnRyb2w6ICd0ZXN0Jw0KICAgICAgICAgICAgLy8gbWF5IGFsc28gbmVlZCBhIGNvcHkgZ3JvdXAgaW5mb3JtYXRpb24gaWYgdGhlcmUgaXMgYW55IGNoYW5jZSBpdCBtaWdodCBiZSBjaGFuZ2VkIGludGVyYWN0aXZlbHkNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLy8gZW1pdCBldmVudCB0aGF0IHNpZ25hbHMgYSBuZXcgbGluayBpcyByZWFkeSB0byBiZSBhZGRlZA0KICAgICAgICAvLyBOT1RFLCBlcnJvciBjaGVja2luZyBpcyBkb25lIGluIHRoZSBjaGlsZCBjb21wb25lbnQNCiAgICAgICAgYXN5bmMgZ2V0cmlkZXMoKXsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2FwaS9nZXRMaW5rcz9sYXQ9Jyt0aGlzLnRoZUxhdCsnJmxvbmc9Jyt0aGlzLnRoZUxvbmcpOw0KICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgfSwNCiAgICAgICAgd29yayh2YWx1ZSl7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZS5sb2NhdGlvbikNCiAgICAgICAgICAgIHRoaXMucGlja3VwbG9jLnNldExhdExuZyhbdmFsdWUubG9jYXRpb24ueSx2YWx1ZS5sb2NhdGlvbi54XSkNCiAgICAgICAgfSwNCiAgICAgICAgc2V0cGlja3VwKCl7DQogICAgICAgICAgICBpZih0aGlzLnJlcXN0YXR1cz09J3JlcXVlc3QgcmlkZScpew0KICAgICAgICAgICAgICAgIHRoaXMucmVxc3RhdHVzPSdjb25maXJtIHBpY2t1cCcNCiAgICAgICAgICAgICAgICBsZXQgcGluSWNvbiA9IEwuaWNvbih7DQogICAgICAgICAgICAgICAgICAgIGljb25Vcmw6IGltYWdlLA0KICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLDIwXSwNCiAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzEwLDIwXQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMucGlja3VwbG9jID0gTC5tYXJrZXIoW3RoaXMudGhlTGF0LCB0aGlzLnRoZUxvbmddLCB7DQogICAgICAgICAgICAgICAgICAgIGljb246IHBpbkljb24sDQogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogJ1RydWUnDQogICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgIHRoaXMucHJvdmlkZXIgPSBuZXcgT3BlblN0cmVldE1hcFByb3ZpZGVyKCk7DQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hDb250cm9sID0gbmV3IEdlb1NlYXJjaENvbnRyb2woew0KICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogdGhpcy5wcm92aWRlciwNCiAgICAgICAgICAgICAgICAgICAgc2hvd01hcmtlcjogZmFsc2UNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKHRoaXMuc2VhcmNoQ29udHJvbCk7DQogICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ2dlb3NlYXJjaC9zaG93bG9jYXRpb24nLCB0aGlzLndvcmspOw0KICAgICAgICAgICAgICAgIC8vdmFyIHNldGxvYz1MLnBvcHVwKCkNCiAgICAgICAgICAgICAgICAvL2xldCBjdXN0b21Qb3BVcE9wdGlvbnMgID0ge2Nsb3NlQnV0dG9uOiBmYWxzZSwgY2xvc2VPbkNsaWNrOiBmYWxzZX0NCiAgICAgICAgICAgICAgICAvL3RoaXMucGlja3VwbG9jLmJpbmRQb3B1cChzZXRsb2MsIGN1c3RvbVBvcFVwT3B0aW9ucykub3BlblBvcHVwKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIHNldHVwbWFwKCl7DQogICAgICAgICAgICB0aGlzLm1hcCA9IEwubWFwKCdtYXBDb250YWluZXInKS5zZXRWaWV3KFt0aGlzLnRoZUxhdCwgdGhpcy50aGVMb25nXSwgMTMpOw0KICAgICAgICAgICAgTC50aWxlTGF5ZXIoJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vc3R5bGVzL3YxL3tpZH0vdGlsZXMve3p9L3t4fS97eX0/YWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pYldGd1ltOTRJaXdpWVNJNkltTnBlalk0TlhWeWNUQTJlbVl5Y1hCbmRIUnFjbVozTjNnaWZRLnJKY0ZJRzIxNEFyaUlTTGJCNkI1YXcnLCB7DQogICAgICAgICAgICAgICAgbWF4Wm9vbTogMTgsDQogICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsICcgKw0KICAgICAgICAgICAgICAgICAgICAnSW1hZ2VyeSDCqSA8YSBocmVmPSJodHRwczovL3d3dy5tYXBib3guY29tLyI+TWFwYm94PC9hPicsDQogICAgICAgICAgICAgICAgaWQ6ICdtYXBib3gvc3RyZWV0cy12MTEnLA0KICAgICAgICAgICAgICAgIHRpbGVTaXplOiA1MTIsDQogICAgICAgICAgICAgICAgem9vbU9mZnNldDogLTENCiAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgIGxldCBjaXJjbGUgPSBMLmNpcmNsZShbdGhpcy50aGVMYXQsIHRoaXMudGhlTG9uZ10sIHsNCiAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLA0KICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ2JsdWUnLA0KICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsDQogICAgICAgICAgICAgICAgcmFkaXVzOiAyNSwNCiAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgIGNpcmNsZS5iaW5kUG9wdXAoJzxoND5Zb3VyIExvY2F0aW9uPC9oND4nKS5vcGVuUG9wdXAoKTsNCiAgICAgICAgICAgIGNvbnN0IHRoZWRhdD1hd2FpdCB0aGlzLmdldHJpZGVzKCkNCiAgICAgICAgICAgIGZvcihsZXQgaT0xO2k8dGhlZGF0Lmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBwb2x5Z29uID0gTC5wb2x5Z29uKFsNCiAgICAgICAgICAgICAgICBbdGhlZGF0W2ldLnJlcXVlc3RlZHBpY2t1cGxhdCwgdGhlZGF0W2ldLnJlcXVlc3RlZHBpY2t1cGxvbmddLA0KICAgICAgICAgICAgICAgIFt0aGVkYXRbaV0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgdGhlZGF0W2ldLnJlcXVlc3RlZGRyb3BvZmZsb25nXQ0KICAgICAgICAgICAgICAgIF0pLmFkZFRvKHRoaXMubWFwKTsNCiAgICAgICAgICAgICAgICBwb2x5Z29uLmJpbmRQb3B1cCgnPGg0PicrdGhlZGF0W2ldLm5hbWUrJzwvaDQ+Jykub3BlblBvcHVwKCk7DQogICAgICAgICAgICAgICAgbGV0IGNpcmNsZSA9IEwuY2lyY2xlKFt0aGVkYXRbaV0ucmVxdWVzdGVkcGlja3VwbGF0LCB0aGVkYXRbaV0ucmVxdWVzdGVkcGlja3VwbG9uZ10sIHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywNCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsDQogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjUsDQogICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgIGNpcmNsZS5iaW5kUG9wdXAoJzxoND4nK3RoZWRhdFtpXS5uYW1lKyc8L2g0PicpLm9wZW5Qb3B1cCgpOw0KICAgICAgICAgICAgICAgIGxldCBjaXJjbGUyID0gTC5jaXJjbGUoW3RoZWRhdFtpXS5yZXF1ZXN0ZWRkcm9wb2ZmbGF0LCB0aGVkYXRbaV0ucmVxdWVzdGVkZHJvcG9mZmxvbmddLCB7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmVkJywNCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmVkJywNCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAyNSwNCiAgICAgICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7DQogICAgICAgICAgICAgICAgY2lyY2xlMi5iaW5kUG9wdXAoJzxoND4nK3RoZWRhdFtpXS5uYW1lKyc8L2g0PicpLm9wZW5Qb3B1cCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBhZGRMaW5rIChuZXdMaW5rKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhgRVZFTlQ6IGFkZCBuZXcgaXRlbSAke25ld0xpbmsubmFtZX0gdG8gJHt0aGlzLmxpbmtHcm91cC50aXRsZX1gKTsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ25ldy1saW5rJywgdGhpcy5ncm91cElkLCBuZXdMaW5rKTsNCiAgICAgICAgICAgIC8vIG1heSBhbHNvIGRvIGFkZGl0aW9uYWwgd29yayByZWxhdGVkIHRvIGxvZ2dpbmcsIGludGVyYWN0aXZpdHksIG9yIG90aGVyIHRyYWNraW5nIGNoYW5nZXMNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBtb3VudGVkICgpIHsNCiAgICAgICAgdGhpcy5zZXR1cG1hcCgpOw0KICAgICAgICAvKg0KICAgICAgICB2YXIgdGhlbGF0PTANCiAgICAgICAgdmFyIHRoZWxvbmc9MA0KICAgICAgICBjb25zb2xlLmxvZyg5OTkpDQogICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocG9zaXRpb24pIHsNCiAgICAgICAgICAgIHRoZWxhdD1wb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7DQogICAgICAgICAgICB0aGVsb25nPXBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIGVycm9yKCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byByZXRyaWV2ZSB5b3VyIGxvY2F0aW9uJyk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlcicpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzLCBlcnJvcik7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgbXltYXAgPSBMLm1hcCgnbWFwaWQnKS5zZXRWaWV3KFt0aGVsYXQsIHRoZWxvbmddLCAxMyk7DQogICAgICAgIEwudGlsZUxheWVyKCdodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS97aWR9L3RpbGVzL3t6fS97eH0ve3l9P2FjY2Vzc190b2tlbj1way5leUoxSWpvaWJXRndZbTk0SWl3aVlTSTZJbU5wZWpZNE5YVnljVEEyZW1ZeWNYQm5kSFJxY21aM04zZ2lmUS5ySmNGSUcyMTRBcmlJU0xiQjZCNWF3Jywgew0KICAgICAgICAgICAgbWF4Wm9vbTogMTgsDQogICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPSJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgJyArDQogICAgICAgICAgICAgICAgJ0ltYWdlcnkgwqkgPGEgaHJlZj0iaHR0cHM6Ly93d3cubWFwYm94LmNvbS8iPk1hcGJveDwvYT4nLA0KICAgICAgICAgICAgaWQ6ICdtYXBib3gvc3RyZWV0cy12MTEnLA0KICAgICAgICAgICAgdGlsZVNpemU6IDUxMiwNCiAgICAgICAgICAgIHpvb21PZmZzZXQ6IC0xDQogICAgICAgIH0pLmFkZFRvKG15bWFwKTsNCiAgICAgICAgZm9yKGxldCBpPTE7aTx0aGlzLmFsbExpbmtzLmRhdGEubGVuZ3RoO2krKyl7DQogICAgICAgICAgICB2YXIgcG9seWdvbiA9IEwucG9seWdvbihbDQogICAgICAgICAgICBbdGhpcy5hbGxMaW5rcy5kYXRhW2ldLnJlcXVlc3RlZHBpY2t1cGxhdCwgdGhpcy5hbGxMaW5rcy5kYXRhLnVzZXJzW2ldLnJlcXVlc3RlZHBpY2t1cGxvbmddLA0KICAgICAgICAgICAgW3RoaXMuYWxsTGlua3MuZGF0YVtpXS5yZXF1ZXN0ZWRkcm9wb2ZmbGF0LCB0aGlzLmFsbExpbmtzLmRhdGEudXNlcnNbaV0ucmVxdWVzdGVkZHJvcG9mZmxvbmddDQogICAgICAgICAgICBdKS5hZGRUbyhteW1hcCk7DQogICAgICAgICAgICBwb2x5Z29uLmJpbmRQb3B1cCgnPGg0PicrdGhpcy5hbGxMaW5rcy5kYXRhW2ldLm5hbWUrJzwvaDQ+Jykub3BlblBvcHVwKCk7DQogICAgICAgICAgICBsZXQgY2lyY2xlID0gTC5jaXJjbGUoW3RoaXMuYWxsTGlua3MuZGF0YVtpXS5yZXF1ZXN0ZWRwaWNrdXBsYXQsIHRoaXMuYWxsTGlua3MuZGF0YVtpXS5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnYmx1ZScsDQogICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwNCiAgICAgICAgICAgICAgICByYWRpdXM6IDI1LA0KICAgICAgICAgICAgfSkuYWRkVG8obXltYXApOw0KICAgICAgICAgICAgY2lyY2xlLmJpbmRQb3B1cCgnPGg0PicrdGhpcy5hbGxMaW5rcy5kYXRhW2ldLm5hbWUrJzwvaDQ+Jykub3BlblBvcHVwKCk7DQogICAgICAgICAgICBsZXQgY2lyY2xlMiA9IEwuY2lyY2xlKFt0aGlzLmFsbExpbmtzLmRhdGFbaV0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgdGhpcy5hbGxMaW5rcy5kYXRhW2ldLnJlcXVlc3RlZGRyb3BvZmZsb25nXSwgew0KICAgICAgICAgICAgICAgIGNvbG9yOiAncmVkJywNCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZWQnLA0KICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsDQogICAgICAgICAgICAgICAgcmFkaXVzOiAyNSwNCiAgICAgICAgICAgIH0pLmFkZFRvKG15bWFwKTsNCiAgICAgICAgICAgIGNpcmNsZTIuYmluZFBvcHVwKCc8aDQ+Jyt0aGlzLmFsbExpbmtzLmRhdGFbaV0ubmFtZSsnPC9oND4nKS5vcGVuUG9wdXAoKTsNCiAgICAgICAgfQ0KICAgICAgICAqLw0KICAgIH0NCn0NCg=="},{"version":3,"sources":["TheMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TheMap.vue","sourceRoot":"src/components","sourcesContent":["/*\r\n * This represents displaying a group of links.\r\n *\r\n * This is an example of a convenience component that serves to organize the data hierarchy.\r\n * It re-emits the custom events of its child components, adding its own information to them\r\n * to provide for future data accessor methods.\r\n *\r\n * @author Dennis Quan\r\n * @author Robert Duvall\r\n */\r\n\r\n// display group as a column or cards that is organized by BootstrapVue\r\n<template>\r\n    <div id=\"mapwrap\">\r\n        <div id=\"mapContainer\"></div>\r\n        <b-button id=\"request\" @click=\"setpickup\">{{reqstatus}}</b-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as L from 'leaflet';\r\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\r\nimport '../../node_modules/leaflet/dist/leaflet.css';\r\nimport '../../node_modules/leaflet-geosearch/dist/geosearch.css';\r\nimport image from './Images/pin.png' \r\nexport default {\r\n    name: 'TheMap',\r\n    props: {\r\n        // group to be displayed\r\n        theLat: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        theLong: {\r\n            type: String,\r\n            required: true,\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            // backing data for edits using v-model, no copy needed since Strings are immutable\r\n            map: 'test',\r\n            pickuploc:'init',\r\n            reqstatus: 'request ride',\r\n            provider: 'test',\r\n            searchControl: 'test'\r\n            // may also need a copy group information if there is any chance it might be changed interactively\r\n        };\r\n    },\r\n    methods: {\r\n        // emit event that signals a new link is ready to be added\r\n        // NOTE, error checking is done in the child component\r\n        async getrides(){\r\n            const response = await fetch('api/getLinks?lat='+this.theLat+'&long='+this.theLong);\r\n            return response.json();\r\n        },\r\n        work(value){\r\n            console.log(value.location)\r\n            this.pickuploc.setLatLng([value.location.y,value.location.x])\r\n        },\r\n        setpickup(){\r\n            if(this.reqstatus=='request ride'){\r\n                this.reqstatus='confirm pickup'\r\n                let pinIcon = L.icon({\r\n                    iconUrl: image,\r\n                    iconSize: [20,20],\r\n                    iconAnchor: [10,20]\r\n                });\r\n                this.pickuploc = L.marker([this.theLat, this.theLong], {\r\n                    icon: pinIcon,\r\n                    draggable: 'True'\r\n                }).addTo(this.map);\r\n                this.provider = new OpenStreetMapProvider();\r\n                this.searchControl = new GeoSearchControl({\r\n                    provider: this.provider,\r\n                    showMarker: false\r\n                });\r\n                this.map.addControl(this.searchControl);\r\n                this.map.on('geosearch/showlocation', this.work);\r\n                //var setloc=L.popup()\r\n                //let customPopUpOptions  = {closeButton: false, closeOnClick: false}\r\n                //this.pickuploc.bindPopup(setloc, customPopUpOptions).openPopup();\r\n            }\r\n        },\r\n        async setupmap(){\r\n            this.map = L.map('mapContainer').setView([this.theLat, this.theLong], 13);\r\n            L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n                maxZoom: 18,\r\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                    'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n                id: 'mapbox/streets-v11',\r\n                tileSize: 512,\r\n                zoomOffset: -1\r\n            }).addTo(this.map);\r\n            let circle = L.circle([this.theLat, this.theLong], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            circle.bindPopup('<h4>Your Location</h4>').openPopup();\r\n            const thedat=await this.getrides()\r\n            for(let i=1;i<thedat.length;i++){\r\n                var polygon = L.polygon([\r\n                [thedat[i].requestedpickuplat, thedat[i].requestedpickuplong],\r\n                [thedat[i].requesteddropofflat, thedat[i].requesteddropofflong]\r\n                ]).addTo(this.map);\r\n                polygon.bindPopup('<h4>'+thedat[i].name+'</h4>').openPopup();\r\n                let circle = L.circle([thedat[i].requestedpickuplat, thedat[i].requestedpickuplong], {\r\n                    color: 'blue',\r\n                    fillColor: 'blue',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                circle.bindPopup('<h4>'+thedat[i].name+'</h4>').openPopup();\r\n                let circle2 = L.circle([thedat[i].requesteddropofflat, thedat[i].requesteddropofflong], {\r\n                    color: 'red',\r\n                    fillColor: 'red',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                circle2.bindPopup('<h4>'+thedat[i].name+'</h4>').openPopup();\r\n            }\r\n        },\r\n        addLink (newLink) {\r\n            console.log(`EVENT: add new item ${newLink.name} to ${this.linkGroup.title}`);\r\n            this.$emit('new-link', this.groupId, newLink);\r\n            // may also do additional work related to logging, interactivity, or other tracking changes\r\n        }\r\n    },\r\n\r\n    mounted () {\r\n        this.setupmap();\r\n        /*\r\n        var thelat=0\r\n        var thelong=0\r\n        console.log(999)\r\n        function success(position) {\r\n            thelat=position.coords.latitude;\r\n            thelong=position.coords.longitude;\r\n        }\r\n        \r\n        function error() {\r\n            console.log('Unable to retrieve your location');\r\n        }\r\n        \r\n        if(!navigator.geolocation) {\r\n            console.log('Geolocation is not supported by your browser');\r\n        } else {\r\n            navigator.geolocation.getCurrentPosition(success, error);\r\n        }\r\n        const mymap = L.map('mapid').setView([thelat, thelong], 13);\r\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n            maxZoom: 18,\r\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n            id: 'mapbox/streets-v11',\r\n            tileSize: 512,\r\n            zoomOffset: -1\r\n        }).addTo(mymap);\r\n        for(let i=1;i<this.allLinks.data.length;i++){\r\n            var polygon = L.polygon([\r\n            [this.allLinks.data[i].requestedpickuplat, this.allLinks.data.users[i].requestedpickuplong],\r\n            [this.allLinks.data[i].requesteddropofflat, this.allLinks.data.users[i].requesteddropofflong]\r\n            ]).addTo(mymap);\r\n            polygon.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle = L.circle([this.allLinks.data[i].requestedpickuplat, this.allLinks.data[i].requestedpickuplong], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle2 = L.circle([this.allLinks.data[i].requesteddropofflat, this.allLinks.data[i].requesteddropofflong], {\r\n                color: 'red',\r\n                fillColor: 'red',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle2.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n        }\r\n        */\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n#mapContainer {\r\n width: 80vw;\r\n height: 100vh;\r\n}\r\n#request {\r\n    position: absolute;\r\n    bottom: 425px;\r\n    width: 10%;\r\n    z-index: 9999;\r\n}\r\n</style>"]}]}