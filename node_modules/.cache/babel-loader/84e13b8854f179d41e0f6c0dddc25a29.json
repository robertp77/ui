{"remainingRequest":"C:\\Users\\arobu\\finalproject\\ui\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\arobu\\finalproject\\ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\arobu\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\arobu\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\arobu\\finalproject\\ui\\src\\components\\TheMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\arobu\\finalproject\\ui\\src\\components\\TheMap.vue","mtime":1620822797502},{"path":"C:\\Users\\arobu\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\finalproject\\ui\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\finalproject\\ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\arobu\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Fyb2J1L2ZpbmFscHJvamVjdC91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7CmltcG9ydCB7IEdlb1NlYXJjaENvbnRyb2wsIE9wZW5TdHJlZXRNYXBQcm92aWRlciB9IGZyb20gJ2xlYWZsZXQtZ2Vvc2VhcmNoJzsKaW1wb3J0ICcuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzJzsKaW1wb3J0ICcuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC1nZW9zZWFyY2gvZGlzdC9nZW9zZWFyY2guY3NzJzsKaW1wb3J0IHsgbGlua0RhdGFTdG9yZSB9IGZyb20gJy4uL2RhdGEvTGlua0RhdGFTdG9yZS5qcyc7CmltcG9ydCBpbWFnZSBmcm9tICcuL0ltYWdlcy9waW4ucG5nJzsgLy9pbXBvcnQgeyBnZXRKU09OIH0gZnJvbSAnLi9hcGlIZWxwZXInOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUaGVNYXAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBiYWNraW5nIGRhdGEgZm9yIGVkaXRzIHVzaW5nIHYtbW9kZWwsIG5vIGNvcHkgbmVlZGVkIHNpbmNlIFN0cmluZ3MgYXJlIGltbXV0YWJsZQogICAgICBhbGxMaW5rczogbGlua0RhdGFTdG9yZSwKICAgICAgbWFwOiAndGVzdCcsCiAgICAgIHBpY2t1cGxvYzogJ2luaXQnLAogICAgICByZXFzdGF0dXM6ICdyZXF1ZXN0IHJpZGUnLAogICAgICBwcm92aWRlcjogJ3Rlc3QnLAogICAgICBzZWFyY2hDb250cm9sOiAndGVzdCcsCiAgICAgIHJlcXBpY2t1cGxvYzogJ3Rlc3QnLAogICAgICByZXFkcm9wb2ZmbG9jOiAndGVzdCcsCiAgICAgIHRoZXJ0OiAndGVzdCcsCiAgICAgIHBpY2t1cGxhdDogMCwKICAgICAgcGlja3VwbG9uZzogMCwKICAgICAgbGF0OiAwLAogICAgICBsb25nOiAwLAogICAgICB1c2VyaWQ6ICIiLAogICAgICBpc3BpY2s6ICIiLAogICAgICB0aGVwb3B1cDogIiIsCiAgICAgIHRoZWdpdmVyaWRlcG9wdXBzOiBbXSwKICAgICAgY29zdDogIiIsCiAgICAgIHJpZGVyaWQ6ICIiLAogICAgICBlbnJvdXRlOiBmYWxzZSwKICAgICAgdGhlYnRuczogW10sCiAgICAgIGluZHM6IFtdLAogICAgICB5ZXNidG5zOiBbXSwKICAgICAgbm9idG5zOiBbXSwKICAgICAgY29udGFpbmVyczogW10sCiAgICAgIGdpdmluZzogZmFsc2UsCiAgICAgIG9rYnRuczogW10sCiAgICAgIGxvZ2dlZGluOiBmYWxzZSwKICAgICAgbG9nZ2VkaW4yOiBmYWxzZSwKICAgICAgcmVxdWVzdGVkOiBmYWxzZSwKICAgICAgdGhldXNlcmlkOiB7fSwKICAgICAgb3RoZXJyZXFzdGF0dXM6IGZhbHNlLAogICAgICBzY29yZTogMTUsCiAgICAgIGlzbG9hZGluZzogJyhsb2FkaW5nIG1hcCknIC8vIG1heSBhbHNvIG5lZWQgYSBjb3B5IGdyb3VwIGluZm9ybWF0aW9uIGlmIHRoZXJlIGlzIGFueSBjaGFuY2UgaXQgbWlnaHQgYmUgY2hhbmdlZCBpbnRlcmFjdGl2ZWx5CgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGVtaXQgZXZlbnQgdGhhdCBzaWduYWxzIGEgbmV3IGxpbmsgaXMgcmVhZHkgdG8gYmUgYWRkZWQKICAgIC8vIE5PVEUsIGVycm9yIGNoZWNraW5nIGlzIGRvbmUgaW4gdGhlIGNoaWxkIGNvbXBvbmVudAogICAgZ2V0cmlkZXM6IGZ1bmN0aW9uIGdldHJpZGVzKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2dldExpbmtzJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRyaWRlcmxhdDogZnVuY3Rpb24gZ2V0cmlkZXJsYXQoaWQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9nZXRyaWRlcmxhdD9pZD0nICsgaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldHJpZGVybG9uZzogZnVuY3Rpb24gZ2V0cmlkZXJsb25nKGlkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZ2V0cmlkZXJsb25nP2lkPScgKyBpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgd29yazogZnVuY3Rpb24gd29yayh2YWx1ZSkgewogICAgICBjb25zb2xlLmxvZyh2YWx1ZS5sb2NhdGlvbik7CiAgICAgIHRoaXMucGlja3VwbG9jLnNldExhdExuZyhbdmFsdWUubG9jYXRpb24ueSwgdmFsdWUubG9jYXRpb24ueF0pOwogICAgfSwKICAgIHVwZGF0ZVBvbHk6IGZ1bmN0aW9uIHVwZGF0ZVBvbHkob2xkTGF0TG5nKSB7CiAgICAgIHRoaXMudGhlcnQucmVtb3ZlKCk7CiAgICAgIHRoaXMudGhlcnQgPSBMLnBvbHlnb24oW1t0aGlzLnBpY2t1cGxhdCwgdGhpcy5waWNrdXBsb25nXSwgW29sZExhdExuZy5sYXRsbmcubGF0LCBvbGRMYXRMbmcubGF0bG5nLmxuZ11dKS5hZGRUbyh0aGlzLm1hcCk7CiAgICB9LAogICAgY29ucGljazogZnVuY3Rpb24gY29ucGljaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucGlja3VwbG9jLm9uKCdtb3ZlJywgdGhpcy5jb25maXJtMik7CiAgICAgIHRoaXMucGlja3VwbGF0ID0gdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0OwogICAgICB0aGlzLnBpY2t1cGxvbmcgPSB0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sbmc7CiAgICAgIHRoaXMudGhlcnQgPSBMLnBvbHlnb24oW1t0aGlzLnBpY2t1cGxhdCwgdGhpcy5waWNrdXBsb25nXSwgW3RoaXMucGlja3VwbGF0LCB0aGlzLnBpY2t1cGxvbmcgKyAwLjAwM11dKS5hZGRUbyh0aGlzLm1hcCk7CiAgICAgIHRoaXMucmVxcGlja3VwbG9jID0gTC5jaXJjbGUoW3RoaXMucGlja3VwbGF0LCB0aGlzLnBpY2t1cGxvbmddLCB7CiAgICAgICAgY29sb3I6ICdncmVlbicsCiAgICAgICAgZmlsbENvbG9yOiAnZ3JlZW4nLAogICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsCiAgICAgICAgcmFkaXVzOiAyNQogICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7IC8vY29uc29sZS5sb2codGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0KQoKICAgICAgdGhpcy5waWNrdXBsb2Muc2V0TGF0TG5nKFt0aGlzLnBpY2t1cGxhdCwgdGhpcy5waWNrdXBsb25nICsgMC4wMDNdKTsKICAgICAgdGhpcy5waWNrdXBsb2Mub24oJ21vdmUnLCB0aGlzLnVwZGF0ZVBvbHkpOwogICAgICB0aGlzLnRoZXBvcHVwLnNldExhdExuZyhbdGhpcy5waWNrdXBsYXQgKyAwLjAwMyAvIE1hdGgucG93KHRoaXMubWFwLmdldFpvb20oKSwgOSkgKiBNYXRoLnBvdygxMywgOSksIHRoaXMucGlja3VwbG9uZyArIDAuMDAzXSk7CiAgICAgIHZhciBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKTsKICAgICAgdmFyIGJ0biA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOwogICAgICB2YXIgYnRuMiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOwogICAgICBidG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwogICAgICBidG4yLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgYnRuLmlubmVySFRNTCA9ICdjb25maXJtIGRyb3BvZmYnOwogICAgICBidG4yLmlubmVySFRNTCA9ICdjYW5jZWwnOwogICAgICBMLkRvbUV2ZW50Lm9uKGJ0biwgJ2NsaWNrJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb25kcm9wKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSk7CiAgICAgIEwuRG9tRXZlbnQub24oYnRuMiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnJlcXBpY2t1cGxvYy5yZW1vdmUoKTsKCiAgICAgICAgX3RoaXMudGhlcnQucmVtb3ZlKCk7CgogICAgICAgIF90aGlzLnBpY2t1cGxvYy5yZW1vdmUoKTsKCiAgICAgICAgX3RoaXMub3RoZXJyZXFzdGF0dXMgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMudGhlcG9wdXAucmVtb3ZlKCk7CiAgICAgIH0pOwogICAgICB2YXIgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4pOwogICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuMik7CiAgICAgIHRoaXMudGhlcG9wdXAuc2V0Q29udGVudChuZXdEaXYpOwogICAgICB0aGlzLnRoZXBvcHVwLm9wZW5Pbih0aGlzLm1hcCk7CiAgICB9LAogICAgY29uZHJvcDogZnVuY3Rpb24gY29uZHJvcCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgdGhldXNlcmlkLCBfdGhldXNlcmlkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLnRoZXVzZXJpZCA9PSB1bmRlZmluZWQgJiYgX3RoaXMyLmxvZ2dlZGluMiA9PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbigiaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2F1dGgvbG9naW4iKTsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dnZWRpbjIgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi51c2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdGhldXNlcmlkID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIudGhldXNlcmlkID0gdGhldXNlcmlkLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jb25kcm9wKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi50aGV1c2VyaWQgPT0gdW5kZWZpbmVkICYmIF90aGlzMi5sb2dnZWRpbjIgPT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhldXNlcmlkID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIudGhldXNlcmlkID0gX3RoZXVzZXJpZC5pZDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi50aGV1c2VyaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29uZHJvcCgpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0NDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0Z2l2ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgX3RoaXMyLmdpdmluZ2FucyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZ2l2aW5nYW5zLnJlcXVlc3RlZCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuZ2l2aW5nYW5zLnJlcXVlc3RlZCA9PSAnRmFsc2UnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZXF1ZXN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5yZXF1ZXN0ZWQgPT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9jaGFuZ2VyZXF1ZXN0ZWQnLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgX3RoaXMyLnJlcWRyb3BvZmZsb2MgPSBMLmNpcmNsZShbX3RoaXMyLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQsIF90aGlzMi5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubG5nXSwgewogICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsCiAgICAgICAgICAgICAgICAgIHJhZGl1czogMjUKICAgICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMi5tYXApOwoKICAgICAgICAgICAgICAgIF90aGlzMi50aGVwb3B1cC5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICBfdGhpczIucGlja3VwbG9jLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5yZXFzdGF0dXMgPSAnY2FuY2VsIHJlcXVlc3QgKDUgbWlsZSBwZW5hbHR5KSc7CiAgICAgICAgICAgICAgICBfdGhpczIucmVxdWVzdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzMi5vdGhlcnJlcXN0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0c2NvcmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgIF90aGlzMi5vbGRzY29yZSA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL3NlbmRyaWRlP3JlcXVlc3RlZHBpY2t1cGxhdD0nICsgX3RoaXMyLnBpY2t1cGxhdCArICcmcmVxdWVzdGVkcGlja3VwbG9uZz0nICsgX3RoaXMyLnBpY2t1cGxvbmcgKyAnJnJlcXVlc3RlZGRyb3BvZmZsYXQ9JyArIF90aGlzMi5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0ICsgJyZyZXF1ZXN0ZWRkcm9wb2ZmbG9uZz0nICsgX3RoaXMyLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sbmcsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jaGVja3JpZGVyZGVzdChfdGhpczIub2xkc2NvcmUpOwoKICAgICAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0NDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgICAgYWxlcnQoJ1lvdSBoYXZlIGFscmVhZHkgcmVxdWVzdGVkIGEgcmlkZScpOwoKICAgICAgICAgICAgICBjYXNlIDQ0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgd2FpdGZvcmRyaXZlcjogZnVuY3Rpb24gd2FpdGZvcmRyaXZlcihvbGRzY29yZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmdldHNjb3JlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5zY29yZSA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy5zY29yZSA9PSBvbGRzY29yZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLndhaXRmb3Jkcml2ZXIob2xkc2NvcmUpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0c2NvcmU6IGZ1bmN0aW9uIGdldHNjb3JlKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2dyYWJzY29yZScsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tyaWRlcmRlc3Q6IGZ1bmN0aW9uIGNoZWNrcmlkZXJkZXN0KG9sZHNjb3JlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGRpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuYWxsTGlua3MuZ2V0bmV3bGF0KF90aGlzNC50aGV1c2VyaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczQubGF0ID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmFsbExpbmtzLmdldG5ld2xuZyhfdGhpczQudGhldXNlcmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXM0LmxvbmcgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpczQudXNlcnBvc2l0aW9uLnNldExhdExuZyhbX3RoaXM0LmxhdCwgX3RoaXM0LmxvbmddKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldHNjb3JlKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF90aGlzNC5zY29yZSA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgLy90aGlzLmxldD1sYXQKICAgICAgICAgICAgICAgIC8vdGhpcy5sb25nPWxvbmcKICAgICAgICAgICAgICAgIGRpc3QgPSBNYXRoLnBvdyhNYXRoLnBvdyhfdGhpczQucmVxdWVzdGVkZHJvcG9mZmxhdCAtIF90aGlzNC5sYXQsIDIpICsgTWF0aC5wb3coX3RoaXM0LnJlcXVlc3RlZGRyb3BvZmZsb25nIC0gX3RoaXM0LmxvbmcsIDIpLCAwLjUpOwoKICAgICAgICAgICAgICAgIGlmICghKGRpc3QgPCAwLjAwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM0LnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZXJlcXVlc3RlZGZhbHNlJywgewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNC5zY29yZSA9PSBvbGRzY29yZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQud2FpdGZvcmRyaXZlcihvbGRzY29yZSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5jaGVja3JpZGVyZGVzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWNnaXZlcmlkZTogZnVuY3Rpb24gYWNnaXZlcmlkZShuLCBuYW1lLCBycGxhdCwgcnBsb25nLCByZGxhdCwgcmRsb25nKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIGRpc3QsIGRpc3RtaWxlczEsIGRpc3RtaWxlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5hbGxMaW5rcy5nZXRuZXdsYXQoX3RoaXM1LnRoZXVzZXJpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNS5sYXQgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYWxsTGlua3MuZ2V0bmV3bG5nKF90aGlzNS50aGV1c2VyaWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczUubG9uZyA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgZGlzdCA9IE1hdGgucG93KE1hdGgucG93KHJwbGF0IC0gX3RoaXM1LmxhdCwgMikgKyBNYXRoLnBvdyhycGxvbmcgLSBfdGhpczUubG9uZywgMiksIDAuNSk7CiAgICAgICAgICAgICAgICBkaXN0bWlsZXMxID0gTWF0aC5wb3coTWF0aC5wb3coKHJwbGF0IC0gX3RoaXM1LmxhdCkgKiA2OS4xNzIsIDIpICsgTWF0aC5wb3coKHJwbG9uZyAtIF90aGlzNS5sb25nKSAqIE1hdGguY29zKChycGxhdCAtIF90aGlzNS5sYXQpIC8gMiAqIChNYXRoLlBJIC8gMTgwKSkgKiA2OS4xNzIsIDIpLCAwLjUpOwoKICAgICAgICAgICAgICAgIF90aGlzNS50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KCdHbyB0bycgKyBuYW1lICsgJygnICsgZGlzdG1pbGVzMSArICdtaWxlcyBhd2F5KScpOwoKICAgICAgICAgICAgICAgIGlmICghKGRpc3QgPCAwLjAwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LmVucm91dGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZGlzdG1pbGVzID0gTWF0aC5wb3coTWF0aC5wb3coKHJwbGF0IC0gcmRsYXQpICogNjkuMTcyLCAyKSArIE1hdGgucG93KChycGxvbmcgLSByZGxvbmcpICogTWF0aC5jb3MoKHJwbGF0IC0gcmRsYXQpIC8gMiAqIChNYXRoLlBJIC8gMTgwKSkgKiA2OS4xNzIsIDIpLCAwLjUpOwogICAgICAgICAgICAgICAgX3RoaXM1LmNvc3QgPSBkaXN0bWlsZXM7CgogICAgICAgICAgICAgICAgX3RoaXM1LnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldENvbnRlbnQoJ0RyaXZlJyArIG5hbWUgKyAndG8gdGhlIGRlc3RpbmF0aW9uKCcgKyBkaXN0bWlsZXMgKyAnbWlsZXMgYXdheSknKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jaGVja2Rlc3QobiwgbmFtZSwgcmRsYXQsIHJkbG9uZyk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5hY2dpdmVyaWRlKG4sIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Z2l2ZTogZnVuY3Rpb24gZ2V0Z2l2ZSgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9nZXR1c2VyZ2l2ZScsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5qc29uKCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGJlZm9yZWFjZ2l2ZXJpZGU6IGZ1bmN0aW9uIGJlZm9yZWFjZ2l2ZXJpZGUobiwgbmFtZSwgcnBsYXQsIHJwbG9uZywgcmRsYXQsIHJkbG9uZykgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgdGhldXNlcmlkLCBfdGhldXNlcmlkMiwgbmV3RGl2LCBuZXdDb250ZW50LCBuZXd3RGl2LCBuZXd3Q29udGVudDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi51c2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdGhldXNlcmlkID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM2LnRoZXVzZXJpZCA9IHRoZXVzZXJpZC5pZDsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYudGhldXNlcmlkID09IHVuZGVmaW5lZCAmJiBfdGhpczYubG9nZ2VkaW4gPT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKCJodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvYXV0aC9sb2dpbiIpOwogICAgICAgICAgICAgICAgX3RoaXM2LmxvZ2dlZGluID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmJlZm9yZWFjZ2l2ZXJpZGUobiwgbmFtZSwgcnBsYXQsIHJwbG9uZywgcmRsYXQsIHJkbG9uZyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDM1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYudGhldXNlcmlkID09IHVuZGVmaW5lZCAmJiBfdGhpczYubG9nZ2VkaW4gPT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi51c2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGV1c2VyaWQyID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM2LnRoZXVzZXJpZCA9IF90aGV1c2VyaWQyLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmJlZm9yZWFjZ2l2ZXJpZGUobiwgbmFtZSwgcnBsYXQsIHJwbG9uZywgcmRsYXQsIHJkbG9uZyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldGdpdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF90aGlzNi5naXZpbmdhbnMgPSBfY29udGV4dDExLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5naXZpbmdhbnMuZ2l2aW5nID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBfdGhpczYuZ2l2aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNi5naXZpbmdhbnMuZ2l2aW5nID09ICdGYWxzZScpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmdpdmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmdpdmluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM2LmdpdmluZyk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5naXZpbmdhbnMucmVxdWVzdGVkID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBfdGhpczYucmVxdWVzdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNi5naXZpbmdhbnMucmVxdWVzdGVkID09ICdGYWxzZScpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlcXVlc3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM2LmdpdmluZyA9PSBmYWxzZSAmJiBfdGhpczYucmVxdWVzdGVkID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM2LmdpdmluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzMDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZWdpdmUnLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmFjZ2l2ZXJpZGUobiwgbmFtZSwgcnBsYXQsIHJwbG9uZywgcmRsYXQsIHJkbG9uZyk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5naXZpbmcgPT0gdHJ1ZSAmJiBfdGhpczYucmVxdWVzdGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oX3RoaXM2Lm9rYnRuc1tuXSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5nb2JhY2sobik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJFcnJvcjogeW91IG11c3QgY29tcGxldGUgeW91ciBjdXJyZW50IHJpZGUgZmlyc3QuIik7CiAgICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdDb250ZW50KTsKICAgICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKF90aGlzNi5va2J0bnNbbl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldENvbnRlbnQobmV3RGl2KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oX3RoaXM2Lm9rYnRuc1tuXSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5nb2JhY2sobik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBuZXd3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICAgIG5ld3dDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkVycm9yOiB5b3UgbXVzdCBjYW5jZWwgeW91ciBjdXJyZW50IHJpZGUgcmVxdWVzdCBvciBjb21wbGV0ZSBpdCBpbiBvcmRlciB0byBnaXZlIGEgcmlkZS4iKTsKICAgICAgICAgICAgICAgICAgbmV3d0Rpdi5hcHBlbmRDaGlsZChuZXd3Q29udGVudCk7CiAgICAgICAgICAgICAgICAgIG5ld3dEaXYuYXBwZW5kQ2hpbGQoX3RoaXM2Lm9rYnRuc1tuXSk7CgogICAgICAgICAgICAgICAgICBfdGhpczYudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudChuZXd3RGl2KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2l2ZXJpZGU6IGZ1bmN0aW9uIGdpdmVyaWRlKG4sIHZhbCwgbmFtZSwgcnBsYXQsIHJwbG9uZywgcmRsYXQsIHJkbG9uZykgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgbmV3RGl2LCBuZXdDb250ZW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM3LnJpZGVyaWQgPSB2YWw7CiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKF90aGlzNy55ZXNidG5zW25dLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5iZWZvcmVhY2dpdmVyaWRlKG4sIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKF90aGlzNy5ub2J0bnNbbl0sICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmdvYmFjayhuKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkFyZSB5b3VyIHN1cmU/IE90aGVyIHVzZXJzIGNhbiB0ZWxsIGlmIHlvdSBmYWlsZWQgdG8gY29tcGxldGUgdGhpcyByaWRlLiIpOwogICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld0NvbnRlbnQpOwogICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKF90aGlzNy55ZXNidG5zW25dKTsKICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChfdGhpczcubm9idG5zW25dKTsKCiAgICAgICAgICAgICAgICBfdGhpczcudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudChuZXdEaXYpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrZGVzdDogZnVuY3Rpb24gY2hlY2tkZXN0KG4sIHZhbCwgcmRsYXQsIHJkbG9uZykgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgcmlkZXJsYXQsIHJpZGVybG9uZywgZGlzdCwgZGlzdG1pbGVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguZ2V0cmlkZXJsYXQoX3RoaXM4LnJpZGVyaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByaWRlcmxhdCA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmdldHJpZGVybG9uZyhfdGhpczgucmlkZXJpZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJpZGVybG9uZyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmFsbExpbmtzLmdldG5ld2xhdChfdGhpczgudGhldXNlcmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXM4LmxhdCA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5hbGxMaW5rcy5nZXRuZXdsbmcoX3RoaXM4LnRoZXVzZXJpZCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfdGhpczgubG9uZyA9IF9jb250ZXh0MTMuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpczgudXNlcnBvc2l0aW9uLnNldExhdExuZyhbX3RoaXM4LmxhdCwgX3RoaXM4LmxvbmddKTsKCiAgICAgICAgICAgICAgICBkaXN0ID0gTWF0aC5wb3coTWF0aC5wb3cocmlkZXJsYXQgLSByZGxhdCwgMikgKyBNYXRoLnBvdyhyaWRlcmxvbmcgLSByZGxvbmcsIDIpLCAwLjUpOwogICAgICAgICAgICAgICAgZGlzdG1pbGVzID0gTWF0aC5wb3coTWF0aC5wb3coKHJpZGVybGF0IC0gcmRsYXQpICogNjkuMTcyLCAyKSArIE1hdGgucG93KChyaWRlcmxvbmcgLSByZGxvbmcpICogTWF0aC5jb3MoKHJpZGVybGF0IC0gcmRsYXQpIC8gMiAqIChNYXRoLlBJIC8gMTgwKSkgKiA2OS4xNzIsIDIpLCAwLjUpOwoKICAgICAgICAgICAgICAgIGlmICghKGRpc3QgPCAwLjAwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC5naXZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvY2hhbmdlZ2l2ZWZhbHNlJywgewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZmluaXNoZWQ/Y29zdD0nICsgX3RoaXM4LmNvc3QgKyAnJnJpZGVyPScgKyBfdGhpczgucmlkZXJpZCwgewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5nZXRzY29yZSgpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgX3RoaXM4LnNjb3JlID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF90aGlzOC50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KCdEcml2ZScgKyB2YWwgKyAndG8gdGhlIGRlc3RpbmF0aW9uKCcgKyBkaXN0bWlsZXMgKyAnbWlsZXMgYXdheSknKTsKCiAgICAgICAgICAgICAgICBfdGhpczgudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0TGF0TG5nKFtyaWRlcmxhdCwgcmlkZXJsb25nXSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmNoZWNrZGVzdChyZGxhdCwgcmRsb25nKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXNlOiBmdW5jdGlvbiB1c2UoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvdXNlcicsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5qc29uKCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdvYmFjazogZnVuY3Rpb24gZ29iYWNrKG4pIHsKICAgICAgdGhpcy50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KHRoaXMudGhlYnRuc1tuXSk7CiAgICB9LAogICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybSh2YWwpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB0aGlzLnRoZXBvcHVwLnNldExhdExuZyhbdmFsLmxhdGxuZy5sYXQgKyAwLjAwMyAvIE1hdGgucG93KHRoaXMubWFwLmdldFpvb20oKSwgOSkgKiBNYXRoLnBvdygxMywgOSksIHZhbC5sYXRsbmcubG5nXSk7IC8vdGhpcy5tYXAub3BlblBvcHVwKCc8Yi1idXR0b24gaWQ9InRlc3QiIEBjbGljaz0idGVzdCI+dGVzdDwvYi1idXR0b24+JyxbdmFsLmxhdGxuZy5sYXQrMC4wMDMsdmFsLmxhdGxuZy5sbmddLHtjbG9zZUJ1dHRvbjogZmFsc2UsIGNsb3NlT25DbGljazogZmFsc2V9KQoKICAgICAgdmFyIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpOwogICAgICB2YXIgYnRuID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcik7CiAgICAgIHZhciBidG4yID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcik7CiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgICAgIGJ0bjIuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwogICAgICBidG4uaW5uZXJIVE1MID0gJ2NvbmZpcm0gcGlja3VwJzsKICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsKICAgICAgTC5Eb21FdmVudC5vbihidG4sICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczkuY29ucGljaygpOwogICAgICB9KTsKICAgICAgTC5Eb21FdmVudC5vbihidG4yLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM5LnRoZXBvcHVwLnJlbW92ZSgpOwoKICAgICAgICBfdGhpczkucGlja3VwbG9jLnJlbW92ZSgpOwoKICAgICAgICBfdGhpczkub3RoZXJyZXFzdGF0dXMgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHZhciBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKGJ0bik7CiAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4yKTsKICAgICAgdGhpcy50aGVwb3B1cC5zZXRDb250ZW50KG5ld0Rpdik7CiAgICAgIHRoaXMudGhlcG9wdXAub3Blbk9uKHRoaXMubWFwKTsKICAgIH0sCiAgICBjb25maXJtMjogZnVuY3Rpb24gY29uZmlybTIodmFsKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHRoaXMudGhlcG9wdXAuc2V0TGF0TG5nKFt2YWwubGF0bG5nLmxhdCArIDAuMDAzIC8gTWF0aC5wb3codGhpcy5tYXAuZ2V0Wm9vbSgpLCA5KSAqIE1hdGgucG93KDEzLCA5KSwgdmFsLmxhdGxuZy5sbmddKTsgLy90aGlzLm1hcC5vcGVuUG9wdXAoJzxiLWJ1dHRvbiBpZD0idGVzdCIgQGNsaWNrPSJ0ZXN0Ij50ZXN0PC9iLWJ1dHRvbj4nLFt2YWwubGF0bG5nLmxhdCswLjAwMyx2YWwubGF0bG5nLmxuZ10se2Nsb3NlQnV0dG9uOiBmYWxzZSwgY2xvc2VPbkNsaWNrOiBmYWxzZX0pCgogICAgICB2YXIgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7CiAgICAgIHZhciBidG4gPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsKICAgICAgdmFyIGJ0bjIgPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsKICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgYnRuMi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgICAgIGJ0bi5pbm5lckhUTUwgPSAnY29uZmlybSBkcm9wb2ZmJzsKICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsKICAgICAgTC5Eb21FdmVudC5vbihidG4sICdjbGljaycsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5jb25kcm9wKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKTsKICAgICAgTC5Eb21FdmVudC5vbihidG4yLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMC5yZXFwaWNrdXBsb2MucmVtb3ZlKCk7CgogICAgICAgIF90aGlzMTAudGhlcnQucmVtb3ZlKCk7CgogICAgICAgIF90aGlzMTAudGhlcG9wdXAucmVtb3ZlKCk7CgogICAgICAgIF90aGlzMTAucGlja3VwbG9jLnJlbW92ZSgpOwoKICAgICAgICBfdGhpczEwLm90aGVycmVxc3RhdHVzID0gZmFsc2U7CiAgICAgIH0pOwogICAgICB2YXIgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4pOwogICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuMik7CiAgICAgIHRoaXMudGhlcG9wdXAuc2V0Q29udGVudChuZXdEaXYpOwogICAgICB0aGlzLnRoZXBvcHVwLm9wZW5Pbih0aGlzLm1hcCk7CiAgICB9LAogICAgY2hhbmdlcG9wOiBmdW5jdGlvbiBjaGFuZ2Vwb3AoKSB7CiAgICAgIHRoaXMudGhlcG9wdXAuc2V0TGF0TG5nKFt0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQgKyAwLjAwMyAvIE1hdGgucG93KHRoaXMubWFwLmdldFpvb20oKSwgOSkgKiBNYXRoLnBvdygxMywgOSksIHRoaXMucGlja3VwbG9jLmdldExhdExuZygpLmxuZ10pOwogICAgfSwKICAgIHNldHBpY2t1cDogZnVuY3Rpb24gc2V0cGlja3VwKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgdmFyIHBpbkljb24sIGNvbnRhaW5lciwgYnRuLCBidG4yLCBuZXdEaXY7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczExLnRoZXVzZXJpZCA9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTEucmVxdWVzdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5nZXRnaXZlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMTEuZ2l2aW5nYW5zID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMxMS5naXZpbmdhbnMucmVxdWVzdGVkKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5naXZpbmdhbnMucmVxdWVzdGVkID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBfdGhpczExLnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmdpdmluZ2Fucy5yZXF1ZXN0ZWQgPT0gJ0ZhbHNlJykgewogICAgICAgICAgICAgICAgICBfdGhpczExLnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5yZXF1ZXN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczExLnJlcXVlc3RlZCA9PSBmYWxzZSAmJiBfdGhpczExLm90aGVycmVxc3RhdHVzID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAzNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMS5vdGhlcnJlcXN0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICBwaW5JY29uID0gTC5pY29uKHsKICAgICAgICAgICAgICAgICAgaWNvblVybDogaW1hZ2UsCiAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjAsIDIwXSwKICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzEwLjUsIDIwXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczExLnBpY2t1cGxvYyA9IEwubWFya2VyKFtfdGhpczExLmxhdCwgX3RoaXMxMS5sb25nXSwgewogICAgICAgICAgICAgICAgICBpY29uOiBwaW5JY29uLAogICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6ICdUcnVlJwogICAgICAgICAgICAgICAgfSkuYWRkVG8oX3RoaXMxMS5tYXApOwogICAgICAgICAgICAgICAgX3RoaXMxMS5wcm92aWRlciA9IG5ldyBPcGVuU3RyZWV0TWFwUHJvdmlkZXIoKTsKICAgICAgICAgICAgICAgIF90aGlzMTEuc2VhcmNoQ29udHJvbCA9IG5ldyBHZW9TZWFyY2hDb250cm9sKHsKICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IF90aGlzMTEucHJvdmlkZXIsCiAgICAgICAgICAgICAgICAgIHNob3dNYXJrZXI6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczExLm1hcC5hZGRDb250cm9sKF90aGlzMTEuc2VhcmNoQ29udHJvbCk7CgogICAgICAgICAgICAgICAgX3RoaXMxMS5tYXAub24oJ2dlb3NlYXJjaC9zaG93bG9jYXRpb24nLCBfdGhpczExLndvcmspOyAvL3RoaXMubWFwLm9wZW5Qb3B1cCgnPHA+dGVzdDwvcD4nLFt0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sYXQrMC4wMDMsdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubG5nXSx7Y2xvc2VCdXR0b246IGZhbHNlLCBjbG9zZU9uQ2xpY2s6IGZhbHNlfSkKCgogICAgICAgICAgICAgICAgX3RoaXMxMS50aGVwb3B1cCA9IEwucG9wdXAoewogICAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIGNsb3NlT25DbGljazogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMTEudGhlcG9wdXAuc2V0TGF0TG5nKFtfdGhpczExLmxhdCArIDAuMDAzIC8gTWF0aC5wb3coX3RoaXMxMS5tYXAuZ2V0Wm9vbSgpLCA5KSAqIE1hdGgucG93KDEzLCA5KSwgX3RoaXMxMS5sb25nXSk7CgogICAgICAgICAgICAgICAgX3RoaXMxMS5tYXAub24oJ3pvb21lbmQnLCBfdGhpczExLmNoYW5nZXBvcCk7IC8vdGhpcy5tYXAub3BlblBvcHVwKCc8Yi1idXR0b24gaWQ9InRlc3QiIEBjbGljaz0idGVzdCI+dGVzdDwvYi1idXR0b24+JyxbdmFsLmxhdGxuZy5sYXQrMC4wMDMsdmFsLmxhdGxuZy5sbmddLHtjbG9zZUJ1dHRvbjogZmFsc2UsIGNsb3NlT25DbGljazogZmFsc2V9KQoKCiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKTsKICAgICAgICAgICAgICAgIGJ0biA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOwogICAgICAgICAgICAgICAgYnRuMiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOwogICAgICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bjIuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwogICAgICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICdjb25maXJtIHBpY2t1cCc7CiAgICAgICAgICAgICAgICBidG4yLmlubmVySFRNTCA9ICdjYW5jZWwnOwogICAgICAgICAgICAgICAgTC5Eb21FdmVudC5vbihidG4sICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5jb25waWNrKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oYnRuMiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczExLnBpY2t1cGxvYy5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4yKTsKCiAgICAgICAgICAgICAgICBfdGhpczExLnRoZXBvcHVwLnNldENvbnRlbnQobmV3RGl2KTsKCiAgICAgICAgICAgICAgICBfdGhpczExLnRoZXBvcHVwLm9wZW5PbihfdGhpczExLm1hcCk7CgogICAgICAgICAgICAgICAgX3RoaXMxMS5waWNrdXBsb2Mub24oJ21vdmUnLCBfdGhpczExLmNvbmZpcm0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczExLm90aGVycmVxc3RhdHVzID09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhbGVydCgnQWxyZWFkeSByZXF1ZXN0aW5nLCBkcmFnIHBpbiB0byBzZXQgcGlja3VwIGxvY2F0aW9uJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0NzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICAgICAgX3RoaXMxMS5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvY2hhbmdlcmVxdWVzdGVkZmFsc2UnLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ0OgogICAgICAgICAgICAgICAgX3RoaXMxMS5yZXFzdGF0dXMgPSAncmVxdWVzdCByaWRlJzsKICAgICAgICAgICAgICAgIF90aGlzMTEub3RoZXJyZXFzdGF0dXMgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5yZXFwaWNrdXBsb2MgIT0gJ3Rlc3QnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEucmVxcGlja3VwbG9jLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5yZXFkcm9wb2ZmbG9jLnJlbW92ZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMS50aGVydC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0dXBtYXA6IGZ1bmN0aW9uIHNldHVwbWFwKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgICAgdmFyIHRoZWRhdCwgaiwgX2xvb3AsIGksIHBvbHlnb24sIGNvbnRhaW5lcjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczEyLm1hcCA9IEwubWFwKCdtYXBDb250YWluZXInKS5zZXRWaWV3KFtfdGhpczEyLmxhdCwgX3RoaXMxMi5sb25nXSwgMTMpOwogICAgICAgICAgICAgICAgTC50aWxlTGF5ZXIoJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vc3R5bGVzL3YxL3tpZH0vdGlsZXMve3p9L3t4fS97eX0/YWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pYldGd1ltOTRJaXdpWVNJNkltTnBlalk0TlhWeWNUQTJlbVl5Y1hCbmRIUnFjbVozTjNnaWZRLnJKY0ZJRzIxNEFyaUlTTGJCNkI1YXcnLCB7CiAgICAgICAgICAgICAgICAgIG1heFpvb206IDE4LAogICAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPSJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgJyArICdJbWFnZXJ5IMKpIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lm1hcGJveC5jb20vIj5NYXBib3g8L2E+JywKICAgICAgICAgICAgICAgICAgaWQ6ICdtYXBib3gvc3RyZWV0cy12MTEnLAogICAgICAgICAgICAgICAgICB0aWxlU2l6ZTogNTEyLAogICAgICAgICAgICAgICAgICB6b29tT2Zmc2V0OiAtMQogICAgICAgICAgICAgICAgfSkuYWRkVG8oX3RoaXMxMi5tYXApOwogICAgICAgICAgICAgICAgX3RoaXMxMi51c2VycG9zaXRpb24gPSBMLmNpcmNsZShbX3RoaXMxMi5sYXQsIF90aGlzMTIubG9uZ10sIHsKICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsCiAgICAgICAgICAgICAgICAgIHJhZGl1czogMjUKICAgICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMTIubWFwKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi5nZXRyaWRlcygpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB0aGVkYXQgPSBfY29udGV4dDE3LnNlbnQ7CiAgICAgICAgICAgICAgICBqID0gMDsgLy9jb25zb2xlLmxvZyh0aGVkYXRbMF0uTG9jYXRpb24zNm43OVswXSkKCiAgICAgICAgICAgICAgICBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi52YWx1ZXMgPSBPYmplY3QudmFsdWVzKHRoZWRhdFswXS5Mb2NhdGlvbjM2bjc5WzBdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTIuaW5kcy5wdXNoKGopOyAvL2NvbnNvbGUubG9nKHZhbHVlc1tpXSkKCgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbGF0ICE9ICIiICYmIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxhdCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMi52YWx1ZXNbaV1bMF0ubmFtZSAhPSBfdGhpczEyLnRoZXVzZXJpZCkgewogICAgICAgICAgICAgICAgICAgICAgcG9seWdvbiA9IEwucG9seWdvbihbW190aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxhdCwgX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbG9uZ10sIFtfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRkcm9wb2ZmbGF0LCBfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRkcm9wb2ZmbG9uZ11dKS5hZGRUbyhfdGhpczEyLm1hcCk7IC8vY29uc29sZS5sb2codHlwZW9mKHZhbHVlc1tpXVswXSkpCgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi50aGVnaXZlcmlkZXBvcHVwcy5wdXNoKEwucG9wdXAoewogICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlT25DbGljazogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgIH0pKTsgLy92YWx1ZXNbaV1bMF0uYXBwZW5kKHtpbmQ6an0pCgoKICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIudGhlYnRucy5wdXNoKEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnRoZWJ0bnNbal0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIudGhlYnRuc1tqXS5pbm5lckhUTUwgPSAnZ2l2ZSByaWRlJzsKICAgICAgICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oX3RoaXMxMi50aGVidG5zW2pdLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuZ2l2ZXJpZGUoX3RoaXMxMi5pbmRzW2ldLCBfdGhpczEyLnZhbHVlc1tpXVswXS5uYW1lLCBfdGhpczEyLnZhbHVlc1tpXVswXS5hY25hbWUsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxhdCwgX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbG9uZywgX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxvbmcpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi55ZXNidG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIueWVzYnRuc1tqXS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi55ZXNidG5zW2pdLmlubmVySFRNTCA9ICdZZXMnOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIubm9idG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIubm9idG5zW2pdLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm5vYnRuc1tqXS5pbm5lckhUTUwgPSAnTm8nOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIub2tidG5zLnB1c2goTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcikpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIub2tidG5zW2pdLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm9rYnRuc1tqXS5pbm5lckhUTUwgPSAnT0snOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIudGhlZ2l2ZXJpZGVwb3B1cHNbal0uc2V0Q29udGVudChfdGhpczEyLnRoZWJ0bnNbal0pOwoKICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24uYmluZFBvcHVwKF90aGlzMTIudGhlZ2l2ZXJpZGVwb3B1cHNbal0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGNpcmNsZSA9IEwuY2lyY2xlKFtfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRwaWNrdXBsYXQsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxvbmddLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LAogICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDI1CiAgICAgICAgICAgICAgICAgICAgICB9KS5hZGRUbyhfdGhpczEyLm1hcCk7CiAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUuYmluZFBvcHVwKF90aGlzMTIudGhlZ2l2ZXJpZGVwb3B1cHNbal0pOwogICAgICAgICAgICAgICAgICAgICAgdmFyIGNpcmNsZTIgPSBMLmNpcmNsZShbX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxvbmddLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmVkJywKICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAncmVkJywKICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAyNQogICAgICAgICAgICAgICAgICAgICAgfSkuYWRkVG8oX3RoaXMxMi5tYXApOwogICAgICAgICAgICAgICAgICAgICAgY2lyY2xlMi5iaW5kUG9wdXAoX3RoaXMxMi50aGVnaXZlcmlkZXBvcHVwc1tqXSk7CiAgICAgICAgICAgICAgICAgICAgICBqICs9IDE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBPYmplY3QudmFsdWVzKHRoZWRhdFswXS5Mb2NhdGlvbjM2bjc5WzBdKS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfbG9vcChpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRMaW5rOiBmdW5jdGlvbiBhZGRMaW5rKG5ld0xpbmspIHsKICAgICAgY29uc29sZS5sb2coIkVWRU5UOiBhZGQgbmV3IGl0ZW0gIi5jb25jYXQobmV3TGluay5uYW1lLCAiIHRvICIpLmNvbmNhdCh0aGlzLmxpbmtHcm91cC50aXRsZSkpOwogICAgICB0aGlzLiRlbWl0KCduZXctbGluaycsIHRoaXMuZ3JvdXBJZCwgbmV3TGluayk7IC8vIG1heSBhbHNvIGRvIGFkZGl0aW9uYWwgd29yayByZWxhdGVkIHRvIGxvZ2dpbmcsIGludGVyYWN0aXZpdHksIG9yIG90aGVyIHRyYWNraW5nIGNoYW5nZXMKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICB2YXIgdGhldXNlcmlkLCBuZXdsYXQsIG5ld2xuZzsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy51c2UoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0aGV1c2VyaWQgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMxMy50aGV1c2VyaWQgPSB0aGV1c2VyaWQuaWQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMxMy50aGV1c2VyaWQpOwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuYWxsTGlua3MuZ2V0bmV3bGF0KF90aGlzMTMudGhldXNlcmlkKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBuZXdsYXQgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuYWxsTGlua3MuZ2V0bmV3bG5nKF90aGlzMTMudGhldXNlcmlkKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgbmV3bG5nID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICAgIF90aGlzMTMubGF0ID0gbmV3bGF0OwogICAgICAgICAgICAgIF90aGlzMTMubG9uZyA9IG5ld2xuZzsKCiAgICAgICAgICAgICAgX3RoaXMxMy5zZXR1cG1hcCgpOwoKICAgICAgICAgICAgICBfdGhpczEzLmlzbG9hZGluZyA9ICcnOwoKICAgICAgICAgICAgICBpZiAoIShfdGhpczEzLnRoZXVzZXJpZCAhPSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA0MDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuZ2V0Z2l2ZSgpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBfdGhpczEzLmdpdmluZ2FucyA9IF9jb250ZXh0MTguc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyMTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5nZXRzY29yZSgpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBfdGhpczEzLnNjb3JlID0gX2NvbnRleHQxOC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWQgPT0gJ1RydWUnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMTMucmVxc3RhdHVzID0gJ0NhbmNlbCByZXF1ZXN0ICg1IG1pbGUgcGVuYWx0eSknOwogICAgICAgICAgICAgIF90aGlzMTMucmVxdWVzdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICBfdGhpczEzLnJlcXBpY2t1cGxvYyA9IEwuY2lyY2xlKFtfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRwaWNrdXBsYXQsIF90aGlzMTMuZ2l2aW5nYW5zLnJlcXVlc3RlZHBpY2t1cGxvbmddLCB7CiAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJywKICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ2dyZWVuJywKICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsCiAgICAgICAgICAgICAgICByYWRpdXM6IDI1CiAgICAgICAgICAgICAgfSkuYWRkVG8oX3RoaXMxMy5tYXApOwogICAgICAgICAgICAgIF90aGlzMTMudGhlcnQgPSBMLnBvbHlnb24oW1tfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRwaWNrdXBsYXQsIF90aGlzMTMuZ2l2aW5nYW5zLnJlcXVlc3RlZHBpY2t1cGxvbmddLCBbX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkZHJvcG9mZmxhdCwgX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkZHJvcG9mZmxvbmddXSkuYWRkVG8oX3RoaXMxMy5tYXApOwogICAgICAgICAgICAgIF90aGlzMTMucmVxZHJvcG9mZmxvYyA9IEwuY2lyY2xlKFtfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRkcm9wb2ZmbGF0LCBfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRkcm9wb2ZmbG9uZ10sIHsKICAgICAgICAgICAgICAgIGNvbG9yOiAncmVkJywKICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LAogICAgICAgICAgICAgICAgcmFkaXVzOiAyNQogICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMTMubWFwKTsKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzMDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5jaGVja3JpZGVyZGVzdCgpOwoKICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgX3RoaXMxMy5yZXF1ZXN0ZWQgPSBmYWxzZTsKCiAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMy5naXZpbmdhbnMuZ2l2aW5nID09ICdUcnVlJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczEzLmdpdmluZyA9PSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLmNoZWNrZGVzdCgpOwoKICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA0MDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgX3RoaXMxMy5naXZpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE4KTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["TheMap.vue"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * This represents displaying a group of links.\r\n *\r\n * This is an example of a convenience component that serves to organize the data hierarchy.\r\n * It re-emits the custom events of its child components, adding its own information to them\r\n * to provide for future data accessor methods.\r\n *\r\n * @author Dennis Quan\r\n * @author Robert Duvall\r\n */\r\n\r\n// display group as a column or cards that is organized by BootstrapVue\r\n<template>\r\n    <div id=\"mapwrap\">\r\n        <header>\r\n            <h1>{{score}} miles available for ride requests. Complete ride requests on the map to earn more miles! {{isloading}}</h1>\r\n        </header>\r\n        <div id=\"mapContainer\"></div>\r\n        <b-button id=\"request\" @click=\"setpickup\">{{reqstatus}}</b-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as L from 'leaflet';\r\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\r\nimport '../../node_modules/leaflet/dist/leaflet.css';\r\nimport '../../node_modules/leaflet-geosearch/dist/geosearch.css';\r\nimport { linkDataStore } from '../data/LinkDataStore.js'\r\nimport image from './Images/pin.png' \r\n//import { getJSON } from './apiHelper';\r\nexport default {\r\n    name: 'TheMap',\r\n    data () {\r\n        return {\r\n            // backing data for edits using v-model, no copy needed since Strings are immutable\r\n            allLinks: linkDataStore,\r\n            map: 'test',\r\n            pickuploc:'init',\r\n            reqstatus: 'request ride',\r\n            provider: 'test',\r\n            searchControl: 'test',\r\n            reqpickuploc:'test',\r\n            reqdropoffloc:'test',\r\n            thert:'test',\r\n            pickuplat:0,\r\n            pickuplong:0,\r\n            lat:0,\r\n            long:0,\r\n            userid:\"\",\r\n            ispick:\"\",\r\n            thepopup:\"\",\r\n            thegiveridepopups:[],\r\n            cost:\"\",\r\n            riderid:\"\",\r\n            enroute:false,\r\n            thebtns:[],\r\n            inds:[],\r\n            yesbtns:[],\r\n            nobtns:[],\r\n            containers:[],\r\n            giving:false,\r\n            okbtns:[],\r\n            loggedin:false,\r\n            loggedin2:false,\r\n            requested:false,\r\n            theuserid:{},\r\n            otherreqstatus:false,\r\n            score:15,\r\n            isloading:'(loading map)'\r\n            // may also need a copy group information if there is any chance it might be changed interactively\r\n        };\r\n    },\r\n    methods: {\r\n        // emit event that signals a new link is ready to be added\r\n        // NOTE, error checking is done in the child component\r\n        async getrides(){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getLinks')//?lat='+this.lat+'&long='+this.long);\r\n            return response.json();\r\n        },\r\n        async getriderlat(id){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getriderlat?id='+id);\r\n            return response.json();\r\n        },\r\n        async getriderlong(id){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getriderlong?id='+id);\r\n            return response.json();\r\n        },\r\n        work(value){\r\n            console.log(value.location)\r\n            this.pickuploc.setLatLng([value.location.y,value.location.x])\r\n        },\r\n        updatePoly(oldLatLng){\r\n            this.thert.remove()\r\n            this.thert=L.polygon([\r\n                [this.pickuplat, this.pickuplong],\r\n                [oldLatLng.latlng.lat, oldLatLng.latlng.lng]\r\n            ]).addTo(this.map);\r\n        },\r\n        conpick(){\r\n            this.pickuploc.on('move',this.confirm2)\r\n            this.pickuplat=this.pickuploc.getLatLng().lat\r\n            this.pickuplong=this.pickuploc.getLatLng().lng\r\n            this.thert=L.polygon([\r\n                [this.pickuplat, this.pickuplong],\r\n                [this.pickuplat, this.pickuplong+0.003]\r\n            ]).addTo(this.map);\r\n            this.reqpickuploc=L.circle([this.pickuplat, this.pickuplong], {\r\n                color: 'green',\r\n                fillColor: 'green',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            //console.log(this.pickuploc.getLatLng().lat)\r\n            this.pickuploc.setLatLng([this.pickuplat,this.pickuplong+0.003])\r\n            this.pickuploc.on('move',this.updatePoly)\r\n            this.thepopup.setLatLng([this.pickuplat+(0.003/(this.map.getZoom()**9))*(13**9),this.pickuplong+0.003])\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm dropoff';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', async () => {\r\n                await this.condrop()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.reqpickuploc.remove()\r\n                this.thert.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n                this.thepopup.remove()\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        async condrop(){\r\n            if(this.theuserid==undefined&&this.loggedin2==false){\r\n                window.location.assign(\"https://safe-river-16409.herokuapp.com/api/auth/login\")\r\n                this.loggedin2=true\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                await this.condrop()\r\n            }\r\n            else if(this.theuserid==undefined&&this.loggedin2==true){\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                console.log(this.theuserid)\r\n                await this.condrop()\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n                if(this.requested==false){\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/changerequested',{ credentials: 'include'})\r\n                    this.reqdropoffloc=L.circle([this.pickuploc.getLatLng().lat, this.pickuploc.getLatLng().lng], {\r\n                        color: 'red',\r\n                        fillColor: 'red',\r\n                        fillOpacity: 0.5,\r\n                        radius: 25,\r\n                    }).addTo(this.map);\r\n                    this.thepopup.remove()\r\n                    this.pickuploc.remove()\r\n                    this.reqstatus='cancel request (5 mile penalty)'\r\n                    this.requested=true\r\n                    this.otherreqstatus=false\r\n                    this.oldscore=await this.getscore()\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/sendride?requestedpickuplat='+this.pickuplat+'&requestedpickuplong='+this.pickuplong+'&requesteddropofflat='+this.pickuploc.getLatLng().lat+'&requesteddropofflong='+this.pickuploc.getLatLng().lng,{ credentials: 'include'})\r\n                    await this.checkriderdest(this.oldscore)\r\n                }\r\n                else{\r\n                    alert('You have already requested a ride')\r\n                }\r\n            }\r\n        },\r\n        async waitfordriver(oldscore){\r\n            this.score=await this.getscore()\r\n            if(this.score==oldscore){\r\n                await this.waitfordriver(oldscore)\r\n            }\r\n            else{\r\n                console.log('success')\r\n            }\r\n        },\r\n        async getscore(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/grabscore',{ credentials: 'include'})\r\n            return response.json()\r\n        },\r\n        async checkriderdest(oldscore){\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            this.userposition.setLatLng([this.lat,this.long])\r\n            this.score=await this.getscore()\r\n            //this.let=lat\r\n            //this.long=long\r\n            const dist=((this.requesteddropofflat-this.lat)**2+(this.requesteddropofflong-this.long)**2)**0.5\r\n            if(dist<0.003){\r\n                this.requested=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changerequestedfalse',{ credentials: 'include'})\r\n                if(this.score==oldscore){\r\n                    await this.waitfordriver(oldscore)\r\n                }\r\n            }\r\n            else{\r\n                await this.checkriderdest()\r\n            }\r\n        },\r\n        async acgiveride(n,name,rplat,rplong,rdlat,rdlong){\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            const dist=((rplat-this.lat)**2+(rplong-this.long)**2)**0.5\r\n            const distmiles1=(((rplat-this.lat)*69.172)**2+((rplong-this.long)*(Math.cos(((rplat-this.lat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n            this.thegiveridepopups[n].setContent('Go to'+name+'('+distmiles1+'miles away)')\r\n            if(dist<0.003){\r\n                this.enroute=true\r\n                const distmiles=(((rplat-rdlat)*69.172)**2+((rplong-rdlong)*(Math.cos(((rplat-rdlat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n                this.cost=distmiles\r\n                this.thegiveridepopups[n].setContent('Drive'+name+'to the destination('+distmiles+'miles away)')\r\n                await this.checkdest(n,name,rdlat,rdlong)\r\n            }\r\n            else{\r\n                await this.acgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n        },\r\n        async getgive(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/getusergive',{ credentials: 'include'})\r\n            return response.json()\r\n        },\r\n        async beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong){\r\n            const theuserid = await this.use();\r\n            this.theuserid=theuserid.id\r\n            if(this.theuserid==undefined&&this.loggedin==false){\r\n                window.location.assign(\"https://safe-river-16409.herokuapp.com/api/auth/login\")\r\n                this.loggedin=true\r\n                await this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n            else if(this.theuserid==undefined&&this.loggedin==true){\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                await this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                if(this.givingans.giving==undefined){\r\n                    this.giving=false\r\n                }\r\n                else if(this.givingans.giving=='False'){\r\n                    this.giving=false\r\n                }\r\n                else{\r\n                    this.giving=true\r\n                }\r\n                console.log(this.giving)\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n                if(this.giving==false&&this.requested==false){\r\n                    this.giving=true\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/changegive',{ credentials: 'include'})\r\n                    await this.acgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n                }\r\n                else if(this.giving==true&&this.requested==false){\r\n                    L.DomEvent.on(this.okbtns[n], 'click', () => {\r\n                        this.goback(n)\r\n                    });\r\n                    var newDiv = document.createElement(\"div\");\r\n                    var newContent = document.createTextNode(\"Error: you must complete your current ride first.\");\r\n                    newDiv.appendChild(newContent);\r\n                    newDiv.appendChild(this.okbtns[n]);\r\n                    this.thegiveridepopups[n].setContent(newDiv)\r\n                }\r\n                else{\r\n                    L.DomEvent.on(this.okbtns[n], 'click', () => {\r\n                        this.goback(n)\r\n                    });\r\n                    var newwDiv = document.createElement(\"div\");\r\n                    var newwContent = document.createTextNode(\"Error: you must cancel your current ride request or complete it in order to give a ride.\");\r\n                    newwDiv.appendChild(newwContent);\r\n                    newwDiv.appendChild(this.okbtns[n]);\r\n                    this.thegiveridepopups[n].setContent(newwDiv)\r\n                }\r\n            }\r\n        },\r\n        async giveride(n,val,name,rplat,rplong,rdlat,rdlong){\r\n            this.riderid=val\r\n            L.DomEvent.on(this.yesbtns[n], 'click', () => {\r\n                this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            });\r\n            L.DomEvent.on(this.nobtns[n], 'click', () => {\r\n                this.goback(n)\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            var newContent = document.createTextNode(\"Are your sure? Other users can tell if you failed to complete this ride.\");\r\n            newDiv.appendChild(newContent);\r\n            newDiv.appendChild(this.yesbtns[n]);\r\n            newDiv.appendChild(this.nobtns[n]);\r\n            this.thegiveridepopups[n].setContent(newDiv)\r\n        },\r\n        async checkdest(n,val,rdlat,rdlong){\r\n            const riderlat=await this.getriderlat(this.riderid);\r\n            const riderlong=await this.getriderlong(this.riderid);\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            this.userposition.setLatLng([this.lat,this.long])\r\n            const dist=((riderlat-rdlat)**2+(riderlong-rdlong)**2)**0.5\r\n            const distmiles=(((riderlat-rdlat)*69.172)**2+((riderlong-rdlong)*(Math.cos(((riderlat-rdlat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n            if(dist<0.003){\r\n                this.giving=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changegivefalse',{ credentials: 'include'})\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/finished?cost='+this.cost+'&rider='+this.riderid,{ credentials: 'include'})\r\n                this.score=await this.getscore()\r\n            }\r\n            else{\r\n                this.thegiveridepopups[n].setContent('Drive'+val+'to the destination('+distmiles+'miles away)')\r\n                this.thegiveridepopups[n].setLatLng([riderlat,riderlong])\r\n                await this.checkdest(rdlat,rdlong)\r\n            }\r\n        },\r\n        async use(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/user',{ credentials: 'include'})\r\n            return response.json()\r\n        },\r\n        goback(n){\r\n            this.thegiveridepopups[n].setContent(this.thebtns[n])\r\n        },\r\n        confirm(val){\r\n            this.thepopup.setLatLng([val.latlng.lat+(0.003/(this.map.getZoom()**9))*(13**9),val.latlng.lng])\r\n            //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm pickup';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', () => {\r\n                this.conpick()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.thepopup.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        confirm2(val){\r\n            this.thepopup.setLatLng([val.latlng.lat+(0.003/(this.map.getZoom()**9))*(13**9),val.latlng.lng])\r\n            //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm dropoff';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', async () => {\r\n                await this.condrop()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.reqpickuploc.remove()\r\n                this.thert.remove()\r\n                this.thepopup.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        changepop(){\r\n            this.thepopup.setLatLng([this.pickuploc.getLatLng().lat+(0.003/(this.map.getZoom()**9))*(13**9), this.pickuploc.getLatLng().lng])\r\n        },\r\n        async setpickup(){\r\n            if(this.theuserid==undefined){\r\n                this.requested=false\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                console.log(this.givingans.requested)\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n            } \r\n            if(this.requested==false&&this.otherreqstatus==false){\r\n                this.otherreqstatus=true\r\n                let pinIcon = L.icon({\r\n                    iconUrl: image,\r\n                    iconSize: [20,20],\r\n                    iconAnchor: [10.5,20]\r\n                });\r\n                this.pickuploc = L.marker([this.lat, this.long], {\r\n                    icon: pinIcon,\r\n                    draggable: 'True'\r\n                }).addTo(this.map);\r\n                this.provider = new OpenStreetMapProvider();\r\n                this.searchControl = new GeoSearchControl({\r\n                    provider: this.provider,\r\n                    showMarker: false\r\n                });\r\n                this.map.addControl(this.searchControl);\r\n                this.map.on('geosearch/showlocation', this.work);\r\n                //this.map.openPopup('<p>test</p>',[this.pickuploc.getLatLng().lat+0.003,this.pickuploc.getLatLng().lng],{closeButton: false, closeOnClick: false})\r\n                this.thepopup=L.popup({closeButton:false,closeOnClick:false});\r\n                this.thepopup.setLatLng([this.lat+(0.003/(this.map.getZoom()**9))*(13**9), this.long])\r\n                this.map.on('zoomend',this.changepop)\r\n                //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n                var container = L.DomUtil.create('div')\r\n                var btn = L.DomUtil.create('button', '', container);\r\n                var btn2 = L.DomUtil.create('button', '', container);\r\n                btn.setAttribute('type', 'button');\r\n                btn2.setAttribute('type', 'button');\r\n                btn.innerHTML = 'confirm pickup';\r\n                btn2.innerHTML = 'cancel';\r\n                L.DomEvent.on(btn, 'click', () => {\r\n                    this.conpick()\r\n                });\r\n                L.DomEvent.on(btn2, 'click', () => {\r\n                    this.pickuploc.remove()\r\n                });\r\n                var newDiv = document.createElement(\"div\");\r\n                newDiv.appendChild(btn);\r\n                newDiv.appendChild(btn2);\r\n                this.thepopup.setContent(newDiv)\r\n                this.thepopup.openOn(this.map)\r\n                this.pickuploc.on('move',this.confirm)\r\n            }\r\n            else if(this.otherreqstatus==true){\r\n                alert('Already requesting, drag pin to set pickup location')\r\n            }\r\n            else{\r\n                this.requested=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changerequestedfalse',{ credentials: 'include'})\r\n                this.reqstatus='request ride'\r\n                this.otherreqstatus=false\r\n                if(this.reqpickuploc!='test'){\r\n                    this.reqpickuploc.remove()\r\n                    this.reqdropoffloc.remove()\r\n                    this.thert.remove()\r\n                }\r\n            }\r\n        },\r\n        async setupmap(){\r\n            this.map = L.map('mapContainer').setView([this.lat, this.long], 13);\r\n            L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n                maxZoom: 18,\r\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                    'Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n                id: 'mapbox/streets-v11',\r\n                tileSize: 512,\r\n                zoomOffset: -1\r\n            }).addTo(this.map);\r\n            this.userposition = L.circle([this.lat, this.long], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            const thedat=await this.getrides()\r\n            var j=0\r\n            //console.log(thedat[0].Location36n79[0])\r\n            for(let i=0;i<Object.values(thedat[0].Location36n79[0]).length;i++){\r\n                this.values=Object.values(thedat[0].Location36n79[0])\r\n                this.inds.push(j)\r\n                //console.log(values[i])\r\n                if(this.values[i][0].requestedpickuplat!=\"\"&&this.values[i][0].requestedpickuplat!=undefined){\r\n                    if(this.values[i][0].name!=this.theuserid){\r\n                        var polygon = L.polygon([\r\n                            [this.values[i][0].requestedpickuplat, this.values[i][0].requestedpickuplong],\r\n                            [this.values[i][0].requesteddropofflat, this.values[i][0].requesteddropofflong]\r\n                        ]).addTo(this.map);\r\n                        //console.log(typeof(values[i][0]))\r\n                        this.thegiveridepopups.push(L.popup({closeButton:false,closeOnClick:false}))\r\n                        //values[i][0].append({ind:j})\r\n                        var container=L.DomUtil.create('div')\r\n                        this.thebtns.push(L.DomUtil.create('button', '', container));\r\n                        this.thebtns[j].setAttribute('type', 'button');\r\n                        this.thebtns[j].innerHTML = 'give ride';\r\n                        L.DomEvent.on(this.thebtns[j], 'click', () => {\r\n                            this.giveride(this.inds[i],this.values[i][0].name,this.values[i][0].acname,this.values[i][0].requestedpickuplat,this.values[i][0].requestedpickuplong,this.values[i][0].requesteddropofflat,this.values[i][0].requesteddropofflong)\r\n                        });\r\n                        this.yesbtns.push(L.DomUtil.create('button', '', container));\r\n                        this.yesbtns[j].setAttribute('type', 'button');\r\n                        this.yesbtns[j].innerHTML = 'Yes';\r\n                        this.nobtns.push(L.DomUtil.create('button', '', container));\r\n                        this.nobtns[j].setAttribute('type', 'button');\r\n                        this.nobtns[j].innerHTML = 'No';\r\n                        this.okbtns.push(L.DomUtil.create('button', '', container));\r\n                        this.okbtns[j].setAttribute('type', 'button');\r\n                        this.okbtns[j].innerHTML = 'OK';\r\n                        this.thegiveridepopups[j].setContent(this.thebtns[j])\r\n                        polygon.bindPopup(this.thegiveridepopups[j]);\r\n                        let circle = L.circle([this.values[i][0].requestedpickuplat, this.values[i][0].requestedpickuplong], {\r\n                            color: 'blue',\r\n                            fillColor: 'blue',\r\n                            fillOpacity: 0.5,\r\n                            radius: 25,\r\n                        }).addTo(this.map);\r\n                        circle.bindPopup(this.thegiveridepopups[j])\r\n                        let circle2 = L.circle([this.values[i][0].requesteddropofflat, this.values[i][0].requesteddropofflong], {\r\n                            color: 'red',\r\n                            fillColor: 'red',\r\n                            fillOpacity: 0.5,\r\n                            radius: 25,\r\n                        }).addTo(this.map);\r\n                        circle2.bindPopup(this.thegiveridepopups[j])\r\n                        j+=1\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        addLink (newLink) {\r\n            console.log(`EVENT: add new item ${newLink.name} to ${this.linkGroup.title}`);\r\n            this.$emit('new-link', this.groupId, newLink);\r\n            // may also do additional work related to logging, interactivity, or other tracking changes\r\n        }\r\n    },\r\n    async mounted () {\r\n        const theuserid=await this.use()\r\n        this.theuserid=theuserid.id\r\n        console.log(this.theuserid)\r\n        const newlat=await this.allLinks.getnewlat(this.theuserid);\r\n        const newlng=await this.allLinks.getnewlng(this.theuserid);\r\n        this.lat=newlat\r\n        this.long=newlng\r\n        this.setupmap();\r\n        this.isloading=''\r\n        if(this.theuserid!=undefined){\r\n            this.givingans=await this.getgive()\r\n            this.score=await this.getscore()\r\n            if(this.givingans.requested=='True'){\r\n                this.reqstatus='Cancel request (5 mile penalty)'\r\n                this.requested=true\r\n                this.reqpickuploc=L.circle([this.givingans.requestedpickuplat, this.givingans.requestedpickuplong], {\r\n                    color: 'green',\r\n                    fillColor: 'green',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                this.thert=L.polygon([\r\n                    [this.givingans.requestedpickuplat, this.givingans.requestedpickuplong],\r\n                    [this.givingans.requesteddropofflat, this.givingans.requesteddropofflong]\r\n                ]).addTo(this.map);\r\n                this.reqdropoffloc=L.circle([this.givingans.requesteddropofflat, this.givingans.requesteddropofflong], {\r\n                    color: 'red',\r\n                    fillColor: 'red',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                await this.checkriderdest()\r\n            }\r\n            else{\r\n                this.requested=false\r\n            }\r\n            if(this.givingans.giving=='True'){\r\n                this.giving==true\r\n                await this.checkdest()\r\n            }\r\n            else{\r\n                this.giving=false\r\n            }\r\n        }\r\n        //const newlng=await this.allLinks.getlong();\r\n        /*\r\n        var thelat=0\r\n        var thelong=0\r\n        console.log(999)\r\n        function success(position) {\r\n            thelat=position.coords.latitude;\r\n            thelong=position.coords.longitude;\r\n        }\r\n        \r\n        function error() {\r\n            console.log('Unable to retrieve your location');\r\n        }\r\n        \r\n        if(!navigator.geolocation) {\r\n            console.log('Geolocation is not supported by your browser');\r\n        } else {\r\n            navigator.geolocation.getCurrentPosition(success, error);\r\n        }\r\n        const mymap = L.map('mapid').setView([thelat, thelong], 13);\r\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n            maxZoom: 18,\r\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                'Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n            id: 'mapbox/streets-v11',\r\n            tileSize: 512,\r\n            zoomOffset: -1\r\n        }).addTo(mymap);\r\n        for(let i=1;i<this.allLinks.data.length;i++){\r\n            var polygon = L.polygon([\r\n            [this.allLinks.data[i].requestedpickuplat, this.allLinks.data.users[i].requestedpickuplong],\r\n            [this.allLinks.data[i].requesteddropofflat, this.allLinks.data.users[i].requesteddropofflong]\r\n            ]).addTo(mymap);\r\n            polygon.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle = L.circle([this.allLinks.data[i].requestedpickuplat, this.allLinks.data[i].requestedpickuplong], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle2 = L.circle([this.allLinks.data[i].requesteddropofflat, this.allLinks.data[i].requesteddropofflong], {\r\n                color: 'red',\r\n                fillColor: 'red',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle2.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n        }\r\n        */\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n#mapContainer {\r\n width: 80vw;\r\n height: 100vh;\r\n}\r\n#request {\r\n    position: absolute;\r\n    bottom: 370px;\r\n    width: 10%;\r\n    z-index: 9999;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}