{"remainingRequest":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\src\\components\\TheMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\src\\components\\TheMap.vue","mtime":1620822797502},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\arobu\\portfolio_rap55\\finalproject\\ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Fyb2J1L3BvcnRmb2xpb19yYXA1NS9maW5hbHByb2plY3QvdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnOwppbXBvcnQgeyBHZW9TZWFyY2hDb250cm9sLCBPcGVuU3RyZWV0TWFwUHJvdmlkZXIgfSBmcm9tICdsZWFmbGV0LWdlb3NlYXJjaCc7CmltcG9ydCAnLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7CmltcG9ydCAnLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQtZ2Vvc2VhcmNoL2Rpc3QvZ2Vvc2VhcmNoLmNzcyc7CmltcG9ydCB7IGxpbmtEYXRhU3RvcmUgfSBmcm9tICcuLi9kYXRhL0xpbmtEYXRhU3RvcmUuanMnOwppbXBvcnQgaW1hZ2UgZnJvbSAnLi9JbWFnZXMvcGluLnBuZyc7IC8vaW1wb3J0IHsgZ2V0SlNPTiB9IGZyb20gJy4vYXBpSGVscGVyJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGhlTWFwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gYmFja2luZyBkYXRhIGZvciBlZGl0cyB1c2luZyB2LW1vZGVsLCBubyBjb3B5IG5lZWRlZCBzaW5jZSBTdHJpbmdzIGFyZSBpbW11dGFibGUKICAgICAgYWxsTGlua3M6IGxpbmtEYXRhU3RvcmUsCiAgICAgIG1hcDogJ3Rlc3QnLAogICAgICBwaWNrdXBsb2M6ICdpbml0JywKICAgICAgcmVxc3RhdHVzOiAncmVxdWVzdCByaWRlJywKICAgICAgcHJvdmlkZXI6ICd0ZXN0JywKICAgICAgc2VhcmNoQ29udHJvbDogJ3Rlc3QnLAogICAgICByZXFwaWNrdXBsb2M6ICd0ZXN0JywKICAgICAgcmVxZHJvcG9mZmxvYzogJ3Rlc3QnLAogICAgICB0aGVydDogJ3Rlc3QnLAogICAgICBwaWNrdXBsYXQ6IDAsCiAgICAgIHBpY2t1cGxvbmc6IDAsCiAgICAgIGxhdDogMCwKICAgICAgbG9uZzogMCwKICAgICAgdXNlcmlkOiAiIiwKICAgICAgaXNwaWNrOiAiIiwKICAgICAgdGhlcG9wdXA6ICIiLAogICAgICB0aGVnaXZlcmlkZXBvcHVwczogW10sCiAgICAgIGNvc3Q6ICIiLAogICAgICByaWRlcmlkOiAiIiwKICAgICAgZW5yb3V0ZTogZmFsc2UsCiAgICAgIHRoZWJ0bnM6IFtdLAogICAgICBpbmRzOiBbXSwKICAgICAgeWVzYnRuczogW10sCiAgICAgIG5vYnRuczogW10sCiAgICAgIGNvbnRhaW5lcnM6IFtdLAogICAgICBnaXZpbmc6IGZhbHNlLAogICAgICBva2J0bnM6IFtdLAogICAgICBsb2dnZWRpbjogZmFsc2UsCiAgICAgIGxvZ2dlZGluMjogZmFsc2UsCiAgICAgIHJlcXVlc3RlZDogZmFsc2UsCiAgICAgIHRoZXVzZXJpZDoge30sCiAgICAgIG90aGVycmVxc3RhdHVzOiBmYWxzZSwKICAgICAgc2NvcmU6IDE1LAogICAgICBpc2xvYWRpbmc6ICcobG9hZGluZyBtYXApJyAvLyBtYXkgYWxzbyBuZWVkIGEgY29weSBncm91cCBpbmZvcm1hdGlvbiBpZiB0aGVyZSBpcyBhbnkgY2hhbmNlIGl0IG1pZ2h0IGJlIGNoYW5nZWQgaW50ZXJhY3RpdmVseQoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBlbWl0IGV2ZW50IHRoYXQgc2lnbmFscyBhIG5ldyBsaW5rIGlzIHJlYWR5IHRvIGJlIGFkZGVkCiAgICAvLyBOT1RFLCBlcnJvciBjaGVja2luZyBpcyBkb25lIGluIHRoZSBjaGlsZCBjb21wb25lbnQKICAgIGdldHJpZGVzOiBmdW5jdGlvbiBnZXRyaWRlcygpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9nZXRMaW5rcycpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5qc29uKCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0cmlkZXJsYXQ6IGZ1bmN0aW9uIGdldHJpZGVybGF0KGlkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZ2V0cmlkZXJsYXQ/aWQ9JyArIGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5qc29uKCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRyaWRlcmxvbmc6IGZ1bmN0aW9uIGdldHJpZGVybG9uZyhpZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2dldHJpZGVybG9uZz9pZD0nICsgaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHdvcms6IGZ1bmN0aW9uIHdvcmsodmFsdWUpIHsKICAgICAgY29uc29sZS5sb2codmFsdWUubG9jYXRpb24pOwogICAgICB0aGlzLnBpY2t1cGxvYy5zZXRMYXRMbmcoW3ZhbHVlLmxvY2F0aW9uLnksIHZhbHVlLmxvY2F0aW9uLnhdKTsKICAgIH0sCiAgICB1cGRhdGVQb2x5OiBmdW5jdGlvbiB1cGRhdGVQb2x5KG9sZExhdExuZykgewogICAgICB0aGlzLnRoZXJ0LnJlbW92ZSgpOwogICAgICB0aGlzLnRoZXJ0ID0gTC5wb2x5Z29uKFtbdGhpcy5waWNrdXBsYXQsIHRoaXMucGlja3VwbG9uZ10sIFtvbGRMYXRMbmcubGF0bG5nLmxhdCwgb2xkTGF0TG5nLmxhdGxuZy5sbmddXSkuYWRkVG8odGhpcy5tYXApOwogICAgfSwKICAgIGNvbnBpY2s6IGZ1bmN0aW9uIGNvbnBpY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnBpY2t1cGxvYy5vbignbW92ZScsIHRoaXMuY29uZmlybTIpOwogICAgICB0aGlzLnBpY2t1cGxhdCA9IHRoaXMucGlja3VwbG9jLmdldExhdExuZygpLmxhdDsKICAgICAgdGhpcy5waWNrdXBsb25nID0gdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubG5nOwogICAgICB0aGlzLnRoZXJ0ID0gTC5wb2x5Z29uKFtbdGhpcy5waWNrdXBsYXQsIHRoaXMucGlja3VwbG9uZ10sIFt0aGlzLnBpY2t1cGxhdCwgdGhpcy5waWNrdXBsb25nICsgMC4wMDNdXSkuYWRkVG8odGhpcy5tYXApOwogICAgICB0aGlzLnJlcXBpY2t1cGxvYyA9IEwuY2lyY2xlKFt0aGlzLnBpY2t1cGxhdCwgdGhpcy5waWNrdXBsb25nXSwgewogICAgICAgIGNvbG9yOiAnZ3JlZW4nLAogICAgICAgIGZpbGxDb2xvcjogJ2dyZWVuJywKICAgICAgICBmaWxsT3BhY2l0eTogMC41LAogICAgICAgIHJhZGl1czogMjUKICAgICAgfSkuYWRkVG8odGhpcy5tYXApOyAvL2NvbnNvbGUubG9nKHRoaXMucGlja3VwbG9jLmdldExhdExuZygpLmxhdCkKCiAgICAgIHRoaXMucGlja3VwbG9jLnNldExhdExuZyhbdGhpcy5waWNrdXBsYXQsIHRoaXMucGlja3VwbG9uZyArIDAuMDAzXSk7CiAgICAgIHRoaXMucGlja3VwbG9jLm9uKCdtb3ZlJywgdGhpcy51cGRhdGVQb2x5KTsKICAgICAgdGhpcy50aGVwb3B1cC5zZXRMYXRMbmcoW3RoaXMucGlja3VwbGF0ICsgMC4wMDMgLyBNYXRoLnBvdyh0aGlzLm1hcC5nZXRab29tKCksIDkpICogTWF0aC5wb3coMTMsIDkpLCB0aGlzLnBpY2t1cGxvbmcgKyAwLjAwM10pOwogICAgICB2YXIgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7CiAgICAgIHZhciBidG4gPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsKICAgICAgdmFyIGJ0bjIgPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsKICAgICAgYnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgYnRuMi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgICAgIGJ0bi5pbm5lckhUTUwgPSAnY29uZmlybSBkcm9wb2ZmJzsKICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsKICAgICAgTC5Eb21FdmVudC5vbihidG4sICdjbGljaycsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29uZHJvcCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkpOwogICAgICBMLkRvbUV2ZW50Lm9uKGJ0bjIsICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5yZXFwaWNrdXBsb2MucmVtb3ZlKCk7CgogICAgICAgIF90aGlzLnRoZXJ0LnJlbW92ZSgpOwoKICAgICAgICBfdGhpcy5waWNrdXBsb2MucmVtb3ZlKCk7CgogICAgICAgIF90aGlzLm90aGVycmVxc3RhdHVzID0gZmFsc2U7CgogICAgICAgIF90aGlzLnRoZXBvcHVwLnJlbW92ZSgpOwogICAgICB9KTsKICAgICAgdmFyIG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKGJ0bjIpOwogICAgICB0aGlzLnRoZXBvcHVwLnNldENvbnRlbnQobmV3RGl2KTsKICAgICAgdGhpcy50aGVwb3B1cC5vcGVuT24odGhpcy5tYXApOwogICAgfSwKICAgIGNvbmRyb3A6IGZ1bmN0aW9uIGNvbmRyb3AoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHRoZXVzZXJpZCwgX3RoZXVzZXJpZDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi50aGV1c2VyaWQgPT0gdW5kZWZpbmVkICYmIF90aGlzMi5sb2dnZWRpbjIgPT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oImh0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9hdXRoL2xvZ2luIik7CiAgICAgICAgICAgICAgICBfdGhpczIubG9nZ2VkaW4yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHRoZXVzZXJpZCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnRoZXVzZXJpZCA9IHRoZXVzZXJpZC5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29uZHJvcCgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIudGhldXNlcmlkID09IHVuZGVmaW5lZCAmJiBfdGhpczIubG9nZ2VkaW4yID09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVzZSgpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX3RoZXVzZXJpZCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnRoZXVzZXJpZCA9IF90aGV1c2VyaWQuaWQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIudGhldXNlcmlkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNvbmRyb3AoKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldGdpdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF90aGlzMi5naXZpbmdhbnMgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmdpdmluZ2Fucy5yZXF1ZXN0ZWQgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmdpdmluZ2Fucy5yZXF1ZXN0ZWQgPT0gJ0ZhbHNlJykgewogICAgICAgICAgICAgICAgICBfdGhpczIucmVxdWVzdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIucmVxdWVzdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIucmVxdWVzdGVkID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvY2hhbmdlcmVxdWVzdGVkJywgewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIF90aGlzMi5yZXFkcm9wb2ZmbG9jID0gTC5jaXJjbGUoW190aGlzMi5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0LCBfdGhpczIucGlja3VwbG9jLmdldExhdExuZygpLmxuZ10sIHsKICAgICAgICAgICAgICAgICAgY29sb3I6ICdyZWQnLAogICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZWQnLAogICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LAogICAgICAgICAgICAgICAgICByYWRpdXM6IDI1CiAgICAgICAgICAgICAgICB9KS5hZGRUbyhfdGhpczIubWFwKTsKCiAgICAgICAgICAgICAgICBfdGhpczIudGhlcG9wdXAucmVtb3ZlKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnBpY2t1cGxvYy5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICBfdGhpczIucmVxc3RhdHVzID0gJ2NhbmNlbCByZXF1ZXN0ICg1IG1pbGUgcGVuYWx0eSknOwogICAgICAgICAgICAgICAgX3RoaXMyLnJlcXVlc3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczIub3RoZXJyZXFzdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldHNjb3JlKCk7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICBfdGhpczIub2xkc2NvcmUgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9zZW5kcmlkZT9yZXF1ZXN0ZWRwaWNrdXBsYXQ9JyArIF90aGlzMi5waWNrdXBsYXQgKyAnJnJlcXVlc3RlZHBpY2t1cGxvbmc9JyArIF90aGlzMi5waWNrdXBsb25nICsgJyZyZXF1ZXN0ZWRkcm9wb2ZmbGF0PScgKyBfdGhpczIucGlja3VwbG9jLmdldExhdExuZygpLmxhdCArICcmcmVxdWVzdGVkZHJvcG9mZmxvbmc9JyArIF90aGlzMi5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubG5nLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0MTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2hlY2tyaWRlcmRlc3QoX3RoaXMyLm9sZHNjb3JlKTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MzoKICAgICAgICAgICAgICAgIGFsZXJ0KCdZb3UgaGF2ZSBhbHJlYWR5IHJlcXVlc3RlZCBhIHJpZGUnKTsKCiAgICAgICAgICAgICAgY2FzZSA0NDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHdhaXRmb3Jkcml2ZXI6IGZ1bmN0aW9uIHdhaXRmb3Jkcml2ZXIob2xkc2NvcmUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRzY29yZSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczMuc2NvcmUgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMuc2NvcmUgPT0gb2xkc2NvcmUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy53YWl0Zm9yZHJpdmVyKG9sZHNjb3JlKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzJyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldHNjb3JlOiBmdW5jdGlvbiBnZXRzY29yZSgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9ncmFic2NvcmUnLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrcmlkZXJkZXN0OiBmdW5jdGlvbiBjaGVja3JpZGVyZGVzdChvbGRzY29yZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBkaXN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmFsbExpbmtzLmdldG5ld2xhdChfdGhpczQudGhldXNlcmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM0LmxhdCA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5hbGxMaW5rcy5nZXRuZXdsbmcoX3RoaXM0LnRoZXVzZXJpZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzNC5sb25nID0gX2NvbnRleHQ4LnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXM0LnVzZXJwb3NpdGlvbi5zZXRMYXRMbmcoW190aGlzNC5sYXQsIF90aGlzNC5sb25nXSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5nZXRzY29yZSgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfdGhpczQuc2NvcmUgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIC8vdGhpcy5sZXQ9bGF0CiAgICAgICAgICAgICAgICAvL3RoaXMubG9uZz1sb25nCiAgICAgICAgICAgICAgICBkaXN0ID0gTWF0aC5wb3coTWF0aC5wb3coX3RoaXM0LnJlcXVlc3RlZGRyb3BvZmZsYXQgLSBfdGhpczQubGF0LCAyKSArIE1hdGgucG93KF90aGlzNC5yZXF1ZXN0ZWRkcm9wb2ZmbG9uZyAtIF90aGlzNC5sb25nLCAyKSwgMC41KTsKCiAgICAgICAgICAgICAgICBpZiAoIShkaXN0IDwgMC4wMDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9jaGFuZ2VyZXF1ZXN0ZWRmYWxzZScsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczQuc2NvcmUgPT0gb2xkc2NvcmUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LndhaXRmb3Jkcml2ZXIob2xkc2NvcmUpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuY2hlY2tyaWRlcmRlc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFjZ2l2ZXJpZGU6IGZ1bmN0aW9uIGFjZ2l2ZXJpZGUobiwgbmFtZSwgcnBsYXQsIHJwbG9uZywgcmRsYXQsIHJkbG9uZykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBkaXN0LCBkaXN0bWlsZXMxLCBkaXN0bWlsZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYWxsTGlua3MuZ2V0bmV3bGF0KF90aGlzNS50aGV1c2VyaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczUubGF0ID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmFsbExpbmtzLmdldG5ld2xuZyhfdGhpczUudGhldXNlcmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXM1LmxvbmcgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAgIGRpc3QgPSBNYXRoLnBvdyhNYXRoLnBvdyhycGxhdCAtIF90aGlzNS5sYXQsIDIpICsgTWF0aC5wb3cocnBsb25nIC0gX3RoaXM1LmxvbmcsIDIpLCAwLjUpOwogICAgICAgICAgICAgICAgZGlzdG1pbGVzMSA9IE1hdGgucG93KE1hdGgucG93KChycGxhdCAtIF90aGlzNS5sYXQpICogNjkuMTcyLCAyKSArIE1hdGgucG93KChycGxvbmcgLSBfdGhpczUubG9uZykgKiBNYXRoLmNvcygocnBsYXQgLSBfdGhpczUubGF0KSAvIDIgKiAoTWF0aC5QSSAvIDE4MCkpICogNjkuMTcyLCAyKSwgMC41KTsKCiAgICAgICAgICAgICAgICBfdGhpczUudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudCgnR28gdG8nICsgbmFtZSArICcoJyArIGRpc3RtaWxlczEgKyAnbWlsZXMgYXdheSknKTsKCiAgICAgICAgICAgICAgICBpZiAoIShkaXN0IDwgMC4wMDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS5lbnJvdXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGRpc3RtaWxlcyA9IE1hdGgucG93KE1hdGgucG93KChycGxhdCAtIHJkbGF0KSAqIDY5LjE3MiwgMikgKyBNYXRoLnBvdygocnBsb25nIC0gcmRsb25nKSAqIE1hdGguY29zKChycGxhdCAtIHJkbGF0KSAvIDIgKiAoTWF0aC5QSSAvIDE4MCkpICogNjkuMTcyLCAyKSwgMC41KTsKICAgICAgICAgICAgICAgIF90aGlzNS5jb3N0ID0gZGlzdG1pbGVzOwoKICAgICAgICAgICAgICAgIF90aGlzNS50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KCdEcml2ZScgKyBuYW1lICsgJ3RvIHRoZSBkZXN0aW5hdGlvbignICsgZGlzdG1pbGVzICsgJ21pbGVzIGF3YXkpJyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuY2hlY2tkZXN0KG4sIG5hbWUsIHJkbGF0LCByZGxvbmcpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYWNnaXZlcmlkZShuLCBuYW1lLCBycGxhdCwgcnBsb25nLCByZGxhdCwgcmRsb25nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldGdpdmU6IGZ1bmN0aW9uIGdldGdpdmUoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL3NhZmUtcml2ZXItMTY0MDkuaGVyb2t1YXBwLmNvbS9hcGkvZ2V0dXNlcmdpdmUnLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBiZWZvcmVhY2dpdmVyaWRlOiBmdW5jdGlvbiBiZWZvcmVhY2dpdmVyaWRlKG4sIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgdmFyIHRoZXVzZXJpZCwgX3RoZXVzZXJpZDIsIG5ld0RpdiwgbmV3Q29udGVudCwgbmV3d0RpdiwgbmV3d0NvbnRlbnQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYudXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoZXVzZXJpZCA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNi50aGV1c2VyaWQgPSB0aGV1c2VyaWQuaWQ7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM2LnRoZXVzZXJpZCA9PSB1bmRlZmluZWQgJiYgX3RoaXM2LmxvZ2dlZGluID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbigiaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2F1dGgvbG9naW4iKTsKICAgICAgICAgICAgICAgIF90aGlzNi5sb2dnZWRpbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5iZWZvcmVhY2dpdmVyaWRlKG4sIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM2LnRoZXVzZXJpZCA9PSB1bmRlZmluZWQgJiYgX3RoaXM2LmxvZ2dlZGluID09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYudXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhldXNlcmlkMiA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNi50aGV1c2VyaWQgPSBfdGhldXNlcmlkMi5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5iZWZvcmVhY2dpdmVyaWRlKG4sIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRnaXZlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfdGhpczYuZ2l2aW5nYW5zID0gX2NvbnRleHQxMS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYuZ2l2aW5nYW5zLmdpdmluZyA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmdpdmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczYuZ2l2aW5nYW5zLmdpdmluZyA9PSAnRmFsc2UnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5naXZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5naXZpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzNi5naXZpbmcpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYuZ2l2aW5nYW5zLnJlcXVlc3RlZCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczYuZ2l2aW5nYW5zLnJlcXVlc3RlZCA9PSAnRmFsc2UnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5yZXF1ZXN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNi5naXZpbmcgPT0gZmFsc2UgJiYgX3RoaXM2LnJlcXVlc3RlZCA9PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi5naXZpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vc2FmZS1yaXZlci0xNjQwOS5oZXJva3VhcHAuY29tL2FwaS9jaGFuZ2VnaXZlJywgewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5hY2dpdmVyaWRlKG4sIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpOwoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYuZ2l2aW5nID09IHRydWUgJiYgX3RoaXM2LnJlcXVlc3RlZCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKF90aGlzNi5va2J0bnNbbl0sICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuZ29iYWNrKG4pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiRXJyb3I6IHlvdSBtdXN0IGNvbXBsZXRlIHlvdXIgY3VycmVudCByaWRlIGZpcnN0LiIpOwogICAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3Q29udGVudCk7CiAgICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChfdGhpczYub2tidG5zW25dKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi50aGVnaXZlcmlkZXBvcHVwc1tuXS5zZXRDb250ZW50KG5ld0Rpdik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKF90aGlzNi5va2J0bnNbbl0sICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuZ29iYWNrKG4pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgbmV3d0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICBuZXd3Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJFcnJvcjogeW91IG11c3QgY2FuY2VsIHlvdXIgY3VycmVudCByaWRlIHJlcXVlc3Qgb3IgY29tcGxldGUgaXQgaW4gb3JkZXIgdG8gZ2l2ZSBhIHJpZGUuIik7CiAgICAgICAgICAgICAgICAgIG5ld3dEaXYuYXBwZW5kQ2hpbGQobmV3d0NvbnRlbnQpOwogICAgICAgICAgICAgICAgICBuZXd3RGl2LmFwcGVuZENoaWxkKF90aGlzNi5va2J0bnNbbl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldENvbnRlbnQobmV3d0Rpdik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdpdmVyaWRlOiBmdW5jdGlvbiBnaXZlcmlkZShuLCB2YWwsIG5hbWUsIHJwbGF0LCBycGxvbmcsIHJkbGF0LCByZGxvbmcpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIG5ld0RpdiwgbmV3Q29udGVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNy5yaWRlcmlkID0gdmFsOwogICAgICAgICAgICAgICAgTC5Eb21FdmVudC5vbihfdGhpczcueWVzYnRuc1tuXSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczcuYmVmb3JlYWNnaXZlcmlkZShuLCBuYW1lLCBycGxhdCwgcnBsb25nLCByZGxhdCwgcmRsb25nKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgTC5Eb21FdmVudC5vbihfdGhpczcubm9idG5zW25dLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5nb2JhY2sobik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgbmV3Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJBcmUgeW91ciBzdXJlPyBPdGhlciB1c2VycyBjYW4gdGVsbCBpZiB5b3UgZmFpbGVkIHRvIGNvbXBsZXRlIHRoaXMgcmlkZS4iKTsKICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdDb250ZW50KTsKICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChfdGhpczcueWVzYnRuc1tuXSk7CiAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoX3RoaXM3Lm5vYnRuc1tuXSk7CgogICAgICAgICAgICAgICAgX3RoaXM3LnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldENvbnRlbnQobmV3RGl2KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGVja2Rlc3Q6IGZ1bmN0aW9uIGNoZWNrZGVzdChuLCB2YWwsIHJkbGF0LCByZGxvbmcpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIHJpZGVybGF0LCByaWRlcmxvbmcsIGRpc3QsIGRpc3RtaWxlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmdldHJpZGVybGF0KF90aGlzOC5yaWRlcmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmlkZXJsYXQgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5nZXRyaWRlcmxvbmcoX3RoaXM4LnJpZGVyaWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByaWRlcmxvbmcgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5hbGxMaW5rcy5nZXRuZXdsYXQoX3RoaXM4LnRoZXVzZXJpZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzOC5sYXQgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguYWxsTGlua3MuZ2V0bmV3bG5nKF90aGlzOC50aGV1c2VyaWQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3RoaXM4LmxvbmcgPSBfY29udGV4dDEzLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXM4LnVzZXJwb3NpdGlvbi5zZXRMYXRMbmcoW190aGlzOC5sYXQsIF90aGlzOC5sb25nXSk7CgogICAgICAgICAgICAgICAgZGlzdCA9IE1hdGgucG93KE1hdGgucG93KHJpZGVybGF0IC0gcmRsYXQsIDIpICsgTWF0aC5wb3cocmlkZXJsb25nIC0gcmRsb25nLCAyKSwgMC41KTsKICAgICAgICAgICAgICAgIGRpc3RtaWxlcyA9IE1hdGgucG93KE1hdGgucG93KChyaWRlcmxhdCAtIHJkbGF0KSAqIDY5LjE3MiwgMikgKyBNYXRoLnBvdygocmlkZXJsb25nIC0gcmRsb25nKSAqIE1hdGguY29zKChyaWRlcmxhdCAtIHJkbGF0KSAvIDIgKiAoTWF0aC5QSSAvIDE4MCkpICogNjkuMTcyLCAyKSwgMC41KTsKCiAgICAgICAgICAgICAgICBpZiAoIShkaXN0IDwgMC4wMDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczguZ2l2aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZWdpdmVmYWxzZScsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2ZpbmlzaGVkP2Nvc3Q9JyArIF90aGlzOC5jb3N0ICsgJyZyaWRlcj0nICsgX3RoaXM4LnJpZGVyaWQsIHsKICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguZ2V0c2NvcmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF90aGlzOC5zY29yZSA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfdGhpczgudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudCgnRHJpdmUnICsgdmFsICsgJ3RvIHRoZSBkZXN0aW5hdGlvbignICsgZGlzdG1pbGVzICsgJ21pbGVzIGF3YXkpJyk7CgogICAgICAgICAgICAgICAgX3RoaXM4LnRoZWdpdmVyaWRlcG9wdXBzW25dLnNldExhdExuZyhbcmlkZXJsYXQsIHJpZGVybG9uZ10pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5jaGVja2Rlc3QocmRsYXQsIHJkbG9uZyk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVzZTogZnVuY3Rpb24gdXNlKCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL3VzZXInLCB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuanNvbigpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnb2JhY2s6IGZ1bmN0aW9uIGdvYmFjayhuKSB7CiAgICAgIHRoaXMudGhlZ2l2ZXJpZGVwb3B1cHNbbl0uc2V0Q29udGVudCh0aGlzLnRoZWJ0bnNbbl0pOwogICAgfSwKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0odmFsKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy50aGVwb3B1cC5zZXRMYXRMbmcoW3ZhbC5sYXRsbmcubGF0ICsgMC4wMDMgLyBNYXRoLnBvdyh0aGlzLm1hcC5nZXRab29tKCksIDkpICogTWF0aC5wb3coMTMsIDkpLCB2YWwubGF0bG5nLmxuZ10pOyAvL3RoaXMubWFwLm9wZW5Qb3B1cCgnPGItYnV0dG9uIGlkPSJ0ZXN0IiBAY2xpY2s9InRlc3QiPnRlc3Q8L2ItYnV0dG9uPicsW3ZhbC5sYXRsbmcubGF0KzAuMDAzLHZhbC5sYXRsbmcubG5nXSx7Y2xvc2VCdXR0b246IGZhbHNlLCBjbG9zZU9uQ2xpY2s6IGZhbHNlfSkKCiAgICAgIHZhciBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKTsKICAgICAgdmFyIGJ0biA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOwogICAgICB2YXIgYnRuMiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpOwogICAgICBidG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwogICAgICBidG4yLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgYnRuLmlubmVySFRNTCA9ICdjb25maXJtIHBpY2t1cCc7CiAgICAgIGJ0bjIuaW5uZXJIVE1MID0gJ2NhbmNlbCc7CiAgICAgIEwuRG9tRXZlbnQub24oYnRuLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM5LmNvbnBpY2soKTsKICAgICAgfSk7CiAgICAgIEwuRG9tRXZlbnQub24oYnRuMiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOS50aGVwb3B1cC5yZW1vdmUoKTsKCiAgICAgICAgX3RoaXM5LnBpY2t1cGxvYy5yZW1vdmUoKTsKCiAgICAgICAgX3RoaXM5Lm90aGVycmVxc3RhdHVzID0gZmFsc2U7CiAgICAgIH0pOwogICAgICB2YXIgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChidG4pOwogICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuMik7CiAgICAgIHRoaXMudGhlcG9wdXAuc2V0Q29udGVudChuZXdEaXYpOwogICAgICB0aGlzLnRoZXBvcHVwLm9wZW5Pbih0aGlzLm1hcCk7CiAgICB9LAogICAgY29uZmlybTI6IGZ1bmN0aW9uIGNvbmZpcm0yKHZhbCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLnRoZXBvcHVwLnNldExhdExuZyhbdmFsLmxhdGxuZy5sYXQgKyAwLjAwMyAvIE1hdGgucG93KHRoaXMubWFwLmdldFpvb20oKSwgOSkgKiBNYXRoLnBvdygxMywgOSksIHZhbC5sYXRsbmcubG5nXSk7IC8vdGhpcy5tYXAub3BlblBvcHVwKCc8Yi1idXR0b24gaWQ9InRlc3QiIEBjbGljaz0idGVzdCI+dGVzdDwvYi1idXR0b24+JyxbdmFsLmxhdGxuZy5sYXQrMC4wMDMsdmFsLmxhdGxuZy5sbmddLHtjbG9zZUJ1dHRvbjogZmFsc2UsIGNsb3NlT25DbGljazogZmFsc2V9KQoKICAgICAgdmFyIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpOwogICAgICB2YXIgYnRuID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcik7CiAgICAgIHZhciBidG4yID0gTC5Eb21VdGlsLmNyZWF0ZSgnYnV0dG9uJywgJycsIGNvbnRhaW5lcik7CiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgICAgIGJ0bjIuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwogICAgICBidG4uaW5uZXJIVE1MID0gJ2NvbmZpcm0gZHJvcG9mZic7CiAgICAgIGJ0bjIuaW5uZXJIVE1MID0gJ2NhbmNlbCc7CiAgICAgIEwuRG9tRXZlbnQub24oYnRuLCAnY2xpY2snLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuY29uZHJvcCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSk7CiAgICAgIEwuRG9tRXZlbnQub24oYnRuMiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTAucmVxcGlja3VwbG9jLnJlbW92ZSgpOwoKICAgICAgICBfdGhpczEwLnRoZXJ0LnJlbW92ZSgpOwoKICAgICAgICBfdGhpczEwLnRoZXBvcHVwLnJlbW92ZSgpOwoKICAgICAgICBfdGhpczEwLnBpY2t1cGxvYy5yZW1vdmUoKTsKCiAgICAgICAgX3RoaXMxMC5vdGhlcnJlcXN0YXR1cyA9IGZhbHNlOwogICAgICB9KTsKICAgICAgdmFyIG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKGJ0bjIpOwogICAgICB0aGlzLnRoZXBvcHVwLnNldENvbnRlbnQobmV3RGl2KTsKICAgICAgdGhpcy50aGVwb3B1cC5vcGVuT24odGhpcy5tYXApOwogICAgfSwKICAgIGNoYW5nZXBvcDogZnVuY3Rpb24gY2hhbmdlcG9wKCkgewogICAgICB0aGlzLnRoZXBvcHVwLnNldExhdExuZyhbdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0ICsgMC4wMDMgLyBNYXRoLnBvdyh0aGlzLm1hcC5nZXRab29tKCksIDkpICogTWF0aC5wb3coMTMsIDkpLCB0aGlzLnBpY2t1cGxvYy5nZXRMYXRMbmcoKS5sbmddKTsKICAgIH0sCiAgICBzZXRwaWNrdXA6IGZ1bmN0aW9uIHNldHBpY2t1cCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHZhciBwaW5JY29uLCBjb250YWluZXIsIGJ0biwgYnRuMiwgbmV3RGl2OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMS50aGV1c2VyaWQgPT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczExLnJlcXVlc3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuZ2V0Z2l2ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczExLmdpdmluZ2FucyA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMTEuZ2l2aW5nYW5zLnJlcXVlc3RlZCk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuZ2l2aW5nYW5zLnJlcXVlc3RlZCA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMS5naXZpbmdhbnMucmVxdWVzdGVkID09ICdGYWxzZScpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5yZXF1ZXN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEucmVxdWVzdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMS5yZXF1ZXN0ZWQgPT0gZmFsc2UgJiYgX3RoaXMxMS5vdGhlcnJlcXN0YXR1cyA9PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTEub3RoZXJyZXFzdGF0dXMgPSB0cnVlOwogICAgICAgICAgICAgICAgcGluSWNvbiA9IEwuaWNvbih7CiAgICAgICAgICAgICAgICAgIGljb25Vcmw6IGltYWdlLAogICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sCiAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFsxMC41LCAyMF0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMxMS5waWNrdXBsb2MgPSBMLm1hcmtlcihbX3RoaXMxMS5sYXQsIF90aGlzMTEubG9uZ10sIHsKICAgICAgICAgICAgICAgICAgaWNvbjogcGluSWNvbiwKICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiAnVHJ1ZScKICAgICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMTEubWFwKTsKICAgICAgICAgICAgICAgIF90aGlzMTEucHJvdmlkZXIgPSBuZXcgT3BlblN0cmVldE1hcFByb3ZpZGVyKCk7CiAgICAgICAgICAgICAgICBfdGhpczExLnNlYXJjaENvbnRyb2wgPSBuZXcgR2VvU2VhcmNoQ29udHJvbCh7CiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBfdGhpczExLnByb3ZpZGVyLAogICAgICAgICAgICAgICAgICBzaG93TWFya2VyOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMxMS5tYXAuYWRkQ29udHJvbChfdGhpczExLnNlYXJjaENvbnRyb2wpOwoKICAgICAgICAgICAgICAgIF90aGlzMTEubWFwLm9uKCdnZW9zZWFyY2gvc2hvd2xvY2F0aW9uJywgX3RoaXMxMS53b3JrKTsgLy90aGlzLm1hcC5vcGVuUG9wdXAoJzxwPnRlc3Q8L3A+JyxbdGhpcy5waWNrdXBsb2MuZ2V0TGF0TG5nKCkubGF0KzAuMDAzLHRoaXMucGlja3VwbG9jLmdldExhdExuZygpLmxuZ10se2Nsb3NlQnV0dG9uOiBmYWxzZSwgY2xvc2VPbkNsaWNrOiBmYWxzZX0pCgoKICAgICAgICAgICAgICAgIF90aGlzMTEudGhlcG9wdXAgPSBMLnBvcHVwKHsKICAgICAgICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICBjbG9zZU9uQ2xpY2s6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczExLnRoZXBvcHVwLnNldExhdExuZyhbX3RoaXMxMS5sYXQgKyAwLjAwMyAvIE1hdGgucG93KF90aGlzMTEubWFwLmdldFpvb20oKSwgOSkgKiBNYXRoLnBvdygxMywgOSksIF90aGlzMTEubG9uZ10pOwoKICAgICAgICAgICAgICAgIF90aGlzMTEubWFwLm9uKCd6b29tZW5kJywgX3RoaXMxMS5jaGFuZ2Vwb3ApOyAvL3RoaXMubWFwLm9wZW5Qb3B1cCgnPGItYnV0dG9uIGlkPSJ0ZXN0IiBAY2xpY2s9InRlc3QiPnRlc3Q8L2ItYnV0dG9uPicsW3ZhbC5sYXRsbmcubGF0KzAuMDAzLHZhbC5sYXRsbmcubG5nXSx7Y2xvc2VCdXR0b246IGZhbHNlLCBjbG9zZU9uQ2xpY2s6IGZhbHNlfSkKCgogICAgICAgICAgICAgICAgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7CiAgICAgICAgICAgICAgICBidG4gPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsKICAgICAgICAgICAgICAgIGJ0bjIgPSBMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKTsKICAgICAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBidG4yLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSAnY29uZmlybSBwaWNrdXAnOwogICAgICAgICAgICAgICAgYnRuMi5pbm5lckhUTUwgPSAnY2FuY2VsJzsKICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24oYnRuLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuY29ucGljaygpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKGJ0bjIsICdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5waWNrdXBsb2MucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKGJ0bik7CiAgICAgICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQoYnRuMik7CgogICAgICAgICAgICAgICAgX3RoaXMxMS50aGVwb3B1cC5zZXRDb250ZW50KG5ld0Rpdik7CgogICAgICAgICAgICAgICAgX3RoaXMxMS50aGVwb3B1cC5vcGVuT24oX3RoaXMxMS5tYXApOwoKICAgICAgICAgICAgICAgIF90aGlzMTEucGlja3VwbG9jLm9uKCdtb3ZlJywgX3RoaXMxMS5jb25maXJtKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0NzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMS5vdGhlcnJlcXN0YXR1cyA9PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0MTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYWxlcnQoJ0FscmVhZHkgcmVxdWVzdGluZywgZHJhZyBwaW4gdG8gc2V0IHBpY2t1cCBsb2NhdGlvbicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF90aGlzMTEucmVxdWVzdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0NDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9zYWZlLXJpdmVyLTE2NDA5Lmhlcm9rdWFwcC5jb20vYXBpL2NoYW5nZXJlcXVlc3RlZGZhbHNlJywgewogICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0NDoKICAgICAgICAgICAgICAgIF90aGlzMTEucmVxc3RhdHVzID0gJ3JlcXVlc3QgcmlkZSc7CiAgICAgICAgICAgICAgICBfdGhpczExLm90aGVycmVxc3RhdHVzID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEucmVxcGlja3VwbG9jICE9ICd0ZXN0JykgewogICAgICAgICAgICAgICAgICBfdGhpczExLnJlcXBpY2t1cGxvYy5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEucmVxZHJvcG9mZmxvYy5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEudGhlcnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldHVwbWFwOiBmdW5jdGlvbiBzZXR1cG1hcCgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciB0aGVkYXQsIGosIF9sb29wLCBpLCBwb2x5Z29uLCBjb250YWluZXI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxMi5tYXAgPSBMLm1hcCgnbWFwQ29udGFpbmVyJykuc2V0VmlldyhbX3RoaXMxMi5sYXQsIF90aGlzMTIubG9uZ10sIDEzKTsKICAgICAgICAgICAgICAgIEwudGlsZUxheWVyKCdodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS97aWR9L3RpbGVzL3t6fS97eH0ve3l9P2FjY2Vzc190b2tlbj1way5leUoxSWpvaWJXRndZbTk0SWl3aVlTSTZJbU5wZWpZNE5YVnljVEEyZW1ZeWNYQm5kSFJxY21aM04zZ2lmUS5ySmNGSUcyMTRBcmlJU0xiQjZCNWF3JywgewogICAgICAgICAgICAgICAgICBtYXhab29tOiAxOCwKICAgICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsICcgKyAnSW1hZ2VyeSDCqSA8YSBocmVmPSJodHRwczovL3d3dy5tYXBib3guY29tLyI+TWFwYm94PC9hPicsCiAgICAgICAgICAgICAgICAgIGlkOiAnbWFwYm94L3N0cmVldHMtdjExJywKICAgICAgICAgICAgICAgICAgdGlsZVNpemU6IDUxMiwKICAgICAgICAgICAgICAgICAgem9vbU9mZnNldDogLTEKICAgICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMTIubWFwKTsKICAgICAgICAgICAgICAgIF90aGlzMTIudXNlcnBvc2l0aW9uID0gTC5jaXJjbGUoW190aGlzMTIubGF0LCBfdGhpczEyLmxvbmddLCB7CiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LAogICAgICAgICAgICAgICAgICByYWRpdXM6IDI1CiAgICAgICAgICAgICAgICB9KS5hZGRUbyhfdGhpczEyLm1hcCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIuZ2V0cmlkZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdGhlZGF0ID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgICAgaiA9IDA7IC8vY29uc29sZS5sb2codGhlZGF0WzBdLkxvY2F0aW9uMzZuNzlbMF0pCgogICAgICAgICAgICAgICAgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIudmFsdWVzID0gT2JqZWN0LnZhbHVlcyh0aGVkYXRbMF0uTG9jYXRpb24zNm43OVswXSk7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLmluZHMucHVzaChqKTsgLy9jb25zb2xlLmxvZyh2YWx1ZXNbaV0pCgoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxhdCAhPSAiIiAmJiBfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRwaWNrdXBsYXQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMTIudmFsdWVzW2ldWzBdLm5hbWUgIT0gX3RoaXMxMi50aGV1c2VyaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24gPSBMLnBvbHlnb24oW1tfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRwaWNrdXBsYXQsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxvbmddLCBbX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxhdCwgX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkZHJvcG9mZmxvbmddXSkuYWRkVG8oX3RoaXMxMi5tYXApOyAvL2NvbnNvbGUubG9nKHR5cGVvZih2YWx1ZXNbaV1bMF0pKQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIudGhlZ2l2ZXJpZGVwb3B1cHMucHVzaChMLnBvcHVwKHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU9uQ2xpY2s6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9KSk7IC8vdmFsdWVzW2ldWzBdLmFwcGVuZCh7aW5kOmp9KQoKCiAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnRoZWJ0bnMucHVzaChMLkRvbVV0aWwuY3JlYXRlKCdidXR0b24nLCAnJywgY29udGFpbmVyKSk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi50aGVidG5zW2pdLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnRoZWJ0bnNbal0uaW5uZXJIVE1MID0gJ2dpdmUgcmlkZSc7CiAgICAgICAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKF90aGlzMTIudGhlYnRuc1tqXSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmdpdmVyaWRlKF90aGlzMTIuaW5kc1tpXSwgX3RoaXMxMi52YWx1ZXNbaV1bMF0ubmFtZSwgX3RoaXMxMi52YWx1ZXNbaV1bMF0uYWNuYW1lLCBfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRwaWNrdXBsYXQsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZHBpY2t1cGxvbmcsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZGRyb3BvZmZsYXQsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZGRyb3BvZmZsb25nKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIueWVzYnRucy5wdXNoKEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnllc2J0bnNbal0uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIueWVzYnRuc1tqXS5pbm5lckhUTUwgPSAnWWVzJzsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm5vYnRucy5wdXNoKEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm5vYnRuc1tqXS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5ub2J0bnNbal0uaW5uZXJIVE1MID0gJ05vJzsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm9rYnRucy5wdXNoKEwuRG9tVXRpbC5jcmVhdGUoJ2J1dHRvbicsICcnLCBjb250YWluZXIpKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLm9rYnRuc1tqXS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5va2J0bnNbal0uaW5uZXJIVE1MID0gJ09LJzsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLnRoZWdpdmVyaWRlcG9wdXBzW2pdLnNldENvbnRlbnQoX3RoaXMxMi50aGVidG5zW2pdKTsKCiAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uLmJpbmRQb3B1cChfdGhpczEyLnRoZWdpdmVyaWRlcG9wdXBzW2pdKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXJjbGUgPSBMLmNpcmNsZShbX3RoaXMxMi52YWx1ZXNbaV1bMF0ucmVxdWVzdGVkcGlja3VwbGF0LCBfdGhpczEyLnZhbHVlc1tpXVswXS5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwgewogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAyNQogICAgICAgICAgICAgICAgICAgICAgfSkuYWRkVG8oX3RoaXMxMi5tYXApOwogICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLmJpbmRQb3B1cChfdGhpczEyLnRoZWdpdmVyaWRlcG9wdXBzW2pdKTsKICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXJjbGUyID0gTC5jaXJjbGUoW190aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZGRyb3BvZmZsYXQsIF90aGlzMTIudmFsdWVzW2ldWzBdLnJlcXVlc3RlZGRyb3BvZmZsb25nXSwgewogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsCiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjUKICAgICAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMTIubWFwKTsKICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTIuYmluZFBvcHVwKF90aGlzMTIudGhlZ2l2ZXJpZGVwb3B1cHNbal0pOwogICAgICAgICAgICAgICAgICAgICAgaiArPSAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgT2JqZWN0LnZhbHVlcyh0aGVkYXRbMF0uTG9jYXRpb24zNm43OVswXSkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgX2xvb3AoaSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkTGluazogZnVuY3Rpb24gYWRkTGluayhuZXdMaW5rKSB7CiAgICAgIGNvbnNvbGUubG9nKCJFVkVOVDogYWRkIG5ldyBpdGVtICIuY29uY2F0KG5ld0xpbmsubmFtZSwgIiB0byAiKS5jb25jYXQodGhpcy5saW5rR3JvdXAudGl0bGUpKTsKICAgICAgdGhpcy4kZW1pdCgnbmV3LWxpbmsnLCB0aGlzLmdyb3VwSWQsIG5ld0xpbmspOyAvLyBtYXkgYWxzbyBkbyBhZGRpdGlvbmFsIHdvcmsgcmVsYXRlZCB0byBsb2dnaW5nLCBpbnRlcmFjdGl2aXR5LCBvciBvdGhlciB0cmFja2luZyBjaGFuZ2VzCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgdmFyIHRoZXVzZXJpZCwgbmV3bGF0LCBuZXdsbmc7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMudXNlKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgdGhldXNlcmlkID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICAgIF90aGlzMTMudGhldXNlcmlkID0gdGhldXNlcmlkLmlkOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMTMudGhldXNlcmlkKTsKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLmFsbExpbmtzLmdldG5ld2xhdChfdGhpczEzLnRoZXVzZXJpZCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgbmV3bGF0ID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLmFsbExpbmtzLmdldG5ld2xuZyhfdGhpczEzLnRoZXVzZXJpZCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIG5ld2xuZyA9IF9jb250ZXh0MTguc2VudDsKICAgICAgICAgICAgICBfdGhpczEzLmxhdCA9IG5ld2xhdDsKICAgICAgICAgICAgICBfdGhpczEzLmxvbmcgPSBuZXdsbmc7CgogICAgICAgICAgICAgIF90aGlzMTMuc2V0dXBtYXAoKTsKCiAgICAgICAgICAgICAgX3RoaXMxMy5pc2xvYWRpbmcgPSAnJzsKCiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMy50aGV1c2VyaWQgIT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNDA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDE4OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLmdldGdpdmUoKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgX3RoaXMxMy5naXZpbmdhbnMgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuZ2V0c2NvcmUoKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX3RoaXMxMy5zY29yZSA9IF9jb250ZXh0MTguc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkID09ICdUcnVlJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczEzLnJlcXN0YXR1cyA9ICdDYW5jZWwgcmVxdWVzdCAoNSBtaWxlIHBlbmFsdHkpJzsKICAgICAgICAgICAgICBfdGhpczEzLnJlcXVlc3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXMxMy5yZXFwaWNrdXBsb2MgPSBMLmNpcmNsZShbX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkcGlja3VwbGF0LCBfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwgewogICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdncmVlbicsCiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LAogICAgICAgICAgICAgICAgcmFkaXVzOiAyNQogICAgICAgICAgICAgIH0pLmFkZFRvKF90aGlzMTMubWFwKTsKICAgICAgICAgICAgICBfdGhpczEzLnRoZXJ0ID0gTC5wb2x5Z29uKFtbX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkcGlja3VwbGF0LCBfdGhpczEzLmdpdmluZ2Fucy5yZXF1ZXN0ZWRwaWNrdXBsb25nXSwgW190aGlzMTMuZ2l2aW5nYW5zLnJlcXVlc3RlZGRyb3BvZmZsYXQsIF90aGlzMTMuZ2l2aW5nYW5zLnJlcXVlc3RlZGRyb3BvZmZsb25nXV0pLmFkZFRvKF90aGlzMTMubWFwKTsKICAgICAgICAgICAgICBfdGhpczEzLnJlcWRyb3BvZmZsb2MgPSBMLmNpcmNsZShbX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkZHJvcG9mZmxhdCwgX3RoaXMxMy5naXZpbmdhbnMucmVxdWVzdGVkZHJvcG9mZmxvbmddLCB7CiAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZWQnLAogICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNSwKICAgICAgICAgICAgICAgIHJhZGl1czogMjUKICAgICAgICAgICAgICB9KS5hZGRUbyhfdGhpczEzLm1hcCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuY2hlY2tyaWRlcmRlc3QoKTsKCiAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMzM7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgIF90aGlzMTMucmVxdWVzdGVkID0gZmFsc2U7CgogICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGlmICghKF90aGlzMTMuZ2l2aW5nYW5zLmdpdmluZyA9PSAnVHJ1ZScpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMxMy5naXZpbmcgPT0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5jaGVja2Rlc3QoKTsKCiAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNDA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICAgIF90aGlzMTMuZ2l2aW5nID0gZmFsc2U7CgogICAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["TheMap.vue"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * This represents displaying a group of links.\r\n *\r\n * This is an example of a convenience component that serves to organize the data hierarchy.\r\n * It re-emits the custom events of its child components, adding its own information to them\r\n * to provide for future data accessor methods.\r\n *\r\n * @author Dennis Quan\r\n * @author Robert Duvall\r\n */\r\n\r\n// display group as a column or cards that is organized by BootstrapVue\r\n<template>\r\n    <div id=\"mapwrap\">\r\n        <header>\r\n            <h1>{{score}} miles available for ride requests. Complete ride requests on the map to earn more miles! {{isloading}}</h1>\r\n        </header>\r\n        <div id=\"mapContainer\"></div>\r\n        <b-button id=\"request\" @click=\"setpickup\">{{reqstatus}}</b-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as L from 'leaflet';\r\nimport { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';\r\nimport '../../node_modules/leaflet/dist/leaflet.css';\r\nimport '../../node_modules/leaflet-geosearch/dist/geosearch.css';\r\nimport { linkDataStore } from '../data/LinkDataStore.js'\r\nimport image from './Images/pin.png' \r\n//import { getJSON } from './apiHelper';\r\nexport default {\r\n    name: 'TheMap',\r\n    data () {\r\n        return {\r\n            // backing data for edits using v-model, no copy needed since Strings are immutable\r\n            allLinks: linkDataStore,\r\n            map: 'test',\r\n            pickuploc:'init',\r\n            reqstatus: 'request ride',\r\n            provider: 'test',\r\n            searchControl: 'test',\r\n            reqpickuploc:'test',\r\n            reqdropoffloc:'test',\r\n            thert:'test',\r\n            pickuplat:0,\r\n            pickuplong:0,\r\n            lat:0,\r\n            long:0,\r\n            userid:\"\",\r\n            ispick:\"\",\r\n            thepopup:\"\",\r\n            thegiveridepopups:[],\r\n            cost:\"\",\r\n            riderid:\"\",\r\n            enroute:false,\r\n            thebtns:[],\r\n            inds:[],\r\n            yesbtns:[],\r\n            nobtns:[],\r\n            containers:[],\r\n            giving:false,\r\n            okbtns:[],\r\n            loggedin:false,\r\n            loggedin2:false,\r\n            requested:false,\r\n            theuserid:{},\r\n            otherreqstatus:false,\r\n            score:15,\r\n            isloading:'(loading map)'\r\n            // may also need a copy group information if there is any chance it might be changed interactively\r\n        };\r\n    },\r\n    methods: {\r\n        // emit event that signals a new link is ready to be added\r\n        // NOTE, error checking is done in the child component\r\n        async getrides(){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getLinks')//?lat='+this.lat+'&long='+this.long);\r\n            return response.json();\r\n        },\r\n        async getriderlat(id){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getriderlat?id='+id);\r\n            return response.json();\r\n        },\r\n        async getriderlong(id){\r\n            const response = await fetch('https://safe-river-16409.herokuapp.com/api/getriderlong?id='+id);\r\n            return response.json();\r\n        },\r\n        work(value){\r\n            console.log(value.location)\r\n            this.pickuploc.setLatLng([value.location.y,value.location.x])\r\n        },\r\n        updatePoly(oldLatLng){\r\n            this.thert.remove()\r\n            this.thert=L.polygon([\r\n                [this.pickuplat, this.pickuplong],\r\n                [oldLatLng.latlng.lat, oldLatLng.latlng.lng]\r\n            ]).addTo(this.map);\r\n        },\r\n        conpick(){\r\n            this.pickuploc.on('move',this.confirm2)\r\n            this.pickuplat=this.pickuploc.getLatLng().lat\r\n            this.pickuplong=this.pickuploc.getLatLng().lng\r\n            this.thert=L.polygon([\r\n                [this.pickuplat, this.pickuplong],\r\n                [this.pickuplat, this.pickuplong+0.003]\r\n            ]).addTo(this.map);\r\n            this.reqpickuploc=L.circle([this.pickuplat, this.pickuplong], {\r\n                color: 'green',\r\n                fillColor: 'green',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            //console.log(this.pickuploc.getLatLng().lat)\r\n            this.pickuploc.setLatLng([this.pickuplat,this.pickuplong+0.003])\r\n            this.pickuploc.on('move',this.updatePoly)\r\n            this.thepopup.setLatLng([this.pickuplat+(0.003/(this.map.getZoom()**9))*(13**9),this.pickuplong+0.003])\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm dropoff';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', async () => {\r\n                await this.condrop()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.reqpickuploc.remove()\r\n                this.thert.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n                this.thepopup.remove()\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        async condrop(){\r\n            if(this.theuserid==undefined&&this.loggedin2==false){\r\n                window.location.assign(\"https://safe-river-16409.herokuapp.com/api/auth/login\")\r\n                this.loggedin2=true\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                await this.condrop()\r\n            }\r\n            else if(this.theuserid==undefined&&this.loggedin2==true){\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                console.log(this.theuserid)\r\n                await this.condrop()\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n                if(this.requested==false){\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/changerequested',{ credentials: 'include'})\r\n                    this.reqdropoffloc=L.circle([this.pickuploc.getLatLng().lat, this.pickuploc.getLatLng().lng], {\r\n                        color: 'red',\r\n                        fillColor: 'red',\r\n                        fillOpacity: 0.5,\r\n                        radius: 25,\r\n                    }).addTo(this.map);\r\n                    this.thepopup.remove()\r\n                    this.pickuploc.remove()\r\n                    this.reqstatus='cancel request (5 mile penalty)'\r\n                    this.requested=true\r\n                    this.otherreqstatus=false\r\n                    this.oldscore=await this.getscore()\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/sendride?requestedpickuplat='+this.pickuplat+'&requestedpickuplong='+this.pickuplong+'&requesteddropofflat='+this.pickuploc.getLatLng().lat+'&requesteddropofflong='+this.pickuploc.getLatLng().lng,{ credentials: 'include'})\r\n                    await this.checkriderdest(this.oldscore)\r\n                }\r\n                else{\r\n                    alert('You have already requested a ride')\r\n                }\r\n            }\r\n        },\r\n        async waitfordriver(oldscore){\r\n            this.score=await this.getscore()\r\n            if(this.score==oldscore){\r\n                await this.waitfordriver(oldscore)\r\n            }\r\n            else{\r\n                console.log('success')\r\n            }\r\n        },\r\n        async getscore(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/grabscore',{ credentials: 'include'})\r\n            return response.json()\r\n        },\r\n        async checkriderdest(oldscore){\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            this.userposition.setLatLng([this.lat,this.long])\r\n            this.score=await this.getscore()\r\n            //this.let=lat\r\n            //this.long=long\r\n            const dist=((this.requesteddropofflat-this.lat)**2+(this.requesteddropofflong-this.long)**2)**0.5\r\n            if(dist<0.003){\r\n                this.requested=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changerequestedfalse',{ credentials: 'include'})\r\n                if(this.score==oldscore){\r\n                    await this.waitfordriver(oldscore)\r\n                }\r\n            }\r\n            else{\r\n                await this.checkriderdest()\r\n            }\r\n        },\r\n        async acgiveride(n,name,rplat,rplong,rdlat,rdlong){\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            const dist=((rplat-this.lat)**2+(rplong-this.long)**2)**0.5\r\n            const distmiles1=(((rplat-this.lat)*69.172)**2+((rplong-this.long)*(Math.cos(((rplat-this.lat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n            this.thegiveridepopups[n].setContent('Go to'+name+'('+distmiles1+'miles away)')\r\n            if(dist<0.003){\r\n                this.enroute=true\r\n                const distmiles=(((rplat-rdlat)*69.172)**2+((rplong-rdlong)*(Math.cos(((rplat-rdlat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n                this.cost=distmiles\r\n                this.thegiveridepopups[n].setContent('Drive'+name+'to the destination('+distmiles+'miles away)')\r\n                await this.checkdest(n,name,rdlat,rdlong)\r\n            }\r\n            else{\r\n                await this.acgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n        },\r\n        async getgive(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/getusergive',{ credentials: 'include'})\r\n            return response.json()\r\n        },\r\n        async beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong){\r\n            const theuserid = await this.use();\r\n            this.theuserid=theuserid.id\r\n            if(this.theuserid==undefined&&this.loggedin==false){\r\n                window.location.assign(\"https://safe-river-16409.herokuapp.com/api/auth/login\")\r\n                this.loggedin=true\r\n                await this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n            else if(this.theuserid==undefined&&this.loggedin==true){\r\n                const theuserid = await this.use();\r\n                this.theuserid=theuserid.id\r\n                await this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                if(this.givingans.giving==undefined){\r\n                    this.giving=false\r\n                }\r\n                else if(this.givingans.giving=='False'){\r\n                    this.giving=false\r\n                }\r\n                else{\r\n                    this.giving=true\r\n                }\r\n                console.log(this.giving)\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n                if(this.giving==false&&this.requested==false){\r\n                    this.giving=true\r\n                    await fetch('https://safe-river-16409.herokuapp.com/api/changegive',{ credentials: 'include'})\r\n                    await this.acgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n                }\r\n                else if(this.giving==true&&this.requested==false){\r\n                    L.DomEvent.on(this.okbtns[n], 'click', () => {\r\n                        this.goback(n)\r\n                    });\r\n                    var newDiv = document.createElement(\"div\");\r\n                    var newContent = document.createTextNode(\"Error: you must complete your current ride first.\");\r\n                    newDiv.appendChild(newContent);\r\n                    newDiv.appendChild(this.okbtns[n]);\r\n                    this.thegiveridepopups[n].setContent(newDiv)\r\n                }\r\n                else{\r\n                    L.DomEvent.on(this.okbtns[n], 'click', () => {\r\n                        this.goback(n)\r\n                    });\r\n                    var newwDiv = document.createElement(\"div\");\r\n                    var newwContent = document.createTextNode(\"Error: you must cancel your current ride request or complete it in order to give a ride.\");\r\n                    newwDiv.appendChild(newwContent);\r\n                    newwDiv.appendChild(this.okbtns[n]);\r\n                    this.thegiveridepopups[n].setContent(newwDiv)\r\n                }\r\n            }\r\n        },\r\n        async giveride(n,val,name,rplat,rplong,rdlat,rdlong){\r\n            this.riderid=val\r\n            L.DomEvent.on(this.yesbtns[n], 'click', () => {\r\n                this.beforeacgiveride(n,name,rplat,rplong,rdlat,rdlong)\r\n            });\r\n            L.DomEvent.on(this.nobtns[n], 'click', () => {\r\n                this.goback(n)\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            var newContent = document.createTextNode(\"Are your sure? Other users can tell if you failed to complete this ride.\");\r\n            newDiv.appendChild(newContent);\r\n            newDiv.appendChild(this.yesbtns[n]);\r\n            newDiv.appendChild(this.nobtns[n]);\r\n            this.thegiveridepopups[n].setContent(newDiv)\r\n        },\r\n        async checkdest(n,val,rdlat,rdlong){\r\n            const riderlat=await this.getriderlat(this.riderid);\r\n            const riderlong=await this.getriderlong(this.riderid);\r\n            this.lat=await this.allLinks.getnewlat(this.theuserid);\r\n            this.long=await this.allLinks.getnewlng(this.theuserid);\r\n            this.userposition.setLatLng([this.lat,this.long])\r\n            const dist=((riderlat-rdlat)**2+(riderlong-rdlong)**2)**0.5\r\n            const distmiles=(((riderlat-rdlat)*69.172)**2+((riderlong-rdlong)*(Math.cos(((riderlat-rdlat)/2)*(Math.PI/180)))*69.172)**2)**0.5\r\n            if(dist<0.003){\r\n                this.giving=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changegivefalse',{ credentials: 'include'})\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/finished?cost='+this.cost+'&rider='+this.riderid,{ credentials: 'include'})\r\n                this.score=await this.getscore()\r\n            }\r\n            else{\r\n                this.thegiveridepopups[n].setContent('Drive'+val+'to the destination('+distmiles+'miles away)')\r\n                this.thegiveridepopups[n].setLatLng([riderlat,riderlong])\r\n                await this.checkdest(rdlat,rdlong)\r\n            }\r\n        },\r\n        async use(){\r\n            const response=await fetch('https://safe-river-16409.herokuapp.com/api/user',{ credentials: 'include'})\r\n            return response.json()\r\n        },\r\n        goback(n){\r\n            this.thegiveridepopups[n].setContent(this.thebtns[n])\r\n        },\r\n        confirm(val){\r\n            this.thepopup.setLatLng([val.latlng.lat+(0.003/(this.map.getZoom()**9))*(13**9),val.latlng.lng])\r\n            //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm pickup';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', () => {\r\n                this.conpick()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.thepopup.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        confirm2(val){\r\n            this.thepopup.setLatLng([val.latlng.lat+(0.003/(this.map.getZoom()**9))*(13**9),val.latlng.lng])\r\n            //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n            var container = L.DomUtil.create('div')\r\n            var btn = L.DomUtil.create('button', '', container);\r\n            var btn2 = L.DomUtil.create('button', '', container);\r\n            btn.setAttribute('type', 'button');\r\n            btn2.setAttribute('type', 'button');\r\n            btn.innerHTML = 'confirm dropoff';\r\n            btn2.innerHTML = 'cancel';\r\n            L.DomEvent.on(btn, 'click', async () => {\r\n                await this.condrop()\r\n            });\r\n            L.DomEvent.on(btn2, 'click', () => {\r\n                this.reqpickuploc.remove()\r\n                this.thert.remove()\r\n                this.thepopup.remove()\r\n                this.pickuploc.remove()\r\n                this.otherreqstatus=false\r\n            });\r\n            var newDiv = document.createElement(\"div\");\r\n            newDiv.appendChild(btn);\r\n            newDiv.appendChild(btn2);\r\n            this.thepopup.setContent(newDiv)\r\n            this.thepopup.openOn(this.map)\r\n        },\r\n        changepop(){\r\n            this.thepopup.setLatLng([this.pickuploc.getLatLng().lat+(0.003/(this.map.getZoom()**9))*(13**9), this.pickuploc.getLatLng().lng])\r\n        },\r\n        async setpickup(){\r\n            if(this.theuserid==undefined){\r\n                this.requested=false\r\n            }\r\n            else{\r\n                this.givingans=await this.getgive()\r\n                console.log(this.givingans.requested)\r\n                if(this.givingans.requested==undefined){\r\n                    this.requested=false\r\n                }\r\n                else if(this.givingans.requested=='False'){\r\n                    this.requested=false\r\n                }\r\n                else{\r\n                    this.requested=true\r\n                }\r\n            } \r\n            if(this.requested==false&&this.otherreqstatus==false){\r\n                this.otherreqstatus=true\r\n                let pinIcon = L.icon({\r\n                    iconUrl: image,\r\n                    iconSize: [20,20],\r\n                    iconAnchor: [10.5,20]\r\n                });\r\n                this.pickuploc = L.marker([this.lat, this.long], {\r\n                    icon: pinIcon,\r\n                    draggable: 'True'\r\n                }).addTo(this.map);\r\n                this.provider = new OpenStreetMapProvider();\r\n                this.searchControl = new GeoSearchControl({\r\n                    provider: this.provider,\r\n                    showMarker: false\r\n                });\r\n                this.map.addControl(this.searchControl);\r\n                this.map.on('geosearch/showlocation', this.work);\r\n                //this.map.openPopup('<p>test</p>',[this.pickuploc.getLatLng().lat+0.003,this.pickuploc.getLatLng().lng],{closeButton: false, closeOnClick: false})\r\n                this.thepopup=L.popup({closeButton:false,closeOnClick:false});\r\n                this.thepopup.setLatLng([this.lat+(0.003/(this.map.getZoom()**9))*(13**9), this.long])\r\n                this.map.on('zoomend',this.changepop)\r\n                //this.map.openPopup('<b-button id=\"test\" @click=\"test\">test</b-button>',[val.latlng.lat+0.003,val.latlng.lng],{closeButton: false, closeOnClick: false})\r\n                var container = L.DomUtil.create('div')\r\n                var btn = L.DomUtil.create('button', '', container);\r\n                var btn2 = L.DomUtil.create('button', '', container);\r\n                btn.setAttribute('type', 'button');\r\n                btn2.setAttribute('type', 'button');\r\n                btn.innerHTML = 'confirm pickup';\r\n                btn2.innerHTML = 'cancel';\r\n                L.DomEvent.on(btn, 'click', () => {\r\n                    this.conpick()\r\n                });\r\n                L.DomEvent.on(btn2, 'click', () => {\r\n                    this.pickuploc.remove()\r\n                });\r\n                var newDiv = document.createElement(\"div\");\r\n                newDiv.appendChild(btn);\r\n                newDiv.appendChild(btn2);\r\n                this.thepopup.setContent(newDiv)\r\n                this.thepopup.openOn(this.map)\r\n                this.pickuploc.on('move',this.confirm)\r\n            }\r\n            else if(this.otherreqstatus==true){\r\n                alert('Already requesting, drag pin to set pickup location')\r\n            }\r\n            else{\r\n                this.requested=false\r\n                await fetch('https://safe-river-16409.herokuapp.com/api/changerequestedfalse',{ credentials: 'include'})\r\n                this.reqstatus='request ride'\r\n                this.otherreqstatus=false\r\n                if(this.reqpickuploc!='test'){\r\n                    this.reqpickuploc.remove()\r\n                    this.reqdropoffloc.remove()\r\n                    this.thert.remove()\r\n                }\r\n            }\r\n        },\r\n        async setupmap(){\r\n            this.map = L.map('mapContainer').setView([this.lat, this.long], 13);\r\n            L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n                maxZoom: 18,\r\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                    'Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n                id: 'mapbox/streets-v11',\r\n                tileSize: 512,\r\n                zoomOffset: -1\r\n            }).addTo(this.map);\r\n            this.userposition = L.circle([this.lat, this.long], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(this.map);\r\n            const thedat=await this.getrides()\r\n            var j=0\r\n            //console.log(thedat[0].Location36n79[0])\r\n            for(let i=0;i<Object.values(thedat[0].Location36n79[0]).length;i++){\r\n                this.values=Object.values(thedat[0].Location36n79[0])\r\n                this.inds.push(j)\r\n                //console.log(values[i])\r\n                if(this.values[i][0].requestedpickuplat!=\"\"&&this.values[i][0].requestedpickuplat!=undefined){\r\n                    if(this.values[i][0].name!=this.theuserid){\r\n                        var polygon = L.polygon([\r\n                            [this.values[i][0].requestedpickuplat, this.values[i][0].requestedpickuplong],\r\n                            [this.values[i][0].requesteddropofflat, this.values[i][0].requesteddropofflong]\r\n                        ]).addTo(this.map);\r\n                        //console.log(typeof(values[i][0]))\r\n                        this.thegiveridepopups.push(L.popup({closeButton:false,closeOnClick:false}))\r\n                        //values[i][0].append({ind:j})\r\n                        var container=L.DomUtil.create('div')\r\n                        this.thebtns.push(L.DomUtil.create('button', '', container));\r\n                        this.thebtns[j].setAttribute('type', 'button');\r\n                        this.thebtns[j].innerHTML = 'give ride';\r\n                        L.DomEvent.on(this.thebtns[j], 'click', () => {\r\n                            this.giveride(this.inds[i],this.values[i][0].name,this.values[i][0].acname,this.values[i][0].requestedpickuplat,this.values[i][0].requestedpickuplong,this.values[i][0].requesteddropofflat,this.values[i][0].requesteddropofflong)\r\n                        });\r\n                        this.yesbtns.push(L.DomUtil.create('button', '', container));\r\n                        this.yesbtns[j].setAttribute('type', 'button');\r\n                        this.yesbtns[j].innerHTML = 'Yes';\r\n                        this.nobtns.push(L.DomUtil.create('button', '', container));\r\n                        this.nobtns[j].setAttribute('type', 'button');\r\n                        this.nobtns[j].innerHTML = 'No';\r\n                        this.okbtns.push(L.DomUtil.create('button', '', container));\r\n                        this.okbtns[j].setAttribute('type', 'button');\r\n                        this.okbtns[j].innerHTML = 'OK';\r\n                        this.thegiveridepopups[j].setContent(this.thebtns[j])\r\n                        polygon.bindPopup(this.thegiveridepopups[j]);\r\n                        let circle = L.circle([this.values[i][0].requestedpickuplat, this.values[i][0].requestedpickuplong], {\r\n                            color: 'blue',\r\n                            fillColor: 'blue',\r\n                            fillOpacity: 0.5,\r\n                            radius: 25,\r\n                        }).addTo(this.map);\r\n                        circle.bindPopup(this.thegiveridepopups[j])\r\n                        let circle2 = L.circle([this.values[i][0].requesteddropofflat, this.values[i][0].requesteddropofflong], {\r\n                            color: 'red',\r\n                            fillColor: 'red',\r\n                            fillOpacity: 0.5,\r\n                            radius: 25,\r\n                        }).addTo(this.map);\r\n                        circle2.bindPopup(this.thegiveridepopups[j])\r\n                        j+=1\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        addLink (newLink) {\r\n            console.log(`EVENT: add new item ${newLink.name} to ${this.linkGroup.title}`);\r\n            this.$emit('new-link', this.groupId, newLink);\r\n            // may also do additional work related to logging, interactivity, or other tracking changes\r\n        }\r\n    },\r\n    async mounted () {\r\n        const theuserid=await this.use()\r\n        this.theuserid=theuserid.id\r\n        console.log(this.theuserid)\r\n        const newlat=await this.allLinks.getnewlat(this.theuserid);\r\n        const newlng=await this.allLinks.getnewlng(this.theuserid);\r\n        this.lat=newlat\r\n        this.long=newlng\r\n        this.setupmap();\r\n        this.isloading=''\r\n        if(this.theuserid!=undefined){\r\n            this.givingans=await this.getgive()\r\n            this.score=await this.getscore()\r\n            if(this.givingans.requested=='True'){\r\n                this.reqstatus='Cancel request (5 mile penalty)'\r\n                this.requested=true\r\n                this.reqpickuploc=L.circle([this.givingans.requestedpickuplat, this.givingans.requestedpickuplong], {\r\n                    color: 'green',\r\n                    fillColor: 'green',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                this.thert=L.polygon([\r\n                    [this.givingans.requestedpickuplat, this.givingans.requestedpickuplong],\r\n                    [this.givingans.requesteddropofflat, this.givingans.requesteddropofflong]\r\n                ]).addTo(this.map);\r\n                this.reqdropoffloc=L.circle([this.givingans.requesteddropofflat, this.givingans.requesteddropofflong], {\r\n                    color: 'red',\r\n                    fillColor: 'red',\r\n                    fillOpacity: 0.5,\r\n                    radius: 25,\r\n                }).addTo(this.map);\r\n                await this.checkriderdest()\r\n            }\r\n            else{\r\n                this.requested=false\r\n            }\r\n            if(this.givingans.giving=='True'){\r\n                this.giving==true\r\n                await this.checkdest()\r\n            }\r\n            else{\r\n                this.giving=false\r\n            }\r\n        }\r\n        //const newlng=await this.allLinks.getlong();\r\n        /*\r\n        var thelat=0\r\n        var thelong=0\r\n        console.log(999)\r\n        function success(position) {\r\n            thelat=position.coords.latitude;\r\n            thelong=position.coords.longitude;\r\n        }\r\n        \r\n        function error() {\r\n            console.log('Unable to retrieve your location');\r\n        }\r\n        \r\n        if(!navigator.geolocation) {\r\n            console.log('Geolocation is not supported by your browser');\r\n        } else {\r\n            navigator.geolocation.getCurrentPosition(success, error);\r\n        }\r\n        const mymap = L.map('mapid').setView([thelat, thelong], 13);\r\n        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\r\n            maxZoom: 18,\r\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\r\n                'Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n            id: 'mapbox/streets-v11',\r\n            tileSize: 512,\r\n            zoomOffset: -1\r\n        }).addTo(mymap);\r\n        for(let i=1;i<this.allLinks.data.length;i++){\r\n            var polygon = L.polygon([\r\n            [this.allLinks.data[i].requestedpickuplat, this.allLinks.data.users[i].requestedpickuplong],\r\n            [this.allLinks.data[i].requesteddropofflat, this.allLinks.data.users[i].requesteddropofflong]\r\n            ]).addTo(mymap);\r\n            polygon.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle = L.circle([this.allLinks.data[i].requestedpickuplat, this.allLinks.data[i].requestedpickuplong], {\r\n                color: 'blue',\r\n                fillColor: 'blue',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n            let circle2 = L.circle([this.allLinks.data[i].requesteddropofflat, this.allLinks.data[i].requesteddropofflong], {\r\n                color: 'red',\r\n                fillColor: 'red',\r\n                fillOpacity: 0.5,\r\n                radius: 25,\r\n            }).addTo(mymap);\r\n            circle2.bindPopup('<h4>'+this.allLinks.data[i].name+'</h4>').openPopup();\r\n        }\r\n        */\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n#mapContainer {\r\n width: 80vw;\r\n height: 100vh;\r\n}\r\n#request {\r\n    position: absolute;\r\n    bottom: 370px;\r\n    width: 10%;\r\n    z-index: 9999;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}